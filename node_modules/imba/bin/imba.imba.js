var d_=Object.create;var as=Object.defineProperty;var p_=Object.getOwnPropertyDescriptor;var m_=Object.getOwnPropertyNames;var g_=Object.getPrototypeOf,b_=Object.prototype.hasOwnProperty;var y_=(t,e,r)=>e in t?as(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var v_=(t,e)=>()=>(t&&(e=t(t=0)),e);var y=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Tc=(t,e)=>{for(var r in e)as(t,r,{get:e[r],enumerable:!0})},w_=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of m_(e))!b_.call(t,s)&&s!==r&&as(t,s,{get:()=>e[s],enumerable:!(i=p_(e,s))||i.enumerable});return t};var $=(t,e,r)=>(r=t!=null?d_(g_(t)):{},w_(e||!t||!t.__esModule?as(r,"default",{value:t,enumerable:!0}):r,t));var oo=(t,e,r)=>(y_(t,typeof e!="symbol"?e+"":e,r),r);var Gc=y((Kt,Bc)=>{var O_=require("events").EventEmitter,co=require("child_process").spawn,Vt=require("path"),ho=require("fs"),fi=class{constructor(e,r){this.flags=e,this.required=e.includes("<"),this.optional=e.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(e),this.mandatory=!1;let i=Hc(e);this.short=i.shortFlag,this.long=i.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.description=r||"",this.defaultValue=void 0}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return A_(this.name().replace(/^no-/,""))}is(e){return this.short===e||this.long===e}},vr=class extends Error{constructor(e,r,i){super(i),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=r,this.exitCode=e,this.nestedError=void 0}},wr=class extends O_{constructor(e){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._args=[],this.rawArgs=null,this._scriptPath=null,this._name=e||"",this._optionValues={},this._storeOptionsAsProperties=!0,this._storeOptionsAsPropertiesCalled=!1,this._passCommandToAction=!0,this._actionResults=[],this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._hidden=!1,this._hasHelpOption=!0,this._helpFlags="-h, --help",this._helpDescription="display help for command",this._helpShortFlag="-h",this._helpLongFlag="--help",this._hasImplicitHelpCommand=void 0,this._helpCommandName="help",this._helpCommandnameAndArgs="help [command]",this._helpCommandDescription="display help for command"}command(e,r,i){let s=r,o=i;typeof s=="object"&&s!==null&&(o=s,s=null),o=o||{};let n=e.split(/ +/),a=this.createCommand(n.shift());return s&&(a.description(s),a._executableHandler=!0),o.isDefault&&(this._defaultCommandName=a._name),a._hidden=!!(o.noHelp||o.hidden),a._hasHelpOption=this._hasHelpOption,a._helpFlags=this._helpFlags,a._helpDescription=this._helpDescription,a._helpShortFlag=this._helpShortFlag,a._helpLongFlag=this._helpLongFlag,a._helpCommandName=this._helpCommandName,a._helpCommandnameAndArgs=this._helpCommandnameAndArgs,a._helpCommandDescription=this._helpCommandDescription,a._exitCallback=this._exitCallback,a._storeOptionsAsProperties=this._storeOptionsAsProperties,a._passCommandToAction=this._passCommandToAction,a._combineFlagAndOptionalValue=this._combineFlagAndOptionalValue,a._executableFile=o.executableFile||null,this.commands.push(a),a._parseExpectedArgs(n),a.parent=this,s?this:a}createCommand(e){return new wr(e)}addCommand(e,r){if(!e._name)throw new Error("Command passed to .addCommand() must have a name");function i(s){s.forEach(o=>{if(o._executableHandler&&!o._executableFile)throw new Error(`Must specify executableFile for deeply nested executable: ${o.name()}`);i(o.commands)})}return i(e.commands),r=r||{},r.isDefault&&(this._defaultCommandName=e._name),(r.noHelp||r.hidden)&&(e._hidden=!0),this.commands.push(e),e.parent=this,this}arguments(e){return this._parseExpectedArgs(e.split(/ +/))}addHelpCommand(e,r){return e===!1?this._hasImplicitHelpCommand=!1:(this._hasImplicitHelpCommand=!0,typeof e=="string"&&(this._helpCommandName=e.split(" ")[0],this._helpCommandnameAndArgs=e),this._helpCommandDescription=r||this._helpCommandDescription),this}_lazyHasImplicitHelpCommand(){return this._hasImplicitHelpCommand===void 0&&(this._hasImplicitHelpCommand=this.commands.length&&!this._actionHandler&&!this._findCommand("help")),this._hasImplicitHelpCommand}_parseExpectedArgs(e){if(!!e.length)return e.forEach(r=>{let i={required:!1,name:"",variadic:!1};switch(r[0]){case"<":i.required=!0,i.name=r.slice(1,-1);break;case"[":i.name=r.slice(1,-1);break}i.name.length>3&&i.name.slice(-3)==="..."&&(i.variadic=!0,i.name=i.name.slice(0,-3)),i.name&&this._args.push(i)}),this._args.forEach((r,i)=>{if(r.variadic&&i<this._args.length-1)throw new Error(`only the last argument can be variadic '${r.name}'`)}),this}exitOverride(e){return e?this._exitCallback=e:this._exitCallback=r=>{if(r.code!=="commander.executeSubCommandAsync")throw r},this}_exit(e,r,i){this._exitCallback&&this._exitCallback(new vr(e,r,i)),process.exit(e)}action(e){let r=i=>{let s=this._args.length,o=i.slice(0,s);this._passCommandToAction?o[s]=this:o[s]=this.opts(),i.length>s&&o.push(i.slice(s));let n=e.apply(this,o),a=this;for(;a.parent;)a=a.parent;a._actionResults.push(n)};return this._actionHandler=r,this}_checkForOptionNameClash(e){if(!this._storeOptionsAsProperties||this._storeOptionsAsPropertiesCalled||e.name()==="help"||this._getOptionValue(e.attributeName())===void 0)return;let i=!0;if(e.negate){let s=e.long.replace(/^--no-/,"--");i=!this._findOption(s)}else if(e.long){let s=e.long.replace(/^--/,"--no-");i=!this._findOption(s)}if(i)throw new Error(`option '${e.name()}' clashes with existing property '${e.attributeName()}' on Command
- call storeOptionsAsProperties(false) to store option values safely,
- or call storeOptionsAsProperties(true) to suppress this check,
- or change option name

Read more on https://git.io/JJc0W`)}_optionEx(e,r,i,s,o){let n=new fi(r,i),a=n.name(),l=n.attributeName();if(n.mandatory=!!e.mandatory,this._checkForOptionNameClash(n),typeof s!="function")if(s instanceof RegExp){let u=s;s=(c,f)=>{let h=u.exec(c);return h?h[0]:f}}else o=s,s=null;if(n.negate||n.optional||n.required||typeof o=="boolean"){if(n.negate){let u=n.long.replace(/^--no-/,"--");o=this._findOption(u)?this._getOptionValue(l):!0}o!==void 0&&(this._setOptionValue(l,o),n.defaultValue=o)}return this.options.push(n),this.on("option:"+a,u=>{let c=this._getOptionValue(l);u!==null&&s?u=s(u,c===void 0?o:c):u!==null&&n.variadic&&(c===o||!Array.isArray(c)?u=[u]:u=c.concat(u)),typeof c=="boolean"||typeof c>"u"?u==null?this._setOptionValue(l,n.negate?!1:o||!0):this._setOptionValue(l,u):u!==null&&this._setOptionValue(l,n.negate?!1:u)}),this}option(e,r,i,s){return this._optionEx({},e,r,i,s)}requiredOption(e,r,i,s){return this._optionEx({mandatory:!0},e,r,i,s)}combineFlagAndOptionalValue(e){return this._combineFlagAndOptionalValue=e===void 0||e,this}allowUnknownOption(e){return this._allowUnknownOption=e===void 0||e,this}storeOptionsAsProperties(e){if(this._storeOptionsAsPropertiesCalled=!0,this._storeOptionsAsProperties=e===void 0||e,this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");return this}passCommandToAction(e){return this._passCommandToAction=e===void 0||e,this}_setOptionValue(e,r){this._storeOptionsAsProperties?this[e]=r:this._optionValues[e]=r}_getOptionValue(e){return this._storeOptionsAsProperties?this[e]:this._optionValues[e]}parse(e,r){if(e!==void 0&&!Array.isArray(e))throw new Error("first parameter to parse must be array or undefined");r=r||{},e===void 0&&(e=process.argv,process.versions&&process.versions.electron&&(r.from="electron")),this.rawArgs=e.slice();let i;switch(r.from){case void 0:case"node":this._scriptPath=e[1],i=e.slice(2);break;case"electron":process.defaultApp?(this._scriptPath=e[1],i=e.slice(2)):i=e.slice(1);break;case"user":i=e.slice(0);break;default:throw new Error(`unexpected parse option { from: '${r.from}' }`)}return!this._scriptPath&&process.mainModule&&(this._scriptPath=process.mainModule.filename),this._name=this._name||this._scriptPath&&Vt.basename(this._scriptPath,Vt.extname(this._scriptPath)),this._parseCommand([],i),this}parseAsync(e,r){return this.parse(e,r),Promise.all(this._actionResults).then(()=>this)}_executeSubCommand(e,r){r=r.slice();let i=!1,s=[".js",".ts",".tsx",".mjs"];this._checkForMissingMandatoryOptions();let o=this._scriptPath;!o&&process.mainModule&&(o=process.mainModule.filename);let n;try{let h=ho.realpathSync(o);n=Vt.dirname(h)}catch{n="."}let a=Vt.basename(o,Vt.extname(o))+"-"+e._name;e._executableFile&&(a=e._executableFile);let l=Vt.join(n,a);ho.existsSync(l)?a=l:s.forEach(h=>{ho.existsSync(`${l}${h}`)&&(a=`${l}${h}`)}),i=s.includes(Vt.extname(a));let u;process.platform!=="win32"?i?(r.unshift(a),r=$c(process.execArgv).concat(r),u=co(process.argv[0],r,{stdio:"inherit"})):u=co(a,r,{stdio:"inherit"}):(r.unshift(a),r=$c(process.execArgv).concat(r),u=co(process.execPath,r,{stdio:"inherit"})),["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach(h=>{process.on(h,()=>{u.killed===!1&&u.exitCode===null&&u.kill(h)})});let f=this._exitCallback;f?u.on("close",()=>{f(new vr(process.exitCode||0,"commander.executeSubCommandAsync","(close)"))}):u.on("close",process.exit.bind(process)),u.on("error",h=>{if(h.code==="ENOENT"){let d=`'${a}' does not exist
 - if '${e._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead
 - if the default executable name is not suitable, use the executableFile option to supply a custom name`;throw new Error(d)}else if(h.code==="EACCES")throw new Error(`'${a}' not executable`);if(!f)process.exit(1);else{let d=new vr(1,"commander.executeSubCommandAsync","(error)");d.nestedError=h,f(d)}}),this.runningCommand=u}_dispatchSubcommand(e,r,i){let s=this._findCommand(e);s||this._helpAndError(),s._executableHandler?this._executeSubCommand(s,r.concat(i)):s._parseCommand(r,i)}_parseCommand(e,r){let i=this.parseOptions(r);if(e=e.concat(i.operands),r=i.unknown,this.args=e.concat(r),e&&this._findCommand(e[0]))this._dispatchSubcommand(e[0],e.slice(1),r);else if(this._lazyHasImplicitHelpCommand()&&e[0]===this._helpCommandName)e.length===1?this.help():this._dispatchSubcommand(e[1],[],[this._helpLongFlag]);else if(this._defaultCommandName)Lc(this,r),this._dispatchSubcommand(this._defaultCommandName,e,r);else if(this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName&&this._helpAndError(),Lc(this,i.unknown),this._checkForMissingMandatoryOptions(),i.unknown.length>0&&this.unknownOption(i.unknown[0]),this._actionHandler){let s=this.args.slice();this._args.forEach((o,n)=>{o.required&&s[n]==null?this.missingArgument(o.name):o.variadic&&(s[n]=s.splice(n))}),this._actionHandler(s),this.emit("command:"+this.name(),e,r)}else e.length?this._findCommand("*")?this._dispatchSubcommand("*",e,r):this.listenerCount("command:*")?this.emit("command:*",e,r):this.commands.length&&this.unknownCommand():this.commands.length&&this._helpAndError()}_findCommand(e){if(!!e)return this.commands.find(r=>r._name===e||r._aliases.includes(e))}_findOption(e){return this.options.find(r=>r.is(e))}_checkForMissingMandatoryOptions(){for(let e=this;e;e=e.parent)e.options.forEach(r=>{r.mandatory&&e._getOptionValue(r.attributeName())===void 0&&e.missingMandatoryOptionValue(r)})}parseOptions(e){let r=[],i=[],s=r,o=e.slice();function n(l){return l.length>1&&l[0]==="-"}let a=null;for(;o.length;){let l=o.shift();if(l==="--"){s===i&&s.push(l),s.push(...o);break}if(a&&!n(l)){this.emit(`option:${a.name()}`,l);continue}if(a=null,n(l)){let u=this._findOption(l);if(u){if(u.required){let c=o.shift();c===void 0&&this.optionMissingArgument(u),this.emit(`option:${u.name()}`,c)}else if(u.optional){let c=null;o.length>0&&!n(o[0])&&(c=o.shift()),this.emit(`option:${u.name()}`,c)}else this.emit(`option:${u.name()}`);a=u.variadic?u:null;continue}}if(l.length>2&&l[0]==="-"&&l[1]!=="-"){let u=this._findOption(`-${l[1]}`);if(u){u.required||u.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${u.name()}`,l.slice(2)):(this.emit(`option:${u.name()}`),o.unshift(`-${l.slice(2)}`));continue}}if(/^--[^=]+=/.test(l)){let u=l.indexOf("="),c=this._findOption(l.slice(0,u));if(c&&(c.required||c.optional)){this.emit(`option:${c.name()}`,l.slice(u+1));continue}}l.length>1&&l[0]==="-"&&(s=i),s.push(l)}return{operands:r,unknown:i}}opts(){if(this._storeOptionsAsProperties){let e={},r=this.options.length;for(let i=0;i<r;i++){let s=this.options[i].attributeName();e[s]=s===this._versionOptionName?this._version:this[s]}return e}return this._optionValues}missingArgument(e){let r=`error: missing required argument '${e}'`;console.error(r),this._exit(1,"commander.missingArgument",r)}optionMissingArgument(e,r){let i;r?i=`error: option '${e.flags}' argument missing, got '${r}'`:i=`error: option '${e.flags}' argument missing`,console.error(i),this._exit(1,"commander.optionMissingArgument",i)}missingMandatoryOptionValue(e){let r=`error: required option '${e.flags}' not specified`;console.error(r),this._exit(1,"commander.missingMandatoryOptionValue",r)}unknownOption(e){if(this._allowUnknownOption)return;let r=`error: unknown option '${e}'`;console.error(r),this._exit(1,"commander.unknownOption",r)}unknownCommand(){let e=[this.name()];for(let s=this.parent;s;s=s.parent)e.unshift(s.name());let r=e.join(" "),i=`error: unknown command '${this.args[0]}'.`+(this._hasHelpOption?` See '${r} ${this._helpLongFlag}'.`:"");console.error(i),this._exit(1,"commander.unknownCommand",i)}version(e,r,i){if(e===void 0)return this._version;this._version=e,r=r||"-V, --version",i=i||"output the version number";let s=new fi(r,i);return this._versionOptionName=s.attributeName(),this.options.push(s),this.on("option:"+s.name(),()=>{process.stdout.write(e+`
`),this._exit(0,"commander.version",e)}),this}description(e,r){return e===void 0&&r===void 0?this._description:(this._description=e,this._argsDescription=r,this)}alias(e){if(e===void 0)return this._aliases[0];let r=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler&&(r=this.commands[this.commands.length-1]),e===r._name)throw new Error("Command alias can't be the same as its name");return r._aliases.push(e),this}aliases(e){return e===void 0?this._aliases:(e.forEach(r=>this.alias(r)),this)}usage(e){if(e===void 0){if(this._usage)return this._usage;let r=this._args.map(i=>Dc(i));return[].concat(this.options.length||this._hasHelpOption?"[options]":[],this.commands.length?"[command]":[],this._args.length?r:[]).join(" ")}return this._usage=e,this}name(e){return e===void 0?this._name:(this._name=e,this)}prepareCommands(){let e=this.commands.filter(r=>!r._hidden).map(r=>{let i=r._args.map(s=>Dc(s)).join(" ");return[r._name+(r._aliases[0]?"|"+r._aliases[0]:"")+(r.options.length?" [options]":"")+(i?" "+i:""),r._description]});return this._lazyHasImplicitHelpCommand()&&e.push([this._helpCommandnameAndArgs,this._helpCommandDescription]),e}largestCommandLength(){return this.prepareCommands().reduce((r,i)=>Math.max(r,i[0].length),0)}largestOptionLength(){let e=[].slice.call(this.options);return e.push({flags:this._helpFlags}),e.reduce((r,i)=>Math.max(r,i.flags.length),0)}largestArgLength(){return this._args.reduce((e,r)=>Math.max(e,r.name.length),0)}padWidth(){let e=this.largestOptionLength();return this._argsDescription&&this._args.length&&this.largestArgLength()>e&&(e=this.largestArgLength()),this.commands&&this.commands.length&&this.largestCommandLength()>e&&(e=this.largestCommandLength()),e}optionHelp(){let e=this.padWidth(),i=(process.stdout.columns||80)-e-4;function s(l,u){return fo(l,e)+"  "+Nc(u,i,e+2)}let o=this.options.map(l=>{let u=l.description+(!l.negate&&l.defaultValue!==void 0?" (default: "+JSON.stringify(l.defaultValue)+")":"");return s(l.flags,u)}),n=this._hasHelpOption&&this._helpShortFlag&&!this._findOption(this._helpShortFlag),a=this._hasHelpOption&&!this._findOption(this._helpLongFlag);if(n||a){let l=this._helpFlags;n?a||(l=this._helpShortFlag):l=this._helpLongFlag,o.push(s(l,this._helpDescription))}return o.join(`
`)}commandHelp(){if(!this.commands.length&&!this._lazyHasImplicitHelpCommand())return"";let e=this.prepareCommands(),r=this.padWidth(),s=(process.stdout.columns||80)-r-4;return["Commands:",e.map(o=>{let n=o[1]?"  "+o[1]:"";return(n?fo(o[0],r):o[0])+Nc(n,s,r+2)}).join(`
`).replace(/^/gm,"  "),""].join(`
`)}helpInformation(){let e=[];if(this._description){e=[this._description,""];let l=this._argsDescription;if(l&&this._args.length){let u=this.padWidth(),f=(process.stdout.columns||80)-u-5;e.push("Arguments:"),this._args.forEach(h=>{e.push("  "+fo(h.name,u)+"  "+Fc(l[h.name]||"",f,u+4))}),e.push("")}}let r=this._name;this._aliases[0]&&(r=r+"|"+this._aliases[0]);let i="";for(let l=this.parent;l;l=l.parent)i=l.name()+" "+i;let s=["Usage: "+i+r+" "+this.usage(),""],o=[],n=this.commandHelp();n&&(o=[n]);let a=[];return(this._hasHelpOption||this.options.length>0)&&(a=["Options:",""+this.optionHelp().replace(/^/gm,"  "),""]),s.concat(e).concat(a).concat(o).join(`
`)}outputHelp(e){e||(e=i=>i);let r=e(this.helpInformation());if(typeof r!="string"&&!Buffer.isBuffer(r))throw new Error("outputHelp callback must return a string or a Buffer");process.stdout.write(r),this.emit(this._helpLongFlag)}helpOption(e,r){if(typeof e=="boolean")return this._hasHelpOption=e,this;this._helpFlags=e||this._helpFlags,this._helpDescription=r||this._helpDescription;let i=Hc(this._helpFlags);return this._helpShortFlag=i.shortFlag,this._helpLongFlag=i.longFlag,this}help(e){this.outputHelp(e),this._exit(process.exitCode||0,"commander.help","(outputHelp)")}_helpAndError(){this.outputHelp(),this._exit(1,"commander.help","(outputHelp)")}};Kt=Bc.exports=new wr;Kt.program=Kt;Kt.Command=wr;Kt.Option=fi;Kt.CommanderError=vr;function A_(t){return t.split("-").reduce((e,r)=>e+r[0].toUpperCase()+r.slice(1))}function fo(t,e){let r=Math.max(0,e-t.length);return t+Array(r+1).join(" ")}function Fc(t,e,r){let i=new RegExp(".{1,"+(e-1)+"}([\\s​]|$)|[^\\s​]+?([\\s​]|$)","g");return(t.match(i)||[]).map((o,n)=>(o.slice(-1)===`
`&&(o=o.slice(0,o.length-1)),(n>0&&r?Array(r+1).join(" "):"")+o.trimRight())).join(`
`)}function Nc(t,e,r){return t.match(/[\n]\s+/)||e<40?t:Fc(t,e,r)}function Lc(t,e){t._hasHelpOption&&e.find(i=>i===t._helpLongFlag||i===t._helpShortFlag)&&(t.outputHelp(),t._exit(0,"commander.helpDisplayed","(outputHelp)"))}function Dc(t){let e=t.name+(t.variadic===!0?"...":"");return t.required?"<"+e+">":"["+e+"]"}function Hc(t){let e,r,i=t.split(/[ |,]+/);return i.length>1&&!/^[[<]/.test(i[1])&&(e=i.shift()),r=i.shift(),!e&&/^-[^-]$/.test(r)&&(e=r,r=void 0),{shortFlag:e,longFlag:r}}function $c(t){return t.map(e=>{if(!e.startsWith("--inspect"))return e;let r,i="127.0.0.1",s="9229",o;return(o=e.match(/^(--inspect(-brk)?)$/))!==null?r=o[1]:(o=e.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null?(r=o[1],/^\d+$/.test(o[3])?s=o[3]:i=o[3]):(o=e.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null&&(r=o[1],i=o[3],s=o[4]),r&&s!=="0"?`${r}=${i}:${parseInt(s)+1}`:e})}});var po=y((vP,us)=>{var{lstat:C_,lstatSync:I_,readdir:zc,readdirSync:Uc,Dirent:T_}=require("fs"),{sep:Wc}=require("path");if(T_)us.exports={readdirSync:Uc,readdir:zc};else{let t=function(e,r){return{name:e,isFile:()=>r.isFile(),isDirectory:()=>r.isDirectory()}};yP=t,us.exports.readdir=function(e,r,i){zc(e,(s,o)=>{if(s)return process.nextTick(i,s,null);if(!o.length)return process.nextTick(i,null,[]);let n=[];for(let a=0;a<o.length;++a){let l=o[a],u=`${e}${Wc}${l}`;C_(u,(c,f)=>{if(c)return process.nextTick(i,c,null);n[n.length]=t(l,f),n.length===o.length&&process.nextTick(i,null,n)})}})},us.exports.readdirSync=function(e){let r=Uc(e),i=[];for(let s=0;s<r.length;++s){let o=r[s],n=`${e}${Wc}${o}`,a=I_(n);i[i.length]=t(o,a)}return i}}var yP});var Kc=y((wP,Vc)=>{var{sep:R_,normalize:P_}=require("path");function M_(t){let e=P_(t);return e.length>1&&e[e.length-1]===R_&&(e=e.substring(0,e.length-1)),e}Vc.exports={cleanPath:M_}});var Xc=y((xP,ue)=>{var{sep:q_}=require("path");ue.exports.getArray=function(t){return t.paths};ue.exports.getArrayGroup=function(){return[""].slice(0,0)};ue.exports.pushFileFilterAndCount=function(t){return function(e,r,i,s){t.some(o=>o(e))&&s.counts.files++}};ue.exports.pushFileFilter=function(t){return function(e,r){t.some(i=>i(e))&&r.push(e)}};ue.exports.pushFileCount=function(t,e,r,i){i.counts.files++};ue.exports.pushFile=function(t,e){e.push(t)};ue.exports.pushDir=function(t,e){e.push(t)};ue.exports.joinPathWithBasePath=function(t,e){return`${e}${q_}${t}`};ue.exports.joinPath=function(t){return t};ue.exports.walkDirExclude=function(t){return function(e,r,i,s,o,n){t(s,i,o)||ue.exports.walkDir(e,r,i,s,o,n)}};ue.exports.walkDir=function(t,e,r,i,s,o){e.queue++,e.counts.dirs++,t(e,r,s,o)};ue.exports.groupFiles=function(t,e,r){r.counts.files+=e.length,r.paths.push({dir:t,files:e})};ue.exports.empty=function(){};ue.exports.callbackInvokerOnlyCountsSync=function(t){return t.counts};ue.exports.callbackInvokerDefaultSync=function(t){return t.paths};ue.exports.callbackInvokerOnlyCountsAsync=Yc("counts");ue.exports.callbackInvokerDefaultAsync=Yc("paths");function j_(t,e,r,i){if(t){i||e(t,null);return}e(null,r)}function Yc(t){return function(e,r){j_(e,r.callback,r[t],r.options.suppressErrors)}}});var go=y((_P,sh)=>{var{sep:Jc,resolve:N_}=require("path"),{cleanPath:L_}=Kc(),Z=Xc(),D_={withFileTypes:!0};function $_(t,e,r,i){e.resolvePaths&&(t=N_(t)),e.normalizePath&&(t=L_(t));let s={paths:[""].slice(0,0),queue:0,counts:{files:0,dirs:0},options:e,callback:r};return Qc(e,i),{state:s,callbackInvoker:mo,dir:t}}function F_(t,e,r,i,s,o){Zc(r,e.paths),r===Jc&&(r="");let n=ih(e);for(var a=0;a<i.length;++a){let l=i[a];if(l.isFile()){let u=th(l.name,r);di(u,n,r,e)}else if(l.isDirectory()){let u=`${r}${Jc}${l.name}`;eh(t,e,u,l.name,s-1,o)}}rh(r,n,e)}function Qc(t,e){let{filters:r,onlyCountsVar:i,includeBasePath:s,includeDirs:o,groupVar:n,excludeFn:a}=t;H_(r,i),Zc=o?Z.pushDir:Z.empty,th=s?Z.joinPathWithBasePath:Z.joinPath,eh=a?Z.walkDirExclude(a):Z.walkDir,rh=n?Z.groupFiles:Z.empty,ih=n?Z.getArrayGroup:Z.getArray,B_(i,e)}sh.exports={buildFunctions:Qc,init:$_,walkSingleDir:F_,readdirOpts:D_};function H_(t,e){t.length&&e?di=Z.pushFileFilterAndCount(t):t.length?di=Z.pushFileFilter(t):e?di=Z.pushFileCount:di=Z.pushFile}function B_(t,e){t?mo=e?Z.callbackInvokerOnlyCountsSync:Z.callbackInvokerOnlyCountsAsync:mo=e?Z.callbackInvokerDefaultSync:Z.callbackInvokerDefaultAsync}var di=Z.empty,Zc=Z.empty,eh=Z.empty,th=Z.empty,rh=Z.empty,mo=Z.empty,ih=Z.empty});var lh=y((SP,ah)=>{var{readdir:G_}=po(),{init:z_,walkSingleDir:U_,readdirOpts:W_}=go();function V_(t,e){return new Promise((r,i)=>{nh(t,e,(s,o)=>{if(s)return i(s);r(o)})})}function nh(t,e,r){let{state:i,callbackInvoker:s,dir:o}=z_(t,e,r);oh(i,o,e.maxDepth,s)}function oh(t,e,r,i){if(r<0){--t.queue;return}G_(e,W_,function(s,o){if(s){--t.queue,i(s,t);return}U_(oh,t,e,o,r,i),--t.queue<0&&i(null,t)})}ah.exports={promise:V_,callback:nh}});var hh=y((kP,ch)=>{var{readdirSync:K_}=po(),{init:Y_,walkSingleDir:X_,readdirOpts:J_}=go();function Q_(t,e){let{state:r,callbackInvoker:i,dir:s}=Y_(t,e,null,!0);return uh(r,s,e.maxDepth),i(r)}function uh(t,e,r){if(!(r<0))try{let i=K_(e,J_);X_(uh,t,e,i,r)}catch(i){if(!t.options.suppressErrors)throw i}}ch.exports=Q_});var dh=y((EP,fh)=>{var{promise:Z_,callback:e1}=lh(),t1=hh();function cs(t,e){this.dir=t,this.options=e}cs.prototype.withPromise=function(){return Z_(this.dir,this.options)};cs.prototype.withCallback=function(t){e1(this.dir,this.options,t)};cs.prototype.sync=function(){return t1(this.dir,this.options)};fh.exports=cs});var pi=y((OP,yh)=>{"use strict";var r1=require("path"),Ke="\\\\/",ph=`[^${Ke}]`,at="\\.",i1="\\+",s1="\\?",hs="\\/",n1="(?=.)",mh="[^/]",bo=`(?:${hs}|$)`,gh=`(?:^|${hs})`,yo=`${at}{1,2}${bo}`,o1=`(?!${at})`,a1=`(?!${gh}${yo})`,l1=`(?!${at}{0,1}${bo})`,u1=`(?!${yo})`,c1=`[^.${hs}]`,h1=`${mh}*?`,bh={DOT_LITERAL:at,PLUS_LITERAL:i1,QMARK_LITERAL:s1,SLASH_LITERAL:hs,ONE_CHAR:n1,QMARK:mh,END_ANCHOR:bo,DOTS_SLASH:yo,NO_DOT:o1,NO_DOTS:a1,NO_DOT_SLASH:l1,NO_DOTS_SLASH:u1,QMARK_NO_DOT:c1,STAR:h1,START_ANCHOR:gh},f1={...bh,SLASH_LITERAL:`[${Ke}]`,QMARK:ph,STAR:`${ph}*?`,DOTS_SLASH:`${at}{1,2}(?:[${Ke}]|$)`,NO_DOT:`(?!${at})`,NO_DOTS:`(?!(?:^|[${Ke}])${at}{1,2}(?:[${Ke}]|$))`,NO_DOT_SLASH:`(?!${at}{0,1}(?:[${Ke}]|$))`,NO_DOTS_SLASH:`(?!${at}{1,2}(?:[${Ke}]|$))`,QMARK_NO_DOT:`[^.${Ke}]`,START_ANCHOR:`(?:^|[${Ke}])`,END_ANCHOR:`(?:[${Ke}]|$)`},d1={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};yh.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:d1,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:r1.sep,extglobChars(t){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(t){return t===!0?f1:bh}}});var mi=y(_e=>{"use strict";var p1=require("path"),m1=process.platform==="win32",{REGEX_BACKSLASH:g1,REGEX_REMOVE_BACKSLASH:b1,REGEX_SPECIAL_CHARS:y1,REGEX_SPECIAL_CHARS_GLOBAL:v1}=pi();_e.isObject=t=>t!==null&&typeof t=="object"&&!Array.isArray(t);_e.hasRegexChars=t=>y1.test(t);_e.isRegexChar=t=>t.length===1&&_e.hasRegexChars(t);_e.escapeRegex=t=>t.replace(v1,"\\$1");_e.toPosixSlashes=t=>t.replace(g1,"/");_e.removeBackslashes=t=>t.replace(b1,e=>e==="\\"?"":e);_e.supportsLookbehinds=()=>{let t=process.version.slice(1).split(".").map(Number);return t.length===3&&t[0]>=9||t[0]===8&&t[1]>=10};_e.isWindows=t=>t&&typeof t.windows=="boolean"?t.windows:m1===!0||p1.sep==="\\";_e.escapeLast=(t,e,r)=>{let i=t.lastIndexOf(e,r);return i===-1?t:t[i-1]==="\\"?_e.escapeLast(t,e,i-1):`${t.slice(0,i)}\\${t.slice(i)}`};_e.removePrefix=(t,e={})=>{let r=t;return r.startsWith("./")&&(r=r.slice(2),e.prefix="./"),r};_e.wrapOutput=(t,e={},r={})=>{let i=r.contains?"":"^",s=r.contains?"":"$",o=`${i}(?:${t})${s}`;return e.negated===!0&&(o=`(?:^(?!${o}).*$)`),o}});var Oh=y((CP,Eh)=>{"use strict";var vh=mi(),{CHAR_ASTERISK:vo,CHAR_AT:w1,CHAR_BACKWARD_SLASH:gi,CHAR_COMMA:x1,CHAR_DOT:wo,CHAR_EXCLAMATION_MARK:xo,CHAR_FORWARD_SLASH:kh,CHAR_LEFT_CURLY_BRACE:_o,CHAR_LEFT_PARENTHESES:So,CHAR_LEFT_SQUARE_BRACKET:_1,CHAR_PLUS:S1,CHAR_QUESTION_MARK:wh,CHAR_RIGHT_CURLY_BRACE:k1,CHAR_RIGHT_PARENTHESES:xh,CHAR_RIGHT_SQUARE_BRACKET:E1}=pi(),_h=t=>t===kh||t===gi,Sh=t=>{t.isPrefix!==!0&&(t.depth=t.isGlobstar?1/0:1)},O1=(t,e)=>{let r=e||{},i=t.length-1,s=r.parts===!0||r.scanToEnd===!0,o=[],n=[],a=[],l=t,u=-1,c=0,f=0,h=!1,d=!1,p=!1,g=!1,b=!1,m=!1,v=!1,k=!1,x=!1,E=!1,A=0,O,C,R={value:"",depth:0,isGlob:!1},T=()=>u>=i,w=()=>l.charCodeAt(u+1),N=()=>(O=C,l.charCodeAt(++u));for(;u<i;){C=N();let M;if(C===gi){v=R.backslashes=!0,C=N(),C===_o&&(m=!0);continue}if(m===!0||C===_o){for(A++;T()!==!0&&(C=N());){if(C===gi){v=R.backslashes=!0,N();continue}if(C===_o){A++;continue}if(m!==!0&&C===wo&&(C=N())===wo){if(h=R.isBrace=!0,p=R.isGlob=!0,E=!0,s===!0)continue;break}if(m!==!0&&C===x1){if(h=R.isBrace=!0,p=R.isGlob=!0,E=!0,s===!0)continue;break}if(C===k1&&(A--,A===0)){m=!1,h=R.isBrace=!0,E=!0;break}}if(s===!0)continue;break}if(C===kh){if(o.push(u),n.push(R),R={value:"",depth:0,isGlob:!1},E===!0)continue;if(O===wo&&u===c+1){c+=2;continue}f=u+1;continue}if(r.noext!==!0&&(C===S1||C===w1||C===vo||C===wh||C===xo)===!0&&w()===So){if(p=R.isGlob=!0,g=R.isExtglob=!0,E=!0,C===xo&&u===c&&(x=!0),s===!0){for(;T()!==!0&&(C=N());){if(C===gi){v=R.backslashes=!0,C=N();continue}if(C===xh){p=R.isGlob=!0,E=!0;break}}continue}break}if(C===vo){if(O===vo&&(b=R.isGlobstar=!0),p=R.isGlob=!0,E=!0,s===!0)continue;break}if(C===wh){if(p=R.isGlob=!0,E=!0,s===!0)continue;break}if(C===_1){for(;T()!==!0&&(M=N());){if(M===gi){v=R.backslashes=!0,N();continue}if(M===E1){d=R.isBracket=!0,p=R.isGlob=!0,E=!0;break}}if(s===!0)continue;break}if(r.nonegate!==!0&&C===xo&&u===c){k=R.negated=!0,c++;continue}if(r.noparen!==!0&&C===So){if(p=R.isGlob=!0,s===!0){for(;T()!==!0&&(C=N());){if(C===So){v=R.backslashes=!0,C=N();continue}if(C===xh){E=!0;break}}continue}break}if(p===!0){if(E=!0,s===!0)continue;break}}r.noext===!0&&(g=!1,p=!1);let D=l,he="",_="";c>0&&(he=l.slice(0,c),l=l.slice(c),f-=c),D&&p===!0&&f>0?(D=l.slice(0,f),_=l.slice(f)):p===!0?(D="",_=l):D=l,D&&D!==""&&D!=="/"&&D!==l&&_h(D.charCodeAt(D.length-1))&&(D=D.slice(0,-1)),r.unescape===!0&&(_&&(_=vh.removeBackslashes(_)),D&&v===!0&&(D=vh.removeBackslashes(D)));let S={prefix:he,input:t,start:c,base:D,glob:_,isBrace:h,isBracket:d,isGlob:p,isExtglob:g,isGlobstar:b,negated:k,negatedExtglob:x};if(r.tokens===!0&&(S.maxDepth=0,_h(C)||n.push(R),S.tokens=n),r.parts===!0||r.tokens===!0){let M;for(let P=0;P<o.length;P++){let L=M?M+1:c,B=o[P],K=t.slice(L,B);r.tokens&&(P===0&&c!==0?(n[P].isPrefix=!0,n[P].value=he):n[P].value=K,Sh(n[P]),S.maxDepth+=n[P].depth),(P!==0||K!=="")&&a.push(K),M=B}if(M&&M+1<t.length){let P=t.slice(M+1);a.push(P),r.tokens&&(n[n.length-1].value=P,Sh(n[n.length-1]),S.maxDepth+=n[n.length-1].depth)}S.slashes=o,S.parts=a}return S};Eh.exports=O1});var Ih=y((IP,Ch)=>{"use strict";var fs=pi(),Ce=mi(),{MAX_LENGTH:ds,POSIX_REGEX_SOURCE:A1,REGEX_NON_SPECIAL_CHARS:C1,REGEX_SPECIAL_CHARS_BACKREF:I1,REPLACEMENTS:Ah}=fs,T1=(t,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...t,e);t.sort();let r=`[${t.join("-")}]`;try{new RegExp(r)}catch{return t.map(s=>Ce.escapeRegex(s)).join("..")}return r},xr=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,ko=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");t=Ah[t]||t;let r={...e},i=typeof r.maxLength=="number"?Math.min(ds,r.maxLength):ds,s=t.length;if(s>i)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${i}`);let o={type:"bos",value:"",output:r.prepend||""},n=[o],a=r.capture?"":"?:",l=Ce.isWindows(e),u=fs.globChars(l),c=fs.extglobChars(u),{DOT_LITERAL:f,PLUS_LITERAL:h,SLASH_LITERAL:d,ONE_CHAR:p,DOTS_SLASH:g,NO_DOT:b,NO_DOT_SLASH:m,NO_DOTS_SLASH:v,QMARK:k,QMARK_NO_DOT:x,STAR:E,START_ANCHOR:A}=u,O=q=>`(${a}(?:(?!${A}${q.dot?g:f}).)*?)`,C=r.dot?"":b,R=r.dot?k:x,T=r.bash===!0?O(r):E;r.capture&&(T=`(${T})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let w={input:t,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:n};t=Ce.removePrefix(t,w),s=t.length;let N=[],D=[],he=[],_=o,S,M=()=>w.index===s-1,P=w.peek=(q=1)=>t[w.index+q],L=w.advance=()=>t[++w.index]||"",B=()=>t.slice(w.index+1),K=(q="",Q=0)=>{w.consumed+=q,w.index+=Q},Ve=q=>{w.output+=q.output!=null?q.output:q.value,K(q.value)},h_=()=>{let q=1;for(;P()==="!"&&(P(2)!=="("||P(3)==="?");)L(),w.start++,q++;return q%2===0?!1:(w.negated=!0,w.start++,!0)},ss=q=>{w[q]++,he.push(q)},Ut=q=>{w[q]--,he.pop()},G=q=>{if(_.type==="globstar"){let Q=w.braces>0&&(q.type==="comma"||q.type==="brace"),I=q.extglob===!0||N.length&&(q.type==="pipe"||q.type==="paren");q.type!=="slash"&&q.type!=="paren"&&!Q&&!I&&(w.output=w.output.slice(0,-_.output.length),_.type="star",_.value="*",_.output=T,w.output+=_.output)}if(N.length&&q.type!=="paren"&&(N[N.length-1].inner+=q.value),(q.value||q.output)&&Ve(q),_&&_.type==="text"&&q.type==="text"){_.value+=q.value,_.output=(_.output||"")+q.value;return}q.prev=_,n.push(q),_=q},ns=(q,Q)=>{let I={...c[Q],conditions:1,inner:""};I.prev=_,I.parens=w.parens,I.output=w.output;let F=(r.capture?"(":"")+I.open;ss("parens"),G({type:q,value:Q,output:w.output?"":p}),G({type:"paren",extglob:!0,value:L(),output:F}),N.push(I)},f_=q=>{let Q=q.close+(r.capture?")":""),I;if(q.type==="negate"){let F=T;if(q.inner&&q.inner.length>1&&q.inner.includes("/")&&(F=O(r)),(F!==T||M()||/^\)+$/.test(B()))&&(Q=q.close=`)$))${F}`),q.inner.includes("*")&&(I=B())&&/^\.[^\\/.]+$/.test(I)){let re=ko(I,{...e,fastpaths:!1}).output;Q=q.close=`)${re})${F})`}q.prev.type==="bos"&&(w.negatedExtglob=!0)}G({type:"paren",extglob:!0,value:S,output:Q}),Ut("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(t)){let q=!1,Q=t.replace(I1,(I,F,re,ye,le,no)=>ye==="\\"?(q=!0,I):ye==="?"?F?F+ye+(le?k.repeat(le.length):""):no===0?R+(le?k.repeat(le.length):""):k.repeat(re.length):ye==="."?f.repeat(re.length):ye==="*"?F?F+ye+(le?T:""):T:F?I:`\\${I}`);return q===!0&&(r.unescape===!0?Q=Q.replace(/\\/g,""):Q=Q.replace(/\\+/g,I=>I.length%2===0?"\\\\":I?"\\":"")),Q===t&&r.contains===!0?(w.output=t,w):(w.output=Ce.wrapOutput(Q,w,e),w)}for(;!M();){if(S=L(),S==="\0")continue;if(S==="\\"){let I=P();if(I==="/"&&r.bash!==!0||I==="."||I===";")continue;if(!I){S+="\\",G({type:"text",value:S});continue}let F=/^\\+/.exec(B()),re=0;if(F&&F[0].length>2&&(re=F[0].length,w.index+=re,re%2!==0&&(S+="\\")),r.unescape===!0?S=L():S+=L(),w.brackets===0){G({type:"text",value:S});continue}}if(w.brackets>0&&(S!=="]"||_.value==="["||_.value==="[^")){if(r.posix!==!1&&S===":"){let I=_.value.slice(1);if(I.includes("[")&&(_.posix=!0,I.includes(":"))){let F=_.value.lastIndexOf("["),re=_.value.slice(0,F),ye=_.value.slice(F+2),le=A1[ye];if(le){_.value=re+le,w.backtrack=!0,L(),!o.output&&n.indexOf(_)===1&&(o.output=p);continue}}}(S==="["&&P()!==":"||S==="-"&&P()==="]")&&(S=`\\${S}`),S==="]"&&(_.value==="["||_.value==="[^")&&(S=`\\${S}`),r.posix===!0&&S==="!"&&_.value==="["&&(S="^"),_.value+=S,Ve({value:S});continue}if(w.quotes===1&&S!=='"'){S=Ce.escapeRegex(S),_.value+=S,Ve({value:S});continue}if(S==='"'){w.quotes=w.quotes===1?0:1,r.keepQuotes===!0&&G({type:"text",value:S});continue}if(S==="("){ss("parens"),G({type:"paren",value:S});continue}if(S===")"){if(w.parens===0&&r.strictBrackets===!0)throw new SyntaxError(xr("opening","("));let I=N[N.length-1];if(I&&w.parens===I.parens+1){f_(N.pop());continue}G({type:"paren",value:S,output:w.parens?")":"\\)"}),Ut("parens");continue}if(S==="["){if(r.nobracket===!0||!B().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(xr("closing","]"));S=`\\${S}`}else ss("brackets");G({type:"bracket",value:S});continue}if(S==="]"){if(r.nobracket===!0||_&&_.type==="bracket"&&_.value.length===1){G({type:"text",value:S,output:`\\${S}`});continue}if(w.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(xr("opening","["));G({type:"text",value:S,output:`\\${S}`});continue}Ut("brackets");let I=_.value.slice(1);if(_.posix!==!0&&I[0]==="^"&&!I.includes("/")&&(S=`/${S}`),_.value+=S,Ve({value:S}),r.literalBrackets===!1||Ce.hasRegexChars(I))continue;let F=Ce.escapeRegex(_.value);if(w.output=w.output.slice(0,-_.value.length),r.literalBrackets===!0){w.output+=F,_.value=F;continue}_.value=`(${a}${F}|${_.value})`,w.output+=_.value;continue}if(S==="{"&&r.nobrace!==!0){ss("braces");let I={type:"brace",value:S,output:"(",outputIndex:w.output.length,tokensIndex:w.tokens.length};D.push(I),G(I);continue}if(S==="}"){let I=D[D.length-1];if(r.nobrace===!0||!I){G({type:"text",value:S,output:S});continue}let F=")";if(I.dots===!0){let re=n.slice(),ye=[];for(let le=re.length-1;le>=0&&(n.pop(),re[le].type!=="brace");le--)re[le].type!=="dots"&&ye.unshift(re[le].value);F=T1(ye,r),w.backtrack=!0}if(I.comma!==!0&&I.dots!==!0){let re=w.output.slice(0,I.outputIndex),ye=w.tokens.slice(I.tokensIndex);I.value=I.output="\\{",S=F="\\}",w.output=re;for(let le of ye)w.output+=le.output||le.value}G({type:"brace",value:S,output:F}),Ut("braces"),D.pop();continue}if(S==="|"){N.length>0&&N[N.length-1].conditions++,G({type:"text",value:S});continue}if(S===","){let I=S,F=D[D.length-1];F&&he[he.length-1]==="braces"&&(F.comma=!0,I="|"),G({type:"comma",value:S,output:I});continue}if(S==="/"){if(_.type==="dot"&&w.index===w.start+1){w.start=w.index+1,w.consumed="",w.output="",n.pop(),_=o;continue}G({type:"slash",value:S,output:d});continue}if(S==="."){if(w.braces>0&&_.type==="dot"){_.value==="."&&(_.output=f);let I=D[D.length-1];_.type="dots",_.output+=S,_.value+=S,I.dots=!0;continue}if(w.braces+w.parens===0&&_.type!=="bos"&&_.type!=="slash"){G({type:"text",value:S,output:f});continue}G({type:"dot",value:S,output:f});continue}if(S==="?"){if(!(_&&_.value==="(")&&r.noextglob!==!0&&P()==="("&&P(2)!=="?"){ns("qmark",S);continue}if(_&&_.type==="paren"){let F=P(),re=S;if(F==="<"&&!Ce.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(_.value==="("&&!/[!=<:]/.test(F)||F==="<"&&!/<([!=]|\w+>)/.test(B()))&&(re=`\\${S}`),G({type:"text",value:S,output:re});continue}if(r.dot!==!0&&(_.type==="slash"||_.type==="bos")){G({type:"qmark",value:S,output:x});continue}G({type:"qmark",value:S,output:k});continue}if(S==="!"){if(r.noextglob!==!0&&P()==="("&&(P(2)!=="?"||!/[!=<:]/.test(P(3)))){ns("negate",S);continue}if(r.nonegate!==!0&&w.index===0){h_();continue}}if(S==="+"){if(r.noextglob!==!0&&P()==="("&&P(2)!=="?"){ns("plus",S);continue}if(_&&_.value==="("||r.regex===!1){G({type:"plus",value:S,output:h});continue}if(_&&(_.type==="bracket"||_.type==="paren"||_.type==="brace")||w.parens>0){G({type:"plus",value:S});continue}G({type:"plus",value:h});continue}if(S==="@"){if(r.noextglob!==!0&&P()==="("&&P(2)!=="?"){G({type:"at",extglob:!0,value:S,output:""});continue}G({type:"text",value:S});continue}if(S!=="*"){(S==="$"||S==="^")&&(S=`\\${S}`);let I=C1.exec(B());I&&(S+=I[0],w.index+=I[0].length),G({type:"text",value:S});continue}if(_&&(_.type==="globstar"||_.star===!0)){_.type="star",_.star=!0,_.value+=S,_.output=T,w.backtrack=!0,w.globstar=!0,K(S);continue}let q=B();if(r.noextglob!==!0&&/^\([^?]/.test(q)){ns("star",S);continue}if(_.type==="star"){if(r.noglobstar===!0){K(S);continue}let I=_.prev,F=I.prev,re=I.type==="slash"||I.type==="bos",ye=F&&(F.type==="star"||F.type==="globstar");if(r.bash===!0&&(!re||q[0]&&q[0]!=="/")){G({type:"star",value:S,output:""});continue}let le=w.braces>0&&(I.type==="comma"||I.type==="brace"),no=N.length&&(I.type==="pipe"||I.type==="paren");if(!re&&I.type!=="paren"&&!le&&!no){G({type:"star",value:S,output:""});continue}for(;q.slice(0,3)==="/**";){let os=t[w.index+4];if(os&&os!=="/")break;q=q.slice(3),K("/**",3)}if(I.type==="bos"&&M()){_.type="globstar",_.value+=S,_.output=O(r),w.output=_.output,w.globstar=!0,K(S);continue}if(I.type==="slash"&&I.prev.type!=="bos"&&!ye&&M()){w.output=w.output.slice(0,-(I.output+_.output).length),I.output=`(?:${I.output}`,_.type="globstar",_.output=O(r)+(r.strictSlashes?")":"|$)"),_.value+=S,w.globstar=!0,w.output+=I.output+_.output,K(S);continue}if(I.type==="slash"&&I.prev.type!=="bos"&&q[0]==="/"){let os=q[1]!==void 0?"|$":"";w.output=w.output.slice(0,-(I.output+_.output).length),I.output=`(?:${I.output}`,_.type="globstar",_.output=`${O(r)}${d}|${d}${os})`,_.value+=S,w.output+=I.output+_.output,w.globstar=!0,K(S+L()),G({type:"slash",value:"/",output:""});continue}if(I.type==="bos"&&q[0]==="/"){_.type="globstar",_.value+=S,_.output=`(?:^|${d}|${O(r)}${d})`,w.output=_.output,w.globstar=!0,K(S+L()),G({type:"slash",value:"/",output:""});continue}w.output=w.output.slice(0,-_.output.length),_.type="globstar",_.output=O(r),_.value+=S,w.output+=_.output,w.globstar=!0,K(S);continue}let Q={type:"star",value:S,output:T};if(r.bash===!0){Q.output=".*?",(_.type==="bos"||_.type==="slash")&&(Q.output=C+Q.output),G(Q);continue}if(_&&(_.type==="bracket"||_.type==="paren")&&r.regex===!0){Q.output=S,G(Q);continue}(w.index===w.start||_.type==="slash"||_.type==="dot")&&(_.type==="dot"?(w.output+=m,_.output+=m):r.dot===!0?(w.output+=v,_.output+=v):(w.output+=C,_.output+=C),P()!=="*"&&(w.output+=p,_.output+=p)),G(Q)}for(;w.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(xr("closing","]"));w.output=Ce.escapeLast(w.output,"["),Ut("brackets")}for(;w.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(xr("closing",")"));w.output=Ce.escapeLast(w.output,"("),Ut("parens")}for(;w.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(xr("closing","}"));w.output=Ce.escapeLast(w.output,"{"),Ut("braces")}if(r.strictSlashes!==!0&&(_.type==="star"||_.type==="bracket")&&G({type:"maybe_slash",value:"",output:`${d}?`}),w.backtrack===!0){w.output="";for(let q of w.tokens)w.output+=q.output!=null?q.output:q.value,q.suffix&&(w.output+=q.suffix)}return w};ko.fastpaths=(t,e)=>{let r={...e},i=typeof r.maxLength=="number"?Math.min(ds,r.maxLength):ds,s=t.length;if(s>i)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${i}`);t=Ah[t]||t;let o=Ce.isWindows(e),{DOT_LITERAL:n,SLASH_LITERAL:a,ONE_CHAR:l,DOTS_SLASH:u,NO_DOT:c,NO_DOTS:f,NO_DOTS_SLASH:h,STAR:d,START_ANCHOR:p}=fs.globChars(o),g=r.dot?f:c,b=r.dot?h:c,m=r.capture?"":"?:",v={negated:!1,prefix:""},k=r.bash===!0?".*?":d;r.capture&&(k=`(${k})`);let x=C=>C.noglobstar===!0?k:`(${m}(?:(?!${p}${C.dot?u:n}).)*?)`,E=C=>{switch(C){case"*":return`${g}${l}${k}`;case".*":return`${n}${l}${k}`;case"*.*":return`${g}${k}${n}${l}${k}`;case"*/*":return`${g}${k}${a}${l}${b}${k}`;case"**":return g+x(r);case"**/*":return`(?:${g}${x(r)}${a})?${b}${l}${k}`;case"**/*.*":return`(?:${g}${x(r)}${a})?${b}${k}${n}${l}${k}`;case"**/.*":return`(?:${g}${x(r)}${a})?${n}${l}${k}`;default:{let R=/^(.*?)\.(\w+)$/.exec(C);if(!R)return;let T=E(R[1]);return T?T+n+R[2]:void 0}}},A=Ce.removePrefix(t,v),O=E(A);return O&&r.strictSlashes!==!0&&(O+=`${a}?`),O};Ch.exports=ko});var Rh=y((TP,Th)=>{"use strict";var R1=require("path"),P1=Oh(),Eo=Ih(),Oo=mi(),M1=pi(),q1=t=>t&&typeof t=="object"&&!Array.isArray(t),ae=(t,e,r=!1)=>{if(Array.isArray(t)){let c=t.map(h=>ae(h,e,r));return h=>{for(let d of c){let p=d(h);if(p)return p}return!1}}let i=q1(t)&&t.tokens&&t.input;if(t===""||typeof t!="string"&&!i)throw new TypeError("Expected pattern to be a non-empty string");let s=e||{},o=Oo.isWindows(e),n=i?ae.compileRe(t,e):ae.makeRe(t,e,!1,!0),a=n.state;delete n.state;let l=()=>!1;if(s.ignore){let c={...e,ignore:null,onMatch:null,onResult:null};l=ae(s.ignore,c,r)}let u=(c,f=!1)=>{let{isMatch:h,match:d,output:p}=ae.test(c,n,e,{glob:t,posix:o}),g={glob:t,state:a,regex:n,posix:o,input:c,output:p,match:d,isMatch:h};return typeof s.onResult=="function"&&s.onResult(g),h===!1?(g.isMatch=!1,f?g:!1):l(c)?(typeof s.onIgnore=="function"&&s.onIgnore(g),g.isMatch=!1,f?g:!1):(typeof s.onMatch=="function"&&s.onMatch(g),f?g:!0)};return r&&(u.state=a),u};ae.test=(t,e,r,{glob:i,posix:s}={})=>{if(typeof t!="string")throw new TypeError("Expected input to be a string");if(t==="")return{isMatch:!1,output:""};let o=r||{},n=o.format||(s?Oo.toPosixSlashes:null),a=t===i,l=a&&n?n(t):t;return a===!1&&(l=n?n(t):t,a=l===i),(a===!1||o.capture===!0)&&(o.matchBase===!0||o.basename===!0?a=ae.matchBase(t,e,r,s):a=e.exec(l)),{isMatch:Boolean(a),match:a,output:l}};ae.matchBase=(t,e,r,i=Oo.isWindows(r))=>(e instanceof RegExp?e:ae.makeRe(e,r)).test(R1.basename(t));ae.isMatch=(t,e,r)=>ae(e,r)(t);ae.parse=(t,e)=>Array.isArray(t)?t.map(r=>ae.parse(r,e)):Eo(t,{...e,fastpaths:!1});ae.scan=(t,e)=>P1(t,e);ae.compileRe=(t,e,r=!1,i=!1)=>{if(r===!0)return t.output;let s=e||{},o=s.contains?"":"^",n=s.contains?"":"$",a=`${o}(?:${t.output})${n}`;t&&t.negated===!0&&(a=`^(?!${a}).*$`);let l=ae.toRegex(a,e);return i===!0&&(l.state=t),l};ae.makeRe=(t,e={},r=!1,i=!1)=>{if(!t||typeof t!="string")throw new TypeError("Expected a non-empty string");let s={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(t[0]==="."||t[0]==="*")&&(s.output=Eo.fastpaths(t,e)),s.output||(s=Eo(t,e)),ae.compileRe(s,e,r,i)};ae.toRegex=(t,e)=>{try{let r=e||{};return new RegExp(t,r.flags||(r.nocase?"i":""))}catch(r){if(e&&e.debug===!0)throw r;return/$^/}};ae.constants=M1;Th.exports=ae});var Ao=y((RP,Ph)=>{"use strict";Ph.exports=Rh()});var Lh=y((PP,Nh)=>{var jh=dh(),Mh=Ao(),qh={};function Se(){this.maxDepth=1/0,this.suppressErrors=!0,this.filters=[]}Se.prototype.crawl=function(t){return new jh(t,this)};Se.prototype.crawlWithOptions=function(t,e){return e.maxDepth||(e.maxDepth=1/0),e.groupVar=e.group,e.onlyCountsVar=e.onlyCounts,e.excludeFn=e.exclude,e.filters=e.filters||[],new jh(t,e)};Se.prototype.withBasePath=function(){return this.includeBasePath=!0,this};Se.prototype.withDirs=function(){return this.includeDirs=!0,this};Se.prototype.withMaxDepth=function(t){return this.maxDepth=t,this};Se.prototype.withFullPaths=function(){return this.resolvePaths=!0,this.includeBasePath=!0,this};Se.prototype.withErrors=function(){return this.suppressErrors=!1,this};Se.prototype.group=function(){return this.groupVar=!0,this};Se.prototype.normalize=function(){return this.normalizePath=!0,this};Se.prototype.filter=function(t){return this.filters.push(t),this};Se.prototype.glob=function(...t){if(!Mh)throw new Error('Please install picomatch: "npm i picomatch" to use glob matching.');var e=qh[t.join()];return e||(e=Mh(t,{dot:!0}),qh[t.join()]=e),this.filters.push(r=>e(r)),this};Se.prototype.exclude=function(t){return this.excludeFn=t,this};Se.prototype.onlyCounts=function(){return this.onlyCountsVar=!0,this};Nh.exports=Se});var $h=y((MP,Dh)=>{Dh.exports.fdir=Lh()});var sf=y((KP,$o)=>{typeof Object.create=="function"?$o.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:$o.exports=function(e,r){if(r){e.super_=r;var i=function(){};i.prototype=r.prototype,e.prototype=new i,e.prototype.constructor=e}}});var Bo=y((YP,Ho)=>{try{if(Fo=require("util"),typeof Fo.inherits!="function")throw"";Ho.exports=Fo.inherits}catch{Ho.exports=sf()}var Fo});var of=y((XP,zo)=>{var z1=Bo(),nf=require("events").EventEmitter;zo.exports=Ie;zo.exports.default=Ie;function Ie(t){if(!(this instanceof Ie))return new Ie(t);nf.call(this),t=t||{},this.concurrency=t.concurrency||1/0,this.timeout=t.timeout||0,this.autostart=t.autostart||!1,this.results=t.results||null,this.pending=0,this.session=0,this.running=!1,this.jobs=[],this.timers={}}z1(Ie,nf);var U1=["pop","shift","indexOf","lastIndexOf"];U1.forEach(function(t){Ie.prototype[t]=function(){return Array.prototype[t].apply(this.jobs,arguments)}});Ie.prototype.slice=function(t,e){return this.jobs=this.jobs.slice(t,e),this};Ie.prototype.reverse=function(){return this.jobs.reverse(),this};var W1=["push","unshift","splice"];W1.forEach(function(t){Ie.prototype[t]=function(){var e=Array.prototype[t].apply(this.jobs,arguments);return this.autostart&&this.start(),e}});Object.defineProperty(Ie.prototype,"length",{get:function(){return this.pending+this.jobs.length}});Ie.prototype.start=function(t){if(t&&K1.call(this,t),this.running=!0,this.pending>=this.concurrency)return;if(this.jobs.length===0){this.pending===0&&Go.call(this);return}var e=this,r=this.jobs.shift(),i=!0,s=this.session,o=null,n=!1,a=null,l=r.hasOwnProperty("timeout")?r.timeout:this.timeout;function u(f,h){i&&e.session===s&&(i=!1,e.pending--,o!==null&&(delete e.timers[o],clearTimeout(o)),f?e.emit("error",f,r):n===!1&&(a!==null&&(e.results[a]=Array.prototype.slice.call(arguments,1)),e.emit("success",h,r)),e.session===s&&(e.pending===0&&e.jobs.length===0?Go.call(e):e.running&&e.start()))}l&&(o=setTimeout(function(){n=!0,e.listeners("timeout").length>0?e.emit("timeout",u,r):u()},l),this.timers[o]=o),this.results&&(a=this.results.length,this.results[a]=null),this.pending++,e.emit("start",r);var c=r(u);c&&c.then&&typeof c.then=="function"&&c.then(function(f){return u(null,f)}).catch(function(f){return u(f||!0)}),this.running&&this.jobs.length>0&&this.start()};Ie.prototype.stop=function(){this.running=!1};Ie.prototype.end=function(t){V1.call(this),this.jobs.length=0,this.pending=0,Go.call(this,t)};function V1(){for(var t in this.timers){var e=this.timers[t];delete this.timers[t],clearTimeout(e)}}function K1(t){var e=this;this.on("error",r),this.on("end",i);function r(s){e.end(s)}function i(s){e.removeListener("error",r),e.removeListener("end",i),t(s,this.results)}}function Go(t){this.session++,this.running=!1,this.emit("end",t)}});var af=y(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});vs.BMP=void 0;vs.BMP={validate(t){return t.toString("ascii",0,2)==="BM"},calculate(t){return{height:Math.abs(t.readInt32LE(22)),width:t.readUInt32LE(18)}}}});var Uo=y(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});ws.ICO=void 0;var Y1=1,X1=2+2+2,J1=1+1+1+1+2+2+4+4;function lf(t,e){let r=t.readUInt8(e);return r===0?256:r}function uf(t,e){let r=X1+e*J1;return{height:lf(t,r+1),width:lf(t,r)}}ws.ICO={validate(t){return t.readUInt16LE(0)!==0?!1:t.readUInt16LE(2)===Y1},calculate(t){let e=t.readUInt16LE(4),r=uf(t,0);if(e===1)return r;let i=[r];for(let o=1;o<e;o+=1)i.push(uf(t,o));return{height:r.height,images:i,width:r.width}}}});var cf=y(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});xs.CUR=void 0;var Q1=Uo(),Z1=2;xs.CUR={validate(t){return t.readUInt16LE(0)!==0?!1:t.readUInt16LE(2)===Z1},calculate(t){return Q1.ICO.calculate(t)}}});var hf=y(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.DDS=void 0;_s.DDS={validate(t){return t.readUInt32LE(0)===542327876},calculate(t){return{height:t.readUInt32LE(12),width:t.readUInt32LE(16)}}}});var ff=y(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.GIF=void 0;var eS=/^GIF8[79]a/;Ss.GIF={validate(t){let e=t.toString("ascii",0,6);return eS.test(e)},calculate(t){return{height:t.readUInt16LE(8),width:t.readUInt16LE(6)}}}});var mf=y(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.ICNS=void 0;var tS=4+4,rS=4,iS=4,sS={ICON:32,"ICN#":32,"icm#":16,icm4:16,icm8:16,"ics#":16,ics4:16,ics8:16,is32:16,s8mk:16,icp4:16,icl4:32,icl8:32,il32:32,l8mk:32,icp5:32,ic11:32,ich4:48,ich8:48,ih32:48,h8mk:48,icp6:64,ic12:32,it32:128,t8mk:128,ic07:128,ic08:256,ic13:256,ic09:512,ic14:512,ic10:1024};function df(t,e){let r=e+iS;return[t.toString("ascii",e,r),t.readUInt32BE(r)]}function pf(t){let e=sS[t];return{width:e,height:e,type:t}}ks.ICNS={validate(t){return t.toString("ascii",0,4)==="icns"},calculate(t){let e=t.length,r=t.readUInt32BE(rS),i=tS,s=df(t,i),o=pf(s[0]);if(i+=s[1],i===r)return o;let n={height:o.height,images:[o],width:o.width};for(;i<r&&i<e;)s=df(t,i),o=pf(s[0]),i+=s[1],n.images.push(o);return n}}});var gf=y(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.J2C=void 0;Es.J2C={validate(t){return t.toString("hex",0,4)==="ff4fff51"},calculate(t){return{height:t.readUInt32BE(12),width:t.readUInt32BE(8)}}}});var yf=y(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});As.JP2=void 0;var Os={ftyp:"66747970",ihdr:"69686472",jp2h:"6a703268",jp__:"6a502020",rreq:"72726571",xml_:"786d6c20"},nS=t=>{let e=t.readUInt8(0),r=1+2*e,s=t.readUInt16BE(r)*(2+e);r=r+2+s;let n=t.readUInt16BE(r)*(16+e);return r+2+n},bf=t=>({height:t.readUInt32BE(4),width:t.readUInt32BE(8)});As.JP2={validate(t){let e=t.toString("hex",4,8),r=t.readUInt32BE(0);if(e!==Os.jp__||r<1)return!1;let i=r+4,s=t.readUInt32BE(r);return t.slice(i,i+s).toString("hex",0,4)===Os.ftyp},calculate(t){let e=t.readUInt32BE(0),r=t.readUInt16BE(e+2),i=e+4+r;switch(t.toString("hex",i,i+4)){case Os.rreq:return i=i+4+4+nS(t.slice(i+4)),bf(t.slice(i+8,i+24));case Os.jp2h:return bf(t.slice(i+8,i+24));default:throw new TypeError("Unsupported header found: "+t.toString("ascii",i,i+4))}}}});var Wo=y(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.readUInt=void 0;function oS(t,e,r,i){r=r||0;let s=i?"BE":"LE",o="readUInt"+e+s;return t[o].call(t,r)}Cs.readUInt=oS});var wf=y(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.JPG=void 0;var wi=Wo(),aS="45786966",lS=2,Vo=6,uS=2,cS="4d4d",hS="4949",vf=12,fS=2;function dS(t){return t.toString("hex",2,6)===aS}function pS(t,e){return{height:t.readUInt16BE(e),width:t.readUInt16BE(e+2)}}function mS(t,e){let i=Vo+8,s=wi.readUInt(t,16,i,e);for(let o=0;o<s;o++){let n=i+fS+o*vf,a=n+vf;if(n>t.length)return;let l=t.slice(n,a);if(wi.readUInt(l,16,0,e)===274)return wi.readUInt(l,16,2,e)!==3||wi.readUInt(l,32,4,e)!==1?void 0:wi.readUInt(l,16,8,e)}}function gS(t,e){let r=t.slice(lS,e),i=r.toString("hex",Vo,Vo+uS),s=i===cS;if(s||i===hS)return mS(r,s)}function bS(t,e){if(e>t.length)throw new TypeError("Corrupt JPG, exceeded buffer limits");if(t[e]!==255)throw new TypeError("Invalid JPG, marker table corrupted")}Is.JPG={validate(t){return t.toString("hex",0,2)==="ffd8"},calculate(t){t=t.slice(4);let e,r;for(;t.length;){let i=t.readUInt16BE(0);if(dS(t)&&(e=gS(t,i)),bS(t,i),r=t[i+1],r===192||r===193||r===194){let s=pS(t,i+5);return e?{height:s.height,orientation:e,width:s.width}:s}t=t.slice(i+2)}throw new TypeError("Invalid JPG, no size found")}}});var xf=y(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.KTX=void 0;var yS="KTX 11";Ts.KTX={validate(t){return yS===t.toString("ascii",1,7)},calculate(t){return{height:t.readUInt32LE(40),width:t.readUInt32LE(36)}}}});var Sf=y(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.PNG=void 0;var vS=`PNG\r

`,wS="IHDR",_f="CgBI";Rs.PNG={validate(t){if(vS===t.toString("ascii",1,8)){let e=t.toString("ascii",12,16);if(e===_f&&(e=t.toString("ascii",28,32)),e!==wS)throw new TypeError("Invalid PNG");return!0}return!1},calculate(t){return t.toString("ascii",12,16)===_f?{height:t.readUInt32BE(36),width:t.readUInt32BE(32)}:{height:t.readUInt32BE(20),width:t.readUInt32BE(16)}}}});var Of=y(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.PNM=void 0;var Ef={P1:"pbm/ascii",P2:"pgm/ascii",P3:"ppm/ascii",P4:"pbm",P5:"pgm",P6:"ppm",P7:"pam",PF:"pfm"},xS=Object.keys(Ef),kf={default:t=>{let e=[];for(;t.length>0;){let r=t.shift();if(r[0]!=="#"){e=r.split(" ");break}}if(e.length===2)return{height:parseInt(e[1],10),width:parseInt(e[0],10)};throw new TypeError("Invalid PNM")},pam:t=>{let e={};for(;t.length>0;){let r=t.shift();if(r.length>16||r.charCodeAt(0)>128)continue;let[i,s]=r.split(" ");if(i&&s&&(e[i.toLowerCase()]=parseInt(s,10)),e.height&&e.width)break}if(e.height&&e.width)return{height:e.height,width:e.width};throw new TypeError("Invalid PAM")}};Ps.PNM={validate(t){let e=t.toString("ascii",0,2);return xS.includes(e)},calculate(t){let e=t.toString("ascii",0,2),r=Ef[e],i=t.toString("ascii",3).split(/[\r\n]+/);return(kf[r]||kf.default)(i)}}});var Af=y(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.PSD=void 0;Ms.PSD={validate(t){return t.toString("ascii",0,4)==="8BPS"},calculate(t){return{height:t.readUInt32BE(14),width:t.readUInt32BE(18)}}}});var Tf=y(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.SVG=void 0;var Cf=/<svg\s([^>"']|"[^"]*"|'[^']*')*>/,qs={height:/\sheight=(['"])([^%]+?)\1/,root:Cf,viewbox:/\sviewBox=(['"])(.+?)\1/i,width:/\swidth=(['"])([^%]+?)\1/},Ko=2.54,If={in:96,cm:96/Ko,em:16,ex:8,m:96/Ko*100,mm:96/Ko/10,pc:96/72/12,pt:96/72,px:1},_S=new RegExp(`^([0-9.]+(?:e\\d+)?)(${Object.keys(If).join("|")})?$`);function js(t){let e=_S.exec(t);if(!!e)return Math.round(Number(e[1])*(If[e[2]]||1))}function SS(t){let e=t.split(" ");return{height:js(e[3]),width:js(e[2])}}function kS(t){let e=t.match(qs.width),r=t.match(qs.height),i=t.match(qs.viewbox);return{height:r&&js(r[2]),viewbox:i&&SS(i[2]),width:e&&js(e[2])}}function ES(t){return{height:t.height,width:t.width}}function OS(t,e){let r=e.width/e.height;return t.width?{height:Math.floor(t.width/r),width:t.width}:t.height?{height:t.height,width:Math.floor(t.height*r)}:{height:e.height,width:e.width}}Ns.SVG={validate(t){let e=String(t);return Cf.test(e)},calculate(t){let e=t.toString("utf8").match(qs.root);if(e){let r=kS(e[0]);if(r.width&&r.height)return ES(r);if(r.viewbox)return OS(r,r.viewbox)}throw new TypeError("Invalid SVG")}}});var Rf=y(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});Ds.TIFF=void 0;var Ls=require("fs"),Er=Wo();function AS(t,e,r){let i=Er.readUInt(t,32,4,r),s=1024,o=Ls.statSync(e).size;i+s>o&&(s=o-i-10);let n=Buffer.alloc(s),a=Ls.openSync(e,"r");return Ls.readSync(a,n,0,s,i),Ls.closeSync(a),n.slice(2)}function CS(t,e){let r=Er.readUInt(t,16,8,e);return(Er.readUInt(t,16,10,e)<<16)+r}function IS(t){if(t.length>24)return t.slice(12)}function TS(t,e){let r={},i=t;for(;i&&i.length;){let s=Er.readUInt(i,16,0,e),o=Er.readUInt(i,16,2,e),n=Er.readUInt(i,32,4,e);if(s===0)break;n===1&&(o===3||o===4)&&(r[s]=CS(i,e)),i=IS(i)}return r}function RS(t){let e=t.toString("ascii",0,2);if(e==="II")return"LE";if(e==="MM")return"BE"}var PS=["49492a00","4d4d002a"];Ds.TIFF={validate(t){return PS.includes(t.toString("hex",0,4))},calculate(t,e){if(!e)throw new TypeError("Tiff doesn't support buffer");let r=RS(t)==="BE",i=AS(t,e,r),s=TS(i,r),o=s[256],n=s[257];if(!o||!n)throw new TypeError("Invalid Tiff. Missing tags");return{height:n,width:o}}}});var Pf=y($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.WEBP=void 0;function MS(t){return{height:1+t.readUIntLE(7,3),width:1+t.readUIntLE(4,3)}}function qS(t){return{height:1+((t[4]&15)<<10|t[3]<<2|(t[2]&192)>>6),width:1+((t[2]&63)<<8|t[1])}}function jS(t){return{height:t.readInt16LE(8)&16383,width:t.readInt16LE(6)&16383}}$s.WEBP={validate(t){let e=t.toString("ascii",0,4)==="RIFF",r=t.toString("ascii",8,12)==="WEBP",i=t.toString("ascii",12,15)==="VP8";return e&&r&&i},calculate(t){let e=t.toString("ascii",12,16);if(t=t.slice(20,30),e==="VP8X"){let i=t[0],s=(i&192)===0,o=(i&1)===0;if(s&&o)return MS(t);throw new TypeError("Invalid WebP")}if(e==="VP8 "&&t[0]!==47)return jS(t);let r=t.toString("hex",3,6);if(e==="VP8L"&&r!=="9d012a")return qS(t);throw new TypeError("Invalid WebP")}}});var Yo=y(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.typeHandlers=void 0;var NS=af(),LS=cf(),DS=hf(),$S=ff(),FS=mf(),HS=Uo(),BS=gf(),GS=yf(),zS=wf(),US=xf(),WS=Sf(),VS=Of(),KS=Af(),YS=Tf(),XS=Rf(),JS=Pf();Fs.typeHandlers={bmp:NS.BMP,cur:LS.CUR,dds:DS.DDS,gif:$S.GIF,icns:FS.ICNS,ico:HS.ICO,j2c:BS.J2C,jp2:GS.JP2,jpg:zS.JPG,ktx:US.KTX,png:WS.PNG,pnm:VS.PNM,psd:KS.PSD,svg:YS.SVG,tiff:XS.TIFF,webp:JS.WEBP}});var qf=y(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.detector=void 0;var Xo=Yo(),QS=Object.keys(Xo.typeHandlers),Mf={56:"psd",66:"bmp",68:"dds",71:"gif",73:"tiff",77:"tiff",82:"webp",105:"icns",137:"png",255:"jpg"};function ZS(t){let e=t[0];if(e in Mf){let i=Mf[e];if(i&&Xo.typeHandlers[i].validate(t))return i}let r=i=>Xo.typeHandlers[i].validate(t);return QS.find(r)}Hs.detector=ZS});var Df=y((me,Lf)=>{"use strict";var ek=me&&me.__awaiter||function(t,e,r,i){function s(o){return o instanceof r?o:new r(function(n){n(o)})}return new(r||(r=Promise))(function(o,n){function a(c){try{u(i.next(c))}catch(f){n(f)}}function l(c){try{u(i.throw(c))}catch(f){n(f)}}function u(c){c.done?o(c.value):s(c.value).then(a,l)}u((i=i.apply(t,e||[])).next())})};Object.defineProperty(me,"__esModule",{value:!0});me.types=me.setConcurrency=me.disableTypes=me.disableFS=me.imageSize=void 0;var Or=require("fs"),tk=require("path"),rk=of(),Qo=Yo(),ik=qf(),jf=512*1024,Nf=new rk.default({concurrency:100,autostart:!0}),Bs={disabledFS:!1,disabledTypes:[]};function Jo(t,e){let r=ik.detector(t);if(typeof r<"u"){if(Bs.disabledTypes.indexOf(r)>-1)throw new TypeError("disabled file type: "+r);if(r in Qo.typeHandlers){let i=Qo.typeHandlers[r].calculate(t,e);if(i!==void 0)return i.type=r,i}}throw new TypeError("unsupported file type: "+r+" (file: "+e+")")}function sk(t){return ek(this,void 0,void 0,function*(){let e=yield Or.promises.open(t,"r"),{size:r}=yield e.stat();if(r<=0)throw yield e.close(),new Error("Empty file");let i=Math.min(r,jf),s=Buffer.alloc(i);return yield e.read(s,0,i,0),yield e.close(),s})}function nk(t){let e=Or.openSync(t,"r"),{size:r}=Or.fstatSync(e);if(r<=0)throw Or.closeSync(e),new Error("Empty file");let i=Math.min(r,jf),s=Buffer.alloc(i);return Or.readSync(e,s,0,i,0),Or.closeSync(e),s}Lf.exports=me=Zo;me.default=Zo;function Zo(t,e){if(Buffer.isBuffer(t))return Jo(t);if(typeof t!="string"||Bs.disabledFS)throw new TypeError("invalid invocation. input should be a Buffer");let r=tk.resolve(t);if(typeof e=="function")Nf.push(()=>sk(r).then(i=>process.nextTick(e,null,Jo(i,r))).catch(e));else{let i=nk(r);return Jo(i,r)}}me.imageSize=Zo;var ok=t=>{Bs.disabledFS=t};me.disableFS=ok;var ak=t=>{Bs.disabledTypes=t};me.disableTypes=ak;var lk=t=>{Nf.concurrency=t};me.setConcurrency=lk;me.types=Object.keys(Qo.typeHandlers)});var Gs=y(Ne=>{"use strict";Ne.isInteger=t=>typeof t=="number"?Number.isInteger(t):typeof t=="string"&&t.trim()!==""?Number.isInteger(Number(t)):!1;Ne.find=(t,e)=>t.nodes.find(r=>r.type===e);Ne.exceedsLimit=(t,e,r=1,i)=>i===!1||!Ne.isInteger(t)||!Ne.isInteger(e)?!1:(Number(e)-Number(t))/Number(r)>=i;Ne.escapeNode=(t,e=0,r)=>{let i=t.nodes[e];!i||(r&&i.type===r||i.type==="open"||i.type==="close")&&i.escaped!==!0&&(i.value="\\"+i.value,i.escaped=!0)};Ne.encloseBrace=t=>t.type!=="brace"?!1:t.commas>>0+t.ranges>>0===0?(t.invalid=!0,!0):!1;Ne.isInvalidBrace=t=>t.type!=="brace"?!1:t.invalid===!0||t.dollar?!0:t.commas>>0+t.ranges>>0===0||t.open!==!0||t.close!==!0?(t.invalid=!0,!0):!1;Ne.isOpenOrClose=t=>t.type==="open"||t.type==="close"?!0:t.open===!0||t.close===!0;Ne.reduce=t=>t.reduce((e,r)=>(r.type==="text"&&e.push(r.value),r.type==="range"&&(r.type="text"),e),[]);Ne.flatten=(...t)=>{let e=[],r=i=>{for(let s=0;s<i.length;s++){let o=i[s];Array.isArray(o)?r(o,e):o!==void 0&&e.push(o)}return e};return r(t),e}});var zs=y((bM,Ff)=>{"use strict";var $f=Gs();Ff.exports=(t,e={})=>{let r=(i,s={})=>{let o=e.escapeInvalid&&$f.isInvalidBrace(s),n=i.invalid===!0&&e.escapeInvalid===!0,a="";if(i.value)return(o||n)&&$f.isOpenOrClose(i)?"\\"+i.value:i.value;if(i.value)return i.value;if(i.nodes)for(let l of i.nodes)a+=r(l);return a};return r(t)}});var Bf=y((yM,Hf)=>{"use strict";Hf.exports=function(t){return typeof t=="number"?t-t===0:typeof t=="string"&&t.trim()!==""?Number.isFinite?Number.isFinite(+t):isFinite(+t):!1}});var Jf=y((vM,Xf)=>{"use strict";var Gf=Bf(),Qt=(t,e,r)=>{if(Gf(t)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||t===e)return String(t);if(Gf(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let i={relaxZeros:!0,...r};typeof i.strictZeros=="boolean"&&(i.relaxZeros=i.strictZeros===!1);let s=String(i.relaxZeros),o=String(i.shorthand),n=String(i.capture),a=String(i.wrap),l=t+":"+e+"="+s+o+n+a;if(Qt.cache.hasOwnProperty(l))return Qt.cache[l].result;let u=Math.min(t,e),c=Math.max(t,e);if(Math.abs(u-c)===1){let g=t+"|"+e;return i.capture?`(${g})`:i.wrap===!1?g:`(?:${g})`}let f=Yf(t)||Yf(e),h={min:t,max:e,a:u,b:c},d=[],p=[];if(f&&(h.isPadded=f,h.maxLen=String(h.max).length),u<0){let g=c<0?Math.abs(c):1;p=zf(g,Math.abs(u),h,i),u=h.a=0}return c>=0&&(d=zf(u,c,h,i)),h.negatives=p,h.positives=d,h.result=uk(p,d,i),i.capture===!0?h.result=`(${h.result})`:i.wrap!==!1&&d.length+p.length>1&&(h.result=`(?:${h.result})`),Qt.cache[l]=h,h.result};function uk(t,e,r){let i=ea(t,e,"-",!1,r)||[],s=ea(e,t,"",!1,r)||[],o=ea(t,e,"-?",!0,r)||[];return i.concat(o).concat(s).join("|")}function ck(t,e){let r=1,i=1,s=Wf(t,r),o=new Set([e]);for(;t<=s&&s<=e;)o.add(s),r+=1,s=Wf(t,r);for(s=Vf(e+1,i)-1;t<s&&s<=e;)o.add(s),i+=1,s=Vf(e+1,i)-1;return o=[...o],o.sort(dk),o}function hk(t,e,r){if(t===e)return{pattern:t,count:[],digits:0};let i=fk(t,e),s=i.length,o="",n=0;for(let a=0;a<s;a++){let[l,u]=i[a];l===u?o+=l:l!=="0"||u!=="9"?o+=pk(l,u,r):n++}return n&&(o+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:o,count:[n],digits:s}}function zf(t,e,r,i){let s=ck(t,e),o=[],n=t,a;for(let l=0;l<s.length;l++){let u=s[l],c=hk(String(n),String(u),i),f="";if(!r.isPadded&&a&&a.pattern===c.pattern){a.count.length>1&&a.count.pop(),a.count.push(c.count[0]),a.string=a.pattern+Kf(a.count),n=u+1;continue}r.isPadded&&(f=mk(u,r,i)),c.string=f+c.pattern+Kf(c.count),o.push(c),n=u+1,a=c}return o}function ea(t,e,r,i,s){let o=[];for(let n of t){let{string:a}=n;!i&&!Uf(e,"string",a)&&o.push(r+a),i&&Uf(e,"string",a)&&o.push(r+a)}return o}function fk(t,e){let r=[];for(let i=0;i<t.length;i++)r.push([t[i],e[i]]);return r}function dk(t,e){return t>e?1:e>t?-1:0}function Uf(t,e,r){return t.some(i=>i[e]===r)}function Wf(t,e){return Number(String(t).slice(0,-e)+"9".repeat(e))}function Vf(t,e){return t-t%Math.pow(10,e)}function Kf(t){let[e=0,r=""]=t;return r||e>1?`{${e+(r?","+r:"")}}`:""}function pk(t,e,r){return`[${t}${e-t===1?"":"-"}${e}]`}function Yf(t){return/^-?(0+)\d/.test(t)}function mk(t,e,r){if(!e.isPadded)return t;let i=Math.abs(e.maxLen-String(t).length),s=r.relaxZeros!==!1;switch(i){case 0:return"";case 1:return s?"0?":"0";case 2:return s?"0{0,2}":"00";default:return s?`0{0,${i}}`:`0{${i}}`}}Qt.cache={};Qt.clearCache=()=>Qt.cache={};Xf.exports=Qt});var ia=y((wM,nd)=>{"use strict";var gk=require("util"),ed=Jf(),Qf=t=>t!==null&&typeof t=="object"&&!Array.isArray(t),bk=t=>e=>t===!0?Number(e):String(e),ta=t=>typeof t=="number"||typeof t=="string"&&t!=="",xi=t=>Number.isInteger(+t),ra=t=>{let e=`${t}`,r=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++r]==="0";);return r>0},yk=(t,e,r)=>typeof t=="string"||typeof e=="string"?!0:r.stringify===!0,vk=(t,e,r)=>{if(e>0){let i=t[0]==="-"?"-":"";i&&(t=t.slice(1)),t=i+t.padStart(i?e-1:e,"0")}return r===!1?String(t):t},Zf=(t,e)=>{let r=t[0]==="-"?"-":"";for(r&&(t=t.slice(1),e--);t.length<e;)t="0"+t;return r?"-"+t:t},wk=(t,e)=>{t.negatives.sort((n,a)=>n<a?-1:n>a?1:0),t.positives.sort((n,a)=>n<a?-1:n>a?1:0);let r=e.capture?"":"?:",i="",s="",o;return t.positives.length&&(i=t.positives.join("|")),t.negatives.length&&(s=`-(${r}${t.negatives.join("|")})`),i&&s?o=`${i}|${s}`:o=i||s,e.wrap?`(${r}${o})`:o},td=(t,e,r,i)=>{if(r)return ed(t,e,{wrap:!1,...i});let s=String.fromCharCode(t);if(t===e)return s;let o=String.fromCharCode(e);return`[${s}-${o}]`},rd=(t,e,r)=>{if(Array.isArray(t)){let i=r.wrap===!0,s=r.capture?"":"?:";return i?`(${s}${t.join("|")})`:t.join("|")}return ed(t,e,r)},id=(...t)=>new RangeError("Invalid range arguments: "+gk.inspect(...t)),sd=(t,e,r)=>{if(r.strictRanges===!0)throw id([t,e]);return[]},xk=(t,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${t}" to be a number`);return[]},_k=(t,e,r=1,i={})=>{let s=Number(t),o=Number(e);if(!Number.isInteger(s)||!Number.isInteger(o)){if(i.strictRanges===!0)throw id([t,e]);return[]}s===0&&(s=0),o===0&&(o=0);let n=s>o,a=String(t),l=String(e),u=String(r);r=Math.max(Math.abs(r),1);let c=ra(a)||ra(l)||ra(u),f=c?Math.max(a.length,l.length,u.length):0,h=c===!1&&yk(t,e,i)===!1,d=i.transform||bk(h);if(i.toRegex&&r===1)return td(Zf(t,f),Zf(e,f),!0,i);let p={negatives:[],positives:[]},g=v=>p[v<0?"negatives":"positives"].push(Math.abs(v)),b=[],m=0;for(;n?s>=o:s<=o;)i.toRegex===!0&&r>1?g(s):b.push(vk(d(s,m),f,h)),s=n?s-r:s+r,m++;return i.toRegex===!0?r>1?wk(p,i):rd(b,null,{wrap:!1,...i}):b},Sk=(t,e,r=1,i={})=>{if(!xi(t)&&t.length>1||!xi(e)&&e.length>1)return sd(t,e,i);let s=i.transform||(h=>String.fromCharCode(h)),o=`${t}`.charCodeAt(0),n=`${e}`.charCodeAt(0),a=o>n,l=Math.min(o,n),u=Math.max(o,n);if(i.toRegex&&r===1)return td(l,u,!1,i);let c=[],f=0;for(;a?o>=n:o<=n;)c.push(s(o,f)),o=a?o-r:o+r,f++;return i.toRegex===!0?rd(c,null,{wrap:!1,options:i}):c},Us=(t,e,r,i={})=>{if(e==null&&ta(t))return[t];if(!ta(t)||!ta(e))return sd(t,e,i);if(typeof r=="function")return Us(t,e,1,{transform:r});if(Qf(r))return Us(t,e,0,r);let s={...i};return s.capture===!0&&(s.wrap=!0),r=r||s.step||1,xi(r)?xi(t)&&xi(e)?_k(t,e,r,s):Sk(t,e,Math.max(Math.abs(r),1),s):r!=null&&!Qf(r)?xk(r,s):Us(t,e,1,r)};nd.exports=Us});var ld=y((xM,ad)=>{"use strict";var kk=ia(),od=Gs(),Ek=(t,e={})=>{let r=(i,s={})=>{let o=od.isInvalidBrace(s),n=i.invalid===!0&&e.escapeInvalid===!0,a=o===!0||n===!0,l=e.escapeInvalid===!0?"\\":"",u="";if(i.isOpen===!0||i.isClose===!0)return l+i.value;if(i.type==="open")return a?l+i.value:"(";if(i.type==="close")return a?l+i.value:")";if(i.type==="comma")return i.prev.type==="comma"?"":a?i.value:"|";if(i.value)return i.value;if(i.nodes&&i.ranges>0){let c=od.reduce(i.nodes),f=kk(...c,{...e,wrap:!1,toRegex:!0});if(f.length!==0)return c.length>1&&f.length>1?`(${f})`:f}if(i.nodes)for(let c of i.nodes)u+=r(c,i);return u};return r(t)};ad.exports=Ek});var hd=y((_M,cd)=>{"use strict";var Ok=ia(),ud=zs(),Ar=Gs(),Zt=(t="",e="",r=!1)=>{let i=[];if(t=[].concat(t),e=[].concat(e),!e.length)return t;if(!t.length)return r?Ar.flatten(e).map(s=>`{${s}}`):e;for(let s of t)if(Array.isArray(s))for(let o of s)i.push(Zt(o,e,r));else for(let o of e)r===!0&&typeof o=="string"&&(o=`{${o}}`),i.push(Array.isArray(o)?Zt(s,o,r):s+o);return Ar.flatten(i)},Ak=(t,e={})=>{let r=e.rangeLimit===void 0?1e3:e.rangeLimit,i=(s,o={})=>{s.queue=[];let n=o,a=o.queue;for(;n.type!=="brace"&&n.type!=="root"&&n.parent;)n=n.parent,a=n.queue;if(s.invalid||s.dollar){a.push(Zt(a.pop(),ud(s,e)));return}if(s.type==="brace"&&s.invalid!==!0&&s.nodes.length===2){a.push(Zt(a.pop(),["{}"]));return}if(s.nodes&&s.ranges>0){let f=Ar.reduce(s.nodes);if(Ar.exceedsLimit(...f,e.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let h=Ok(...f,e);h.length===0&&(h=ud(s,e)),a.push(Zt(a.pop(),h)),s.nodes=[];return}let l=Ar.encloseBrace(s),u=s.queue,c=s;for(;c.type!=="brace"&&c.type!=="root"&&c.parent;)c=c.parent,u=c.queue;for(let f=0;f<s.nodes.length;f++){let h=s.nodes[f];if(h.type==="comma"&&s.type==="brace"){f===1&&u.push(""),u.push("");continue}if(h.type==="close"){a.push(Zt(a.pop(),u,l));continue}if(h.value&&h.type!=="open"){u.push(Zt(u.pop(),h.value));continue}h.nodes&&i(h,s)}return u};return Ar.flatten(i(t))};cd.exports=Ak});var dd=y((SM,fd)=>{"use strict";fd.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var yd=y((kM,bd)=>{"use strict";var Ck=zs(),{MAX_LENGTH:pd,CHAR_BACKSLASH:sa,CHAR_BACKTICK:Ik,CHAR_COMMA:Tk,CHAR_DOT:Rk,CHAR_LEFT_PARENTHESES:Pk,CHAR_RIGHT_PARENTHESES:Mk,CHAR_LEFT_CURLY_BRACE:qk,CHAR_RIGHT_CURLY_BRACE:jk,CHAR_LEFT_SQUARE_BRACKET:md,CHAR_RIGHT_SQUARE_BRACKET:gd,CHAR_DOUBLE_QUOTE:Nk,CHAR_SINGLE_QUOTE:Lk,CHAR_NO_BREAK_SPACE:Dk,CHAR_ZERO_WIDTH_NOBREAK_SPACE:$k}=dd(),Fk=(t,e={})=>{if(typeof t!="string")throw new TypeError("Expected a string");let r=e||{},i=typeof r.maxLength=="number"?Math.min(pd,r.maxLength):pd;if(t.length>i)throw new SyntaxError(`Input length (${t.length}), exceeds max characters (${i})`);let s={type:"root",input:t,nodes:[]},o=[s],n=s,a=s,l=0,u=t.length,c=0,f=0,h,d={},p=()=>t[c++],g=b=>{if(b.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&b.type==="text"){a.value+=b.value;return}return n.nodes.push(b),b.parent=n,b.prev=a,a=b,b};for(g({type:"bos"});c<u;)if(n=o[o.length-1],h=p(),!(h===$k||h===Dk)){if(h===sa){g({type:"text",value:(e.keepEscaping?h:"")+p()});continue}if(h===gd){g({type:"text",value:"\\"+h});continue}if(h===md){l++;let b=!0,m;for(;c<u&&(m=p());){if(h+=m,m===md){l++;continue}if(m===sa){h+=p();continue}if(m===gd&&(l--,l===0))break}g({type:"text",value:h});continue}if(h===Pk){n=g({type:"paren",nodes:[]}),o.push(n),g({type:"text",value:h});continue}if(h===Mk){if(n.type!=="paren"){g({type:"text",value:h});continue}n=o.pop(),g({type:"text",value:h}),n=o[o.length-1];continue}if(h===Nk||h===Lk||h===Ik){let b=h,m;for(e.keepQuotes!==!0&&(h="");c<u&&(m=p());){if(m===sa){h+=m+p();continue}if(m===b){e.keepQuotes===!0&&(h+=m);break}h+=m}g({type:"text",value:h});continue}if(h===qk){f++;let b=a.value&&a.value.slice(-1)==="$"||n.dollar===!0;n=g({type:"brace",open:!0,close:!1,dollar:b,depth:f,commas:0,ranges:0,nodes:[]}),o.push(n),g({type:"open",value:h});continue}if(h===jk){if(n.type!=="brace"){g({type:"text",value:h});continue}let b="close";n=o.pop(),n.close=!0,g({type:b,value:h}),f--,n=o[o.length-1];continue}if(h===Tk&&f>0){if(n.ranges>0){n.ranges=0;let b=n.nodes.shift();n.nodes=[b,{type:"text",value:Ck(n)}]}g({type:"comma",value:h}),n.commas++;continue}if(h===Rk&&f>0&&n.commas===0){let b=n.nodes;if(f===0||b.length===0){g({type:"text",value:h});continue}if(a.type==="dot"){if(n.range=[],a.value+=h,a.type="range",n.nodes.length!==3&&n.nodes.length!==5){n.invalid=!0,n.ranges=0,a.type="text";continue}n.ranges++,n.args=[];continue}if(a.type==="range"){b.pop();let m=b[b.length-1];m.value+=a.value+h,a=m,n.ranges--;continue}g({type:"dot",value:h});continue}g({type:"text",value:h})}do if(n=o.pop(),n.type!=="root"){n.nodes.forEach(v=>{v.nodes||(v.type==="open"&&(v.isOpen=!0),v.type==="close"&&(v.isClose=!0),v.nodes||(v.type="text"),v.invalid=!0)});let b=o[o.length-1],m=b.nodes.indexOf(n);b.nodes.splice(m,1,...n.nodes)}while(o.length>0);return g({type:"eos"}),s};bd.exports=Fk});var xd=y((EM,wd)=>{"use strict";var vd=zs(),Hk=ld(),Bk=hd(),Gk=yd(),Te=(t,e={})=>{let r=[];if(Array.isArray(t))for(let i of t){let s=Te.create(i,e);Array.isArray(s)?r.push(...s):r.push(s)}else r=[].concat(Te.create(t,e));return e&&e.expand===!0&&e.nodupes===!0&&(r=[...new Set(r)]),r};Te.parse=(t,e={})=>Gk(t,e);Te.stringify=(t,e={})=>vd(typeof t=="string"?Te.parse(t,e):t,e);Te.compile=(t,e={})=>(typeof t=="string"&&(t=Te.parse(t,e)),Hk(t,e));Te.expand=(t,e={})=>{typeof t=="string"&&(t=Te.parse(t,e));let r=Bk(t,e);return e.noempty===!0&&(r=r.filter(Boolean)),e.nodupes===!0&&(r=[...new Set(r)]),r};Te.create=(t,e={})=>t===""||t.length<3?[t]:e.expand!==!0?Te.compile(t,e):Te.expand(t,e);wd.exports=Te});var oa=y((OM,Ed)=>{"use strict";var Sd=require("util"),kd=xd(),Ye=Ao(),na=mi(),_d=t=>t===""||t==="./",ee=(t,e,r)=>{e=[].concat(e),t=[].concat(t);let i=new Set,s=new Set,o=new Set,n=0,a=c=>{o.add(c.output),r&&r.onResult&&r.onResult(c)};for(let c=0;c<e.length;c++){let f=Ye(String(e[c]),{...r,onResult:a},!0),h=f.state.negated||f.state.negatedExtglob;h&&n++;for(let d of t){let p=f(d,!0);!(h?!p.isMatch:p.isMatch)||(h?i.add(p.output):(i.delete(p.output),s.add(p.output)))}}let u=(n===e.length?[...o]:[...s]).filter(c=>!i.has(c));if(r&&u.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${e.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?e.map(c=>c.replace(/\\/g,"")):e}return u};ee.match=ee;ee.matcher=(t,e)=>Ye(t,e);ee.isMatch=(t,e,r)=>Ye(e,r)(t);ee.any=ee.isMatch;ee.not=(t,e,r={})=>{e=[].concat(e).map(String);let i=new Set,s=[],o=a=>{r.onResult&&r.onResult(a),s.push(a.output)},n=new Set(ee(t,e,{...r,onResult:o}));for(let a of s)n.has(a)||i.add(a);return[...i]};ee.contains=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${Sd.inspect(t)}"`);if(Array.isArray(e))return e.some(i=>ee.contains(t,i,r));if(typeof e=="string"){if(_d(t)||_d(e))return!1;if(t.includes(e)||t.startsWith("./")&&t.slice(2).includes(e))return!0}return ee.isMatch(t,e,{...r,contains:!0})};ee.matchKeys=(t,e,r)=>{if(!na.isObject(t))throw new TypeError("Expected the first argument to be an object");let i=ee(Object.keys(t),e,r),s={};for(let o of i)s[o]=t[o];return s};ee.some=(t,e,r)=>{let i=[].concat(t);for(let s of[].concat(e)){let o=Ye(String(s),r);if(i.some(n=>o(n)))return!0}return!1};ee.every=(t,e,r)=>{let i=[].concat(t);for(let s of[].concat(e)){let o=Ye(String(s),r);if(!i.every(n=>o(n)))return!1}return!0};ee.all=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${Sd.inspect(t)}"`);return[].concat(e).every(i=>Ye(i,r)(t))};ee.capture=(t,e,r)=>{let i=na.isWindows(r),o=Ye.makeRe(String(t),{...r,capture:!0}).exec(i?na.toPosixSlashes(e):e);if(o)return o.slice(1).map(n=>n===void 0?"":n)};ee.makeRe=(...t)=>Ye.makeRe(...t);ee.scan=(...t)=>Ye.scan(...t);ee.parse=(t,e)=>{let r=[];for(let i of[].concat(t||[]))for(let s of kd(String(i),e))r.push(Ye.parse(s,e));return r};ee.braces=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return e&&e.nobrace===!0||!/\{.*\}/.test(t)?[t]:kd(t,e)};ee.braceExpand=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return ee.braces(t,{...e,expand:!0})};Ed.exports=ee});var ma=y((Zs,Hd)=>{(function(t,e){typeof Zs=="object"&&typeof Hd<"u"?e(Zs):typeof define=="function"&&define.amd?define(["exports"],e):(t=t||self,e(t.sourcemapCodec={}))})(Zs,function(t){"use strict";for(var e={},r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i=0;i<r.length;i++)e[r.charCodeAt(i)]=i;function s(l){for(var u=[],c=[],f=[0,0,0,0,0],h=0,d=0,p=0,g=0;d<l.length;d++){var b=l.charCodeAt(d);if(b===44)o(c,f,h),h=0;else if(b===59)o(c,f,h),h=0,u.push(c),c=[],f[0]=0;else{var m=e[b];if(m===void 0)throw new Error("Invalid character ("+String.fromCharCode(b)+")");var v=m&32;if(m&=31,g+=m<<p,v)p+=5;else{var k=g&1;g>>>=1,k&&(g=g===0?-2147483648:-g),f[h]+=g,h++,g=p=0}}}return o(c,f,h),u.push(c),u}function o(l,u,c){c===4?l.push([u[0],u[1],u[2],u[3]]):c===5?l.push([u[0],u[1],u[2],u[3],u[4]]):c===1&&l.push([u[0]])}function n(l){for(var u=0,c=0,f=0,h=0,d="",p=0;p<l.length;p++){var g=l[p];if(p>0&&(d+=";"),g.length!==0){for(var b=0,m=[],v=0,k=g;v<k.length;v++){var x=k[v],E=a(x[0]-b);b=x[0],x.length>1&&(E+=a(x[1]-u)+a(x[2]-c)+a(x[3]-f),u=x[1],c=x[2],f=x[3]),x.length===5&&(E+=a(x[4]-h),h=x[4]),m.push(E)}d+=m.join(",")}}return d}function a(l){var u="";l=l<0?-l<<1|1:l<<1;do{var c=l&31;l>>>=5,l>0&&(c|=32),u+=r[c]}while(l>0);return u}t.decode=s,t.encode=n,Object.defineProperty(t,"__esModule",{value:!0})})});var Jd=y((jM,ya)=>{var eE=require("tty"),tE=!("NO_COLOR"in process.env||process.argv.includes("--no-color"))&&("FORCE_COLOR"in process.env||process.argv.includes("--color")||process.platform==="win32"||eE.isatty(1)&&process.env.TERM!=="dumb"||"CI"in process.env),te=(t,e,r=t)=>i=>{let s=""+i,o=s.indexOf(e,t.length);return~o?t+Yd(s,e,r,o)+e:t+s+e},Yd=(t,e,r,i)=>{let s=t.substring(0,i)+r,o=t.substring(i+e.length),n=o.indexOf(e);return~n?s+Yd(o,e,r,n):s+o},Xd=(t=tE)=>({isColorSupported:t,reset:t?e=>`\x1B[0m${e}\x1B[0m`:String,bold:t?te("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"):String,dim:t?te("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"):String,italic:t?te("\x1B[3m","\x1B[23m"):String,underline:t?te("\x1B[4m","\x1B[24m"):String,inverse:t?te("\x1B[7m","\x1B[27m"):String,hidden:t?te("\x1B[8m","\x1B[28m"):String,strikethrough:t?te("\x1B[9m","\x1B[29m"):String,black:t?te("\x1B[30m","\x1B[39m"):String,red:t?te("\x1B[31m","\x1B[39m"):String,green:t?te("\x1B[32m","\x1B[39m"):String,yellow:t?te("\x1B[33m","\x1B[39m"):String,blue:t?te("\x1B[34m","\x1B[39m"):String,magenta:t?te("\x1B[35m","\x1B[39m"):String,cyan:t?te("\x1B[36m","\x1B[39m"):String,white:t?te("\x1B[37m","\x1B[39m"):String,gray:t?te("\x1B[90m","\x1B[39m"):String,bgBlack:t?te("\x1B[40m","\x1B[49m"):String,bgRed:t?te("\x1B[41m","\x1B[49m"):String,bgGreen:t?te("\x1B[42m","\x1B[49m"):String,bgYellow:t?te("\x1B[43m","\x1B[49m"):String,bgBlue:t?te("\x1B[44m","\x1B[49m"):String,bgMagenta:t?te("\x1B[45m","\x1B[49m"):String,bgCyan:t?te("\x1B[46m","\x1B[49m"):String,bgWhite:t?te("\x1B[47m","\x1B[49m"):String});ya.exports=Xd();ya.exports.createColors=Xd});var cp=y((LM,up)=>{"use strict";var rE=Object.create,tn=Object.defineProperty,iE=Object.getOwnPropertyDescriptor,sE=Object.getOwnPropertyNames,nE=Object.getPrototypeOf,oE=Object.prototype.hasOwnProperty,aE=(t,e)=>{for(var r in e)tn(t,r,{get:e[r],enumerable:!0})},ip=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of sE(e))!oE.call(t,s)&&s!==r&&tn(t,s,{get:()=>e[s],enumerable:!(i=iE(e,s))||i.enumerable});return t},Oi=(t,e,r)=>(r=t!=null?rE(nE(t)):{},ip(e||!t||!t.__esModule?tn(r,"default",{value:t,enumerable:!0}):r,t)),lE=t=>ip(tn({},"__esModule",{value:!0}),t),sp=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},rr=(t,e,r)=>(sp(t,e,"read from private field"),r?r.call(t):e.get(t)),va=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Tt=(t,e,r,i)=>(sp(t,e,"write to private field"),i?i.call(t,r):e.set(t,r),r),Qd=(t,e,r,i)=>({set _(s){Tt(t,e,s,r)},get _(){return rr(t,e,i)}}),np={};aE(np,{isPackageListed:()=>EE,loadPackageJSON:()=>lp});up.exports=lE(np);var Zd=require("fs"),Ei=Oi(require("path"),1),uE=require("url"),cE=Oi(require("process"),1),hE=Oi(require("path"),1),ep=Oi(require("fs"),1),fE=require("url"),dE=class{constructor(t){oo(this,"value");oo(this,"next");this.value=t}},ut,Pr,Mr,pE=class{constructor(){va(this,ut,void 0),va(this,Pr,void 0),va(this,Mr,void 0),this.clear()}enqueue(t){let e=new dE(t);rr(this,ut)?(rr(this,Pr).next=e,Tt(this,Pr,e)):(Tt(this,ut,e),Tt(this,Pr,e)),Qd(this,Mr)._++}dequeue(){let t=rr(this,ut);if(!!t)return Tt(this,ut,rr(this,ut).next),Qd(this,Mr)._--,t.value}clear(){Tt(this,ut,void 0),Tt(this,Pr,void 0),Tt(this,Mr,0)}get size(){return rr(this,Mr)}*[Symbol.iterator](){let t=rr(this,ut);for(;t;)yield t.value,t=t.next}};ut=new WeakMap;Pr=new WeakMap;Mr=new WeakMap;function tp(t){if(!((Number.isInteger(t)||t===Number.POSITIVE_INFINITY)&&t>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");let e=new pE,r=0,i=()=>{r--,e.size>0&&e.dequeue()()},s=async(a,l,u)=>{r++;let c=(async()=>a(...u))();l(c);try{await c}catch{}i()},o=(a,l,u)=>{e.enqueue(s.bind(void 0,a,l,u)),(async()=>(await Promise.resolve(),r<t&&e.size>0&&e.dequeue()()))()},n=(a,...l)=>new Promise(u=>{o(a,u,l)});return Object.defineProperties(n,{activeCount:{get:()=>r},pendingCount:{get:()=>e.size},clearQueue:{value:()=>{e.clear()}}}),n}var op=class extends Error{constructor(t){super(),this.value=t}},mE=async(t,e)=>e(await t),gE=async t=>{let e=await Promise.all(t);if(e[1]===!0)throw new op(e[0]);return!1};async function bE(t,e,{concurrency:r=Number.POSITIVE_INFINITY,preserveOrder:i=!0}={}){let s=tp(r),o=[...t].map(a=>[a,s(mE,a,e)]),n=tp(i?1:Number.POSITIVE_INFINITY);try{await Promise.all(o.map(a=>n(gE,a)))}catch(a){if(a instanceof op)return a.value;throw a}}var ap={directory:"isDirectory",file:"isFile"};function yE(t){if(!Object.hasOwnProperty.call(ap,t))throw new Error(`Invalid type specified: ${t}`)}var vE=(t,e)=>e[ap[t]](),wE=t=>t instanceof URL?(0,fE.fileURLToPath)(t):t;async function rp(t,{cwd:e=cE.default.cwd(),type:r="file",allowSymlinks:i=!0,concurrency:s,preserveOrder:o}={}){yE(r),e=wE(e);let n=i?ep.promises.stat:ep.promises.lstat;return bE(t,async a=>{try{let l=await n(hE.default.resolve(e,a));return vE(r,l)}catch{return!1}},{concurrency:s,preserveOrder:o})}var NM=Oi(require("fs"),1),xE=t=>t instanceof URL?(0,uE.fileURLToPath)(t):t,_E=Symbol("findUpStop");async function SE(t,e={}){let r=Ei.default.resolve(xE(e.cwd)||""),{root:i}=Ei.default.parse(r),s=Ei.default.resolve(r,e.stopAt||i),o=e.limit||Number.POSITIVE_INFINITY,n=[t].flat(),a=async u=>{if(typeof t!="function")return rp(n,u);let c=await t(u.cwd);return typeof c=="string"?rp([c],u):c},l=[];for(;;){let u=await a({...e,cwd:r});if(u===_E||(u&&l.push(Ei.default.resolve(r,u)),r===s||l.length>=o))break;r=Ei.default.dirname(r)}return l}async function kE(t,e={}){return(await SE(t,{...e,limit:1}))[0]}async function lp(t=process.cwd()){let e=await kE("package.json",{cwd:t});return!e||!(0,Zd.existsSync)(e)?null:JSON.parse(await Zd.promises.readFile(e,"utf-8"))}async function EE(t,e){let r=await lp(e)||{};return t in(r.dependencies||{})||t in(r.devDependencies||{})}});var dp=y((BM,xa)=>{var{dirname:wa,join:OE}=require("path"),{existsSync:AE,readFileSync:CE}=require("fs"),IE=require("fs").promises,{loadPackageJSON:TE,isPackageListed:RE}=cp();function PE(t,e){try{return require.resolve(t,e)}catch{return}}function ME(t){let e=require(t);return e.__esModule?Promise.resolve(e):Promise.resolve({default:e})}function qE(t,e){return!!fp(t,e)}function hp(t,e){let r=fp(t,e);if(!!r)return LE(r)}async function jE(t,e){let r=hp(t,e);if(!r)return;let i=JSON.parse(await IE.readFile(r,"utf8"));return{name:t,version:i.version,rootPath:wa(r),packageJsonPath:r,packageJson:i}}function NE(t,e){let r=hp(t,e);if(!r)return;let i=JSON.parse(CE(r,"utf8"));return{name:t,version:i.version,rootPath:wa(r),packageJsonPath:r,packageJson:i}}function fp(t,e={}){try{return require.resolve(`${t}/package.json`,e)}catch{}try{return require.resolve(t,e)}catch(r){if(r.code!=="MODULE_NOT_FOUND")throw r;return!1}}function LE(t){let e;for(;;){if(!t)return;let r=wa(t);if(r===t)return;if(t=r,e=OE(t,"package.json"),AE(e))break}return e}xa.exports={resolveModule:PE,importModule:ME,isPackageExists:qE,getPackageInfo:jE,getPackageInfoSync:NE,loadPackageJSON:TE,isPackageListed:RE};Object.defineProperty(xa.exports,"__esModule",{value:!0,enumerable:!1})});var ie=y((GM,mp)=>{"use strict";var{FORCE_COLOR:DE,NODE_DISABLE_COLORS:$E,TERM:FE}=process.env,V={enabled:!$E&&FE!=="dumb"&&DE!=="0",reset:J(0,0),bold:J(1,22),dim:J(2,22),italic:J(3,23),underline:J(4,24),inverse:J(7,27),hidden:J(8,28),strikethrough:J(9,29),black:J(30,39),red:J(31,39),green:J(32,39),yellow:J(33,39),blue:J(34,39),magenta:J(35,39),cyan:J(36,39),white:J(37,39),gray:J(90,39),grey:J(90,39),bgBlack:J(40,49),bgRed:J(41,49),bgGreen:J(42,49),bgYellow:J(43,49),bgBlue:J(44,49),bgMagenta:J(45,49),bgCyan:J(46,49),bgWhite:J(47,49)};function pp(t,e){let r=0,i,s="",o="";for(;r<t.length;r++)i=t[r],s+=i.open,o+=i.close,e.includes(i.close)&&(e=e.replace(i.rgx,i.close+i.open));return s+e+o}function HE(t,e){let r={has:t,keys:e};return r.reset=V.reset.bind(r),r.bold=V.bold.bind(r),r.dim=V.dim.bind(r),r.italic=V.italic.bind(r),r.underline=V.underline.bind(r),r.inverse=V.inverse.bind(r),r.hidden=V.hidden.bind(r),r.strikethrough=V.strikethrough.bind(r),r.black=V.black.bind(r),r.red=V.red.bind(r),r.green=V.green.bind(r),r.yellow=V.yellow.bind(r),r.blue=V.blue.bind(r),r.magenta=V.magenta.bind(r),r.cyan=V.cyan.bind(r),r.white=V.white.bind(r),r.gray=V.gray.bind(r),r.grey=V.grey.bind(r),r.bgBlack=V.bgBlack.bind(r),r.bgRed=V.bgRed.bind(r),r.bgGreen=V.bgGreen.bind(r),r.bgYellow=V.bgYellow.bind(r),r.bgBlue=V.bgBlue.bind(r),r.bgMagenta=V.bgMagenta.bind(r),r.bgCyan=V.bgCyan.bind(r),r.bgWhite=V.bgWhite.bind(r),r}function J(t,e){let r={open:`\x1B[${t}m`,close:`\x1B[${e}m`,rgx:new RegExp(`\\x1b\\[${e}m`,"g")};return function(i){return this!==void 0&&this.has!==void 0?(this.has.includes(t)||(this.has.push(t),this.keys.push(r)),i===void 0?this:V.enabled?pp(this.keys,i+""):i+""):i===void 0?HE([t],[r]):V.enabled?pp([r],i+""):i+""}}mp.exports=V});var bp=y((zM,gp)=>{"use strict";gp.exports=(t,e)=>{if(!(t.meta&&t.name!=="escape")){if(t.ctrl){if(t.name==="a")return"first";if(t.name==="c"||t.name==="d")return"abort";if(t.name==="e")return"last";if(t.name==="g")return"reset"}if(e){if(t.name==="j")return"down";if(t.name==="k")return"up"}return t.name==="return"||t.name==="enter"?"submit":t.name==="backspace"?"delete":t.name==="delete"?"deleteForward":t.name==="abort"?"abort":t.name==="escape"?"exit":t.name==="tab"?"next":t.name==="pagedown"?"nextPage":t.name==="pageup"?"prevPage":t.name==="home"?"home":t.name==="end"?"end":t.name==="up"?"up":t.name==="down"?"down":t.name==="right"?"right":t.name==="left"?"left":!1}}});var rn=y((UM,yp)=>{"use strict";yp.exports=t=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),r=new RegExp(e,"g");return typeof t=="string"?t.replace(r,""):t}});var ne=y((WM,vp)=>{"use strict";var _a="\x1B",se=`${_a}[`,BE="\x07",Sa={to(t,e){return e?`${se}${e+1};${t+1}H`:`${se}${t+1}G`},move(t,e){let r="";return t<0?r+=`${se}${-t}D`:t>0&&(r+=`${se}${t}C`),e<0?r+=`${se}${-e}A`:e>0&&(r+=`${se}${e}B`),r},up:(t=1)=>`${se}${t}A`,down:(t=1)=>`${se}${t}B`,forward:(t=1)=>`${se}${t}C`,backward:(t=1)=>`${se}${t}D`,nextLine:(t=1)=>`${se}E`.repeat(t),prevLine:(t=1)=>`${se}F`.repeat(t),left:`${se}G`,hide:`${se}?25l`,show:`${se}?25h`,save:`${_a}7`,restore:`${_a}8`},GE={up:(t=1)=>`${se}S`.repeat(t),down:(t=1)=>`${se}T`.repeat(t)},zE={screen:`${se}2J`,up:(t=1)=>`${se}1J`.repeat(t),down:(t=1)=>`${se}J`.repeat(t),line:`${se}2K`,lineEnd:`${se}K`,lineStart:`${se}1K`,lines(t){let e="";for(let r=0;r<t;r++)e+=this.line+(r<t-1?Sa.up():"");return t&&(e+=Sa.left),e}};vp.exports={cursor:Sa,scroll:GE,erase:zE,beep:BE}});var kp=y((VM,Sp)=>{"use strict";function UE(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=WE(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var i=0,s=function(){};return{s,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(u){throw u},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,n=!1,a;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return o=u.done,u},e:function(u){n=!0,a=u},f:function(){try{!o&&r.return!=null&&r.return()}finally{if(n)throw a}}}}function WE(t,e){if(!!t){if(typeof t=="string")return wp(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wp(t,e)}}function wp(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}var VE=rn(),_p=ne(),xp=_p.erase,KE=_p.cursor,YE=t=>[...VE(t)].length;Sp.exports=function(t,e){if(!e)return xp.line+KE.to(0);let r=0,i=t.split(/\r?\n/);var s=UE(i),o;try{for(s.s();!(o=s.n()).done;){let n=o.value;r+=1+Math.floor(Math.max(YE(n)-1,0)/e)}}catch(n){s.e(n)}finally{s.f()}return xp.lines(r)}});var ka=y((KM,Ep)=>{"use strict";var Ai={arrowUp:"↑",arrowDown:"↓",arrowLeft:"←",arrowRight:"→",radioOn:"◉",radioOff:"◯",tick:"✔",cross:"✖",ellipsis:"…",pointerSmall:"›",line:"─",pointer:"❯"},XE={arrowUp:Ai.arrowUp,arrowDown:Ai.arrowDown,arrowLeft:Ai.arrowLeft,arrowRight:Ai.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"√",cross:"×",ellipsis:"...",pointerSmall:"»",line:"─",pointer:">"},JE=process.platform==="win32"?XE:Ai;Ep.exports=JE});var Ap=y((YM,Op)=>{"use strict";var qr=ie(),ir=ka(),Ea=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"😃".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),QE=t=>Ea[t]||Ea.default,Ci=Object.freeze({aborted:qr.red(ir.cross),done:qr.green(ir.tick),exited:qr.yellow(ir.cross),default:qr.cyan("?")}),ZE=(t,e,r)=>e?Ci.aborted:r?Ci.exited:t?Ci.done:Ci.default,eO=t=>qr.gray(t?ir.ellipsis:ir.pointerSmall),tO=(t,e)=>qr.gray(t?e?ir.pointerSmall:"+":ir.line);Op.exports={styles:Ea,render:QE,symbols:Ci,symbol:ZE,delimiter:eO,item:tO}});var Ip=y((XM,Cp)=>{"use strict";var rO=rn();Cp.exports=function(t,e){let r=String(rO(t)||"").split(/\r?\n/);return e?r.map(i=>Math.ceil(i.length/e)).reduce((i,s)=>i+s):r.length}});var Rp=y((JM,Tp)=>{"use strict";Tp.exports=(t,e={})=>{let r=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",i=e.width;return(t||"").split(/\r?\n/g).map(s=>s.split(/\s+/g).reduce((o,n)=>(n.length+r.length>=i||o[o.length-1].length+n.length+1<i?o[o.length-1]+=` ${n}`:o.push(`${r}${n}`),o),[r]).join(`
`)).join(`
`)}});var Mp=y((QM,Pp)=>{"use strict";Pp.exports=(t,e,r)=>{r=r||e;let i=Math.min(e-r,t-Math.floor(r/2));i<0&&(i=0);let s=Math.min(i+r,e);return{startIndex:i,endIndex:s}}});var Fe=y((ZM,qp)=>{"use strict";qp.exports={action:bp(),clear:kp(),style:Ap(),strip:rn(),figures:ka(),lines:Ip(),wrap:Rp(),entriesToDisplay:Mp()}});var ct=y((e3,Lp)=>{"use strict";var jp=require("readline"),iO=Fe(),sO=iO.action,nO=require("events"),Np=ne(),oO=Np.beep,aO=Np.cursor,lO=ie(),Oa=class extends nO{constructor(e={}){super(),this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>{})).bind(this);let r=jp.createInterface({input:this.in,escapeCodeTimeout:50});jp.emitKeypressEvents(this.in,r),this.in.isTTY&&this.in.setRawMode(!0);let i=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,s=(o,n)=>{let a=sO(n,i);a===!1?this._&&this._(o,n):typeof this[a]=="function"?this[a](n):this.bell()};this.close=()=>{this.out.write(aO.show),this.in.removeListener("keypress",s),this.in.isTTY&&this.in.setRawMode(!1),r.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",s)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(oO)}render(){this.onRender(lO),this.firstRender&&(this.firstRender=!1)}};Lp.exports=Oa});var Bp=y((t3,Hp)=>{"use strict";function Dp(t,e,r,i,s,o,n){try{var a=t[o](n),l=a.value}catch(u){r(u);return}a.done?e(l):Promise.resolve(l).then(i,s)}function $p(t){return function(){var e=this,r=arguments;return new Promise(function(i,s){var o=t.apply(e,r);function n(l){Dp(o,i,s,n,a,"next",l)}function a(l){Dp(o,i,s,n,a,"throw",l)}n(void 0)})}}var sn=ie(),uO=ct(),Fp=ne(),cO=Fp.erase,Ii=Fp.cursor,nn=Fe(),Aa=nn.style,Ca=nn.clear,hO=nn.lines,fO=nn.figures,Ia=class extends uO{constructor(e={}){super(e),this.transform=Aa.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=Ca("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=sn.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return $p(function*(){let r=yield e.validator(e.value);typeof r=="string"&&(e.errorMsg=r,r=!1),e.error=!r})()}submit(){var e=this;return $p(function*(){if(e.value=e.value||e.initial,e.cursorOffset=0,e.cursor=e.rendered.length,yield e.validate(),e.error){e.red=!0,e.fire(),e.render();return}e.done=!0,e.aborted=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,r){let i=this.value.slice(0,this.cursor),s=this.value.slice(this.cursor);this.value=`${i}${e}${s}`,this.red=!1,this.cursor=this.placeholder?0:i.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),r=this.value.slice(this.cursor);this.value=`${e}${r}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),r=this.value.slice(this.cursor+1);this.value=`${e}${r}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Ii.down(hO(this.outputError,this.out.columns)-1)+Ca(this.outputError,this.out.columns)),this.out.write(Ca(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Aa.symbol(this.done,this.aborted),sn.bold(this.msg),Aa.delimiter(this.done),this.red?sn.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,r,i)=>e+`
${i?" ":fO.pointerSmall} ${sn.red().italic(r)}`,"")),this.out.write(cO.line+Ii.to(0)+this.outputText+Ii.save+this.outputError+Ii.restore+Ii.move(this.cursorOffset,0)))}};Hp.exports=Ia});var Wp=y((r3,Up)=>{"use strict";var ht=ie(),dO=ct(),Ti=Fe(),Gp=Ti.style,zp=Ti.clear,on=Ti.figures,pO=Ti.wrap,mO=Ti.entriesToDisplay,gO=ne(),bO=gO.cursor,Ta=class extends dO{constructor(e={}){super(e),this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map((r,i)=>(typeof r=="string"&&(r={title:r,value:i}),{title:r&&(r.title||r.value||r),value:r&&(r.value===void 0?i:r.value),description:r&&r.description,selected:r&&r.selected,disabled:r&&r.disabled})),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=zp("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,r){if(e===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(bO.hide):this.out.write(zp(this.outputText,this.out.columns)),super.render();let e=mO(this.cursor,this.choices.length,this.optionsPerPage),r=e.startIndex,i=e.endIndex;if(this.outputText=[Gp.symbol(this.done,this.aborted),ht.bold(this.msg),Gp.delimiter(!1),this.done?this.selection.title:this.selection.disabled?ht.yellow(this.warn):ht.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let s=r;s<i;s++){let o,n,a="",l=this.choices[s];s===r&&r>0?n=on.arrowUp:s===i-1&&i<this.choices.length?n=on.arrowDown:n=" ",l.disabled?(o=this.cursor===s?ht.gray().underline(l.title):ht.strikethrough().gray(l.title),n=(this.cursor===s?ht.bold().gray(on.pointer)+" ":"  ")+n):(o=this.cursor===s?ht.cyan().underline(l.title):l.title,n=(this.cursor===s?ht.cyan(on.pointer)+" ":"  ")+n,l.description&&this.cursor===s&&(a=` - ${l.description}`,(n.length+o.length+a.length>=this.out.columns||l.description.split(/\r?\n/).length>1)&&(a=`
`+pO(l.description,{margin:3,width:this.out.columns})))),this.outputText+=`${n} ${o}${ht.gray(a)}
`}}this.out.write(this.outputText)}};Up.exports=Ta});var Qp=y((i3,Jp)=>{"use strict";var an=ie(),yO=ct(),Yp=Fe(),Vp=Yp.style,vO=Yp.clear,Xp=ne(),Kp=Xp.cursor,wO=Xp.erase,Ra=class extends yO{constructor(e={}){super(e),this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,r){if(e===" ")this.value=!this.value;else if(e==="1")this.value=!0;else if(e==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(Kp.hide):this.out.write(vO(this.outputText,this.out.columns)),super.render(),this.outputText=[Vp.symbol(this.done,this.aborted),an.bold(this.msg),Vp.delimiter(this.done),this.value?this.inactive:an.cyan().underline(this.inactive),an.gray("/"),this.value?an.cyan().underline(this.active):this.active].join(" "),this.out.write(wO.line+Kp.to(0)+this.outputText))}};Jp.exports=Ra});var Qe=y((s3,Zp)=>{"use strict";var jr=class{constructor({token:e,date:r,parts:i,locales:s}){this.token=e,this.date=r||new Date,this.parts=i||[this],this.locales=s||{}}up(){}down(){}next(){let e=this.parts.indexOf(this);return this.parts.find((r,i)=>i>e&&r instanceof jr)}setTo(e){}prev(){let e=[].concat(this.parts).reverse(),r=e.indexOf(this);return e.find((i,s)=>s>r&&i instanceof jr)}toString(){return String(this.date)}};Zp.exports=jr});var tm=y((n3,em)=>{"use strict";var xO=Qe(),Pa=class extends xO{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}};em.exports=Pa});var im=y((o3,rm)=>{"use strict";var _O=Qe(),SO=t=>(t=t%10,t===1?"st":t===2?"nd":t===3?"rd":"th"),Ma=class extends _O{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),r=this.date.getDay();return this.token==="DD"?String(e).padStart(2,"0"):this.token==="Do"?e+SO(e):this.token==="d"?r+1:this.token==="ddd"?this.locales.weekdaysShort[r]:this.token==="dddd"?this.locales.weekdays[r]:e}};rm.exports=Ma});var nm=y((a3,sm)=>{"use strict";var kO=Qe(),qa=class extends kO{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}};sm.exports=qa});var am=y((l3,om)=>{"use strict";var EO=Qe(),ja=class extends EO{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};om.exports=ja});var um=y((u3,lm)=>{"use strict";var OO=Qe(),Na=class extends OO{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}};lm.exports=Na});var hm=y((c3,cm)=>{"use strict";var AO=Qe(),La=class extends AO{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),r=this.token.length;return r===2?String(e+1).padStart(2,"0"):r===3?this.locales.monthsShort[e]:r===4?this.locales.months[e]:String(e+1)}};cm.exports=La});var dm=y((h3,fm)=>{"use strict";var CO=Qe(),Da=class extends CO{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}};fm.exports=Da});var mm=y((f3,pm)=>{"use strict";var IO=Qe(),$a=class extends IO{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}};pm.exports=$a});var bm=y((d3,gm)=>{"use strict";gm.exports={DatePart:Qe(),Meridiem:tm(),Day:im(),Hours:nm(),Milliseconds:am(),Minutes:um(),Month:hm(),Seconds:dm(),Year:mm()}});var Am=y((p3,Om)=>{"use strict";function ym(t,e,r,i,s,o,n){try{var a=t[o](n),l=a.value}catch(u){r(u);return}a.done?e(l):Promise.resolve(l).then(i,s)}function vm(t){return function(){var e=this,r=arguments;return new Promise(function(i,s){var o=t.apply(e,r);function n(l){ym(o,i,s,n,a,"next",l)}function a(l){ym(o,i,s,n,a,"throw",l)}n(void 0)})}}var Fa=ie(),TO=ct(),Ba=Fe(),wm=Ba.style,xm=Ba.clear,RO=Ba.figures,Em=ne(),PO=Em.erase,_m=Em.cursor,ft=bm(),Sm=ft.DatePart,MO=ft.Meridiem,qO=ft.Day,jO=ft.Hours,NO=ft.Milliseconds,LO=ft.Minutes,DO=ft.Month,$O=ft.Seconds,FO=ft.Year,HO=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,km={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new qO(t),3:t=>new DO(t),4:t=>new FO(t),5:t=>new MO(t),6:t=>new jO(t),7:t=>new LO(t),8:t=>new $O(t),9:t=>new NO(t)},BO={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},Ha=class extends TO{constructor(e={}){super(e),this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(BO,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=xm("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let r;for(this.parts=[];r=HO.exec(e);){let s=r.shift(),o=r.findIndex(n=>n!=null);this.parts.push(o in km?km[o]({token:r[o]||s,date:this.date,parts:this.parts,locales:this.locales}):r[o]||s)}let i=this.parts.reduce((s,o)=>(typeof o=="string"&&typeof s[s.length-1]=="string"?s[s.length-1]+=o:s.push(o),s),[]);this.parts.splice(0),this.parts.push(...i),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex(e=>e instanceof Sm)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return vm(function*(){let r=yield e.validator(e.value);typeof r=="string"&&(e.errorMsg=r,r=!1),e.error=!r})()}submit(){var e=this;return vm(function*(){if(yield e.validate(),e.error){e.color="red",e.fire(),e.render();return}e.done=!0,e.aborted=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex(r=>r instanceof Sm)),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(_m.hide):this.out.write(xm(this.outputText,this.out.columns)),super.render(),this.outputText=[wm.symbol(this.done,this.aborted),Fa.bold(this.msg),wm.delimiter(!1),this.parts.reduce((e,r,i)=>e.concat(i===this.cursor&&!this.done?Fa.cyan().underline(r.toString()):r),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((e,r,i)=>e+`
${i?" ":RO.pointerSmall} ${Fa.red().italic(r)}`,"")),this.out.write(PO.line+_m.to(0)+this.outputText))}};Om.exports=Ha});var qm=y((m3,Mm)=>{"use strict";function Cm(t,e,r,i,s,o,n){try{var a=t[o](n),l=a.value}catch(u){r(u);return}a.done?e(l):Promise.resolve(l).then(i,s)}function Im(t){return function(){var e=this,r=arguments;return new Promise(function(i,s){var o=t.apply(e,r);function n(l){Cm(o,i,s,n,a,"next",l)}function a(l){Cm(o,i,s,n,a,"throw",l)}n(void 0)})}}var ln=ie(),GO=ct(),Pm=ne(),un=Pm.cursor,zO=Pm.erase,cn=Fe(),Ga=cn.style,UO=cn.figures,Tm=cn.clear,WO=cn.lines,VO=/[0-9]/,za=t=>t!==void 0,Rm=(t,e)=>{let r=Math.pow(10,e);return Math.round(t*r)/r},Ua=class extends GO{constructor(e={}){super(e),this.transform=Ga.render(e.style),this.msg=e.message,this.initial=za(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=za(e.min)?e.min:-1/0,this.max=za(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){!e&&e!==0?(this.placeholder=!0,this.rendered=ln.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${Rm(e,this.round)}`),this._value=Rm(e,this.round)),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return e==="-"||e==="."&&this.float||VO.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=e!==""?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return Im(function*(){let r=yield e.validator(e.value);typeof r=="string"&&(e.errorMsg=r,r=!1),e.error=!r})()}submit(){var e=this;return Im(function*(){if(yield e.validate(),e.error){e.color="red",e.fire(),e.render();return}let r=e.value;e.value=r!==""?r:e.initial,e.done=!0,e.aborted=!1,e.error=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(e.length===0)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,r){if(!this.valid(e))return this.bell();let i=Date.now();if(i-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=i,this.color="cyan",e===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(un.down(WO(this.outputError,this.out.columns)-1)+Tm(this.outputError,this.out.columns)),this.out.write(Tm(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Ga.symbol(this.done,this.aborted),ln.bold(this.msg),Ga.delimiter(this.done),!this.done||!this.done&&!this.placeholder?ln[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,r,i)=>e+`
${i?" ":UO.pointerSmall} ${ln.red().italic(r)}`,"")),this.out.write(zO.line+un.to(0)+this.outputText+un.save+this.outputError+un.restore))}};Mm.exports=Ua});var Va=y((g3,Lm)=>{"use strict";var Ze=ie(),KO=ne(),YO=KO.cursor,XO=ct(),Ri=Fe(),jm=Ri.clear,Rt=Ri.figures,Nm=Ri.style,JO=Ri.wrap,QO=Ri.entriesToDisplay,Wa=class extends XO{constructor(e={}){super(e),this.msg=e.message,this.cursor=e.cursor||0,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map((r,i)=>(typeof r=="string"&&(r={title:r,value:i}),{title:r&&(r.title||r.value||r),description:r&&r.description,value:r&&(r.value===void 0?i:r.value),selected:r&&r.selected,disabled:r&&r.disabled})),this.clear=jm("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map(e=>!e.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(e=>e.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let e=this.value.filter(r=>r.selected);this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(r=>r.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let e=!this.value[this.cursor].selected;this.value.filter(r=>!r.disabled).forEach(r=>r.selected=e),this.render()}_(e,r){if(e===" ")this.handleSpaceToggle();else if(e==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${Rt.arrowUp}/${Rt.arrowDown}: Highlight option
    ${Rt.arrowLeft}/${Rt.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(e,r,i,s){let o=(r.selected?Ze.green(Rt.radioOn):Rt.radioOff)+" "+s+" ",n,a;return r.disabled?n=e===i?Ze.gray().underline(r.title):Ze.strikethrough().gray(r.title):(n=e===i?Ze.cyan().underline(r.title):r.title,e===i&&r.description&&(a=` - ${r.description}`,(o.length+n.length+a.length>=this.out.columns||r.description.split(/\r?\n/).length>1)&&(a=`
`+JO(r.description,{margin:o.length,width:this.out.columns})))),o+n+Ze.gray(a||"")}paginateOptions(e){if(e.length===0)return Ze.red("No matches for this query.");let r=QO(this.cursor,e.length,this.optionsPerPage),i=r.startIndex,s=r.endIndex,o,n=[];for(let a=i;a<s;a++)a===i&&i>0?o=Rt.arrowUp:a===s-1&&s<e.length?o=Rt.arrowDown:o=" ",n.push(this.renderOption(this.cursor,e[a],a,o));return`
`+n.join(`
`)}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return this.value.filter(r=>r.selected).map(r=>r.title).join(", ");let e=[Ze.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(Ze.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(YO.hide),super.render();let e=[Nm.symbol(this.done,this.aborted),Ze.bold(this.msg),Nm.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=Ze.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=jm(e,this.out.columns)}};Lm.exports=Wa});var zm=y((b3,Gm)=>{"use strict";function Dm(t,e,r,i,s,o,n){try{var a=t[o](n),l=a.value}catch(u){r(u);return}a.done?e(l):Promise.resolve(l).then(i,s)}function ZO(t){return function(){var e=this,r=arguments;return new Promise(function(i,s){var o=t.apply(e,r);function n(l){Dm(o,i,s,n,a,"next",l)}function a(l){Dm(o,i,s,n,a,"throw",l)}n(void 0)})}}var Pi=ie(),eA=ct(),Bm=ne(),tA=Bm.erase,$m=Bm.cursor,Mi=Fe(),Ka=Mi.style,Fm=Mi.clear,Ya=Mi.figures,rA=Mi.wrap,iA=Mi.entriesToDisplay,Hm=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),sA=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]),nA=(t,e)=>{let r=t.findIndex(i=>i.value===e||i.title===e);return r>-1?r:void 0},Xa=class extends eA{constructor(e={}){super(e),this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial=typeof e.initial=="number"?e.initial:nA(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=Ka.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=Fm("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return typeof this._fb=="number"?e=this.choices[this._fb]:typeof this._fb=="string"&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=Hm(this.suggestions,e):this.value=this.fallback.value,this.fire()}complete(e){var r=this;return ZO(function*(){let i=r.completing=r.suggest(r.input,r.choices),s=yield i;if(r.completing!==i)return;r.suggestions=s.map((n,a,l)=>({title:sA(l,a),value:Hm(l,a),description:n.description})),r.completing=!1;let o=Math.max(s.length-1,0);r.moveSelect(Math.min(o,r.select)),e&&e()})()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,r){let i=this.input.slice(0,this.cursor),s=this.input.slice(this.cursor);this.input=`${i}${e}${s}`,this.cursor=i.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let e=this.input.slice(0,this.cursor-1),r=this.input.slice(this.cursor);this.input=`${e}${r}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),r=this.input.slice(this.cursor+1);this.input=`${e}${r}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,r,i,s){let o,n=i?Ya.arrowUp:s?Ya.arrowDown:" ",a=r?Pi.cyan().underline(e.title):e.title;return n=(r?Pi.cyan(Ya.pointer)+" ":"  ")+n,e.description&&(o=` - ${e.description}`,(n.length+a.length+o.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(o=`
`+rA(e.description,{margin:3,width:this.out.columns}))),n+" "+a+Pi.gray(o||"")}render(){if(this.closed)return;this.firstRender?this.out.write($m.hide):this.out.write(Fm(this.outputText,this.out.columns)),super.render();let e=iA(this.select,this.choices.length,this.limit),r=e.startIndex,i=e.endIndex;if(this.outputText=[Ka.symbol(this.done,this.aborted,this.exited),Pi.bold(this.msg),Ka.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let s=this.suggestions.slice(r,i).map((o,n)=>this.renderOption(o,this.select===n+r,n===0&&r>0,n+r===i-1&&i<this.choices.length)).join(`
`);this.outputText+=`
`+(s||Pi.gray(this.fallback.title))}this.out.write(tA.line+$m.to(0)+this.outputText)}};Gm.exports=Xa});var Km=y((y3,Vm)=>{"use strict";var dt=ie(),oA=ne(),aA=oA.cursor,lA=Va(),Qa=Fe(),Um=Qa.clear,Wm=Qa.style,Nr=Qa.figures,Ja=class extends lA{constructor(e={}){e.overrideRender=!0,super(e),this.inputValue="",this.clear=Um("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(i=>this.inputValue?!!(typeof i.title=="string"&&i.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof i.value=="string"&&i.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let r=this.filteredOptions.findIndex(i=>i===e);this.cursor=r<0?0:r,this.render()}handleSpaceToggle(){let e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(r=>r.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,r){e===" "?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${Nr.arrowUp}/${Nr.arrowDown}: Highlight option
    ${Nr.arrowLeft}/${Nr.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:dt.gray("Enter something to filter")}
`}renderOption(e,r,i){let s;return r.disabled?s=e===i?dt.gray().underline(r.title):dt.strikethrough().gray(r.title):s=e===i?dt.cyan().underline(r.title):r.title,(r.selected?dt.green(Nr.radioOn):Nr.radioOff)+"  "+s}renderDoneOrInstructions(){if(this.done)return this.value.filter(r=>r.selected).map(r=>r.title).join(", ");let e=[dt.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(dt.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(aA.hide),super.render();let e=[Wm.symbol(this.done,this.aborted),dt.bold(this.msg),Wm.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=dt.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=Um(e,this.out.columns)}};Vm.exports=Ja});var tg=y((v3,eg)=>{"use strict";var Ym=ie(),uA=ct(),Qm=Fe(),Xm=Qm.style,cA=Qm.clear,Zm=ne(),hA=Zm.erase,Jm=Zm.cursor,Za=class extends uA{constructor(e={}){super(e),this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,r){return e.toLowerCase()==="y"?(this.value=!0,this.submit()):e.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(Jm.hide):this.out.write(cA(this.outputText,this.out.columns)),super.render(),this.outputText=[Xm.symbol(this.done,this.aborted),Ym.bold(this.msg),Xm.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:Ym.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(hA.line+Jm.to(0)+this.outputText))}};eg.exports=Za});var ig=y((w3,rg)=>{"use strict";rg.exports={TextPrompt:Bp(),SelectPrompt:Wp(),TogglePrompt:Qp(),DatePrompt:Am(),NumberPrompt:qm(),MultiselectPrompt:Va(),AutocompletePrompt:zm(),AutocompleteMultiselectPrompt:Km(),ConfirmPrompt:tg()}});var ng=y(sg=>{"use strict";var ke=sg,fA=ig(),hn=t=>t;function et(t,e,r={}){return new Promise((i,s)=>{let o=new fA[t](e),n=r.onAbort||hn,a=r.onSubmit||hn,l=r.onExit||hn;o.on("state",e.onState||hn),o.on("submit",u=>i(a(u))),o.on("exit",u=>i(l(u))),o.on("abort",u=>s(n(u)))})}ke.text=t=>et("TextPrompt",t);ke.password=t=>(t.style="password",ke.text(t));ke.invisible=t=>(t.style="invisible",ke.text(t));ke.number=t=>et("NumberPrompt",t);ke.date=t=>et("DatePrompt",t);ke.confirm=t=>et("ConfirmPrompt",t);ke.list=t=>{let e=t.separator||",";return et("TextPrompt",t,{onSubmit:r=>r.split(e).map(i=>i.trim())})};ke.toggle=t=>et("TogglePrompt",t);ke.select=t=>et("SelectPrompt",t);ke.multiselect=t=>{t.choices=[].concat(t.choices||[]);let e=r=>r.filter(i=>i.selected).map(i=>i.value);return et("MultiselectPrompt",t,{onAbort:e,onSubmit:e})};ke.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);let e=r=>r.filter(i=>i.selected).map(i=>i.value);return et("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};var dA=(t,e)=>Promise.resolve(e.filter(r=>r.title.slice(0,t.length).toLowerCase()===t.toLowerCase()));ke.autocomplete=t=>(t.suggest=t.suggest||dA,t.choices=[].concat(t.choices||[]),et("AutocompletePrompt",t))});var dg=y((_3,fg)=>{"use strict";function og(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,i)}return r}function ag(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?og(Object(r),!0).forEach(function(i){pA(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):og(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function pA(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mA(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=gA(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var i=0,s=function(){};return{s,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(u){throw u},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,n=!1,a;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return o=u.done,u},e:function(u){n=!0,a=u},f:function(){try{!o&&r.return!=null&&r.return()}finally{if(n)throw a}}}}function gA(t,e){if(!!t){if(typeof t=="string")return lg(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lg(t,e)}}function lg(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function ug(t,e,r,i,s,o,n){try{var a=t[o](n),l=a.value}catch(u){r(u);return}a.done?e(l):Promise.resolve(l).then(i,s)}function cg(t){return function(){var e=this,r=arguments;return new Promise(function(i,s){var o=t.apply(e,r);function n(l){ug(o,i,s,n,a,"next",l)}function a(l){ug(o,i,s,n,a,"throw",l)}n(void 0)})}}var el=ng(),bA=["suggest","format","onState","validate","onRender","type"],hg=()=>{};function Pt(){return tl.apply(this,arguments)}function tl(){return tl=cg(function*(t=[],{onSubmit:e=hg,onCancel:r=hg}={}){let i={},s=Pt._override||{};t=[].concat(t);let o,n,a,l,u,c,f=function(){var b=cg(function*(m,v,k=!1){if(!(!k&&m.validate&&m.validate(v)!==!0))return m.format?yield m.format(v,i):v});return function(v,k){return b.apply(this,arguments)}}();var h=mA(t),d;try{for(h.s();!(d=h.n()).done;){n=d.value;var p=n;if(l=p.name,u=p.type,typeof u=="function"&&(u=yield u(o,ag({},i),n),n.type=u),!!u){for(let b in n){if(bA.includes(b))continue;let m=n[b];n[b]=typeof m=="function"?yield m(o,ag({},i),c):m}if(c=n,typeof n.message!="string")throw new Error("prompt message is required");var g=n;if(l=g.name,u=g.type,el[u]===void 0)throw new Error(`prompt type (${u}) is not defined`);if(s[n.name]!==void 0&&(o=yield f(n,s[n.name]),o!==void 0)){i[l]=o;continue}try{o=Pt._injected?yA(Pt._injected,n.initial):yield el[u](n),i[l]=o=yield f(n,o,!0),a=yield e(n,o,i)}catch{a=!(yield r(n,i))}if(a)return i}}}catch(b){h.e(b)}finally{h.f()}return i}),tl.apply(this,arguments)}function yA(t,e){let r=t.shift();if(r instanceof Error)throw r;return r===void 0?e:r}function vA(t){Pt._injected=(Pt._injected||[]).concat(t)}function wA(t){Pt._override=Object.assign({},t)}fg.exports=Object.assign(Pt,{prompt:Pt,prompts:el,inject:vA,override:wA})});var mg=y((S3,pg)=>{"use strict";pg.exports=(t,e)=>{if(!(t.meta&&t.name!=="escape")){if(t.ctrl){if(t.name==="a")return"first";if(t.name==="c"||t.name==="d")return"abort";if(t.name==="e")return"last";if(t.name==="g")return"reset"}if(e){if(t.name==="j")return"down";if(t.name==="k")return"up"}return t.name==="return"||t.name==="enter"?"submit":t.name==="backspace"?"delete":t.name==="delete"?"deleteForward":t.name==="abort"?"abort":t.name==="escape"?"exit":t.name==="tab"?"next":t.name==="pagedown"?"nextPage":t.name==="pageup"?"prevPage":t.name==="home"?"home":t.name==="end"?"end":t.name==="up"?"up":t.name==="down"?"down":t.name==="right"?"right":t.name==="left"?"left":!1}}});var fn=y((k3,gg)=>{"use strict";gg.exports=t=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),r=new RegExp(e,"g");return typeof t=="string"?t.replace(r,""):t}});var vg=y((E3,yg)=>{"use strict";var xA=fn(),{erase:bg,cursor:_A}=ne(),SA=t=>[...xA(t)].length;yg.exports=function(t,e){if(!e)return bg.line+_A.to(0);let r=0,i=t.split(/\r?\n/);for(let s of i)r+=1+Math.floor(Math.max(SA(s)-1,0)/e);return bg.lines(r)}});var rl=y((O3,wg)=>{"use strict";var qi={arrowUp:"↑",arrowDown:"↓",arrowLeft:"←",arrowRight:"→",radioOn:"◉",radioOff:"◯",tick:"✔",cross:"✖",ellipsis:"…",pointerSmall:"›",line:"─",pointer:"❯"},kA={arrowUp:qi.arrowUp,arrowDown:qi.arrowDown,arrowLeft:qi.arrowLeft,arrowRight:qi.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"√",cross:"×",ellipsis:"...",pointerSmall:"»",line:"─",pointer:">"},EA=process.platform==="win32"?kA:qi;wg.exports=EA});var _g=y((A3,xg)=>{"use strict";var Lr=ie(),sr=rl(),il=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"😃".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),OA=t=>il[t]||il.default,ji=Object.freeze({aborted:Lr.red(sr.cross),done:Lr.green(sr.tick),exited:Lr.yellow(sr.cross),default:Lr.cyan("?")}),AA=(t,e,r)=>e?ji.aborted:r?ji.exited:t?ji.done:ji.default,CA=t=>Lr.gray(t?sr.ellipsis:sr.pointerSmall),IA=(t,e)=>Lr.gray(t?e?sr.pointerSmall:"+":sr.line);xg.exports={styles:il,render:OA,symbols:ji,symbol:AA,delimiter:CA,item:IA}});var kg=y((C3,Sg)=>{"use strict";var TA=fn();Sg.exports=function(t,e){let r=String(TA(t)||"").split(/\r?\n/);return e?r.map(i=>Math.ceil(i.length/e)).reduce((i,s)=>i+s):r.length}});var Og=y((I3,Eg)=>{"use strict";Eg.exports=(t,e={})=>{let r=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",i=e.width;return(t||"").split(/\r?\n/g).map(s=>s.split(/\s+/g).reduce((o,n)=>(n.length+r.length>=i||o[o.length-1].length+n.length+1<i?o[o.length-1]+=` ${n}`:o.push(`${r}${n}`),o),[r]).join(`
`)).join(`
`)}});var Cg=y((T3,Ag)=>{"use strict";Ag.exports=(t,e,r)=>{r=r||e;let i=Math.min(e-r,t-Math.floor(r/2));i<0&&(i=0);let s=Math.min(i+r,e);return{startIndex:i,endIndex:s}}});var He=y((R3,Ig)=>{"use strict";Ig.exports={action:mg(),clear:vg(),style:_g(),strip:fn(),figures:rl(),lines:kg(),wrap:Og(),entriesToDisplay:Cg()}});var pt=y((P3,Rg)=>{"use strict";var Tg=require("readline"),{action:RA}=He(),PA=require("events"),{beep:MA,cursor:qA}=ne(),jA=ie(),sl=class extends PA{constructor(e={}){super(),this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>{})).bind(this);let r=Tg.createInterface({input:this.in,escapeCodeTimeout:50});Tg.emitKeypressEvents(this.in,r),this.in.isTTY&&this.in.setRawMode(!0);let i=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,s=(o,n)=>{let a=RA(n,i);a===!1?this._&&this._(o,n):typeof this[a]=="function"?this[a](n):this.bell()};this.close=()=>{this.out.write(qA.show),this.in.removeListener("keypress",s),this.in.isTTY&&this.in.setRawMode(!1),r.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",s)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(MA)}render(){this.onRender(jA),this.firstRender&&(this.firstRender=!1)}};Rg.exports=sl});var Mg=y((M3,Pg)=>{var dn=ie(),NA=pt(),{erase:LA,cursor:Ni}=ne(),{style:nl,clear:ol,lines:DA,figures:$A}=He(),al=class extends NA{constructor(e={}){super(e),this.transform=nl.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=ol("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=dn.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,r){let i=this.value.slice(0,this.cursor),s=this.value.slice(this.cursor);this.value=`${i}${e}${s}`,this.red=!1,this.cursor=this.placeholder?0:i.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),r=this.value.slice(this.cursor);this.value=`${e}${r}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),r=this.value.slice(this.cursor+1);this.value=`${e}${r}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Ni.down(DA(this.outputError,this.out.columns)-1)+ol(this.outputError,this.out.columns)),this.out.write(ol(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[nl.symbol(this.done,this.aborted),dn.bold(this.msg),nl.delimiter(this.done),this.red?dn.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,r,i)=>e+`
${i?" ":$A.pointerSmall} ${dn.red().italic(r)}`,"")),this.out.write(LA.line+Ni.to(0)+this.outputText+Ni.save+this.outputError+Ni.restore+Ni.move(this.cursorOffset,0)))}};Pg.exports=al});var Lg=y((q3,Ng)=>{"use strict";var mt=ie(),FA=pt(),{style:qg,clear:jg,figures:pn,wrap:HA,entriesToDisplay:BA}=He(),{cursor:GA}=ne(),ll=class extends FA{constructor(e={}){super(e),this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map((r,i)=>(typeof r=="string"&&(r={title:r,value:i}),{title:r&&(r.title||r.value||r),value:r&&(r.value===void 0?i:r.value),description:r&&r.description,selected:r&&r.selected,disabled:r&&r.disabled})),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=jg("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,r){if(e===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(GA.hide):this.out.write(jg(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:r}=BA(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[qg.symbol(this.done,this.aborted),mt.bold(this.msg),qg.delimiter(!1),this.done?this.selection.title:this.selection.disabled?mt.yellow(this.warn):mt.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let i=e;i<r;i++){let s,o,n="",a=this.choices[i];i===e&&e>0?o=pn.arrowUp:i===r-1&&r<this.choices.length?o=pn.arrowDown:o=" ",a.disabled?(s=this.cursor===i?mt.gray().underline(a.title):mt.strikethrough().gray(a.title),o=(this.cursor===i?mt.bold().gray(pn.pointer)+" ":"  ")+o):(s=this.cursor===i?mt.cyan().underline(a.title):a.title,o=(this.cursor===i?mt.cyan(pn.pointer)+" ":"  ")+o,a.description&&this.cursor===i&&(n=` - ${a.description}`,(o.length+s.length+n.length>=this.out.columns||a.description.split(/\r?\n/).length>1)&&(n=`
`+HA(a.description,{margin:3,width:this.out.columns})))),this.outputText+=`${o} ${s}${mt.gray(n)}
`}}this.out.write(this.outputText)}};Ng.exports=ll});var Hg=y((j3,Fg)=>{var mn=ie(),zA=pt(),{style:Dg,clear:UA}=He(),{cursor:$g,erase:WA}=ne(),ul=class extends zA{constructor(e={}){super(e),this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,r){if(e===" ")this.value=!this.value;else if(e==="1")this.value=!0;else if(e==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write($g.hide):this.out.write(UA(this.outputText,this.out.columns)),super.render(),this.outputText=[Dg.symbol(this.done,this.aborted),mn.bold(this.msg),Dg.delimiter(this.done),this.value?this.inactive:mn.cyan().underline(this.inactive),mn.gray("/"),this.value?mn.cyan().underline(this.active):this.active].join(" "),this.out.write(WA.line+$g.to(0)+this.outputText))}};Fg.exports=ul});var tt=y((N3,Bg)=>{"use strict";var Dr=class{constructor({token:e,date:r,parts:i,locales:s}){this.token=e,this.date=r||new Date,this.parts=i||[this],this.locales=s||{}}up(){}down(){}next(){let e=this.parts.indexOf(this);return this.parts.find((r,i)=>i>e&&r instanceof Dr)}setTo(e){}prev(){let e=[].concat(this.parts).reverse(),r=e.indexOf(this);return e.find((i,s)=>s>r&&i instanceof Dr)}toString(){return String(this.date)}};Bg.exports=Dr});var zg=y((L3,Gg)=>{"use strict";var VA=tt(),cl=class extends VA{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}};Gg.exports=cl});var Wg=y((D3,Ug)=>{"use strict";var KA=tt(),YA=t=>(t=t%10,t===1?"st":t===2?"nd":t===3?"rd":"th"),hl=class extends KA{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),r=this.date.getDay();return this.token==="DD"?String(e).padStart(2,"0"):this.token==="Do"?e+YA(e):this.token==="d"?r+1:this.token==="ddd"?this.locales.weekdaysShort[r]:this.token==="dddd"?this.locales.weekdays[r]:e}};Ug.exports=hl});var Kg=y(($3,Vg)=>{"use strict";var XA=tt(),fl=class extends XA{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}};Vg.exports=fl});var Xg=y((F3,Yg)=>{"use strict";var JA=tt(),dl=class extends JA{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};Yg.exports=dl});var Qg=y((H3,Jg)=>{"use strict";var QA=tt(),pl=class extends QA{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}};Jg.exports=pl});var eb=y((B3,Zg)=>{"use strict";var ZA=tt(),ml=class extends ZA{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),r=this.token.length;return r===2?String(e+1).padStart(2,"0"):r===3?this.locales.monthsShort[e]:r===4?this.locales.months[e]:String(e+1)}};Zg.exports=ml});var rb=y((G3,tb)=>{"use strict";var eC=tt(),gl=class extends eC{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}};tb.exports=gl});var sb=y((z3,ib)=>{"use strict";var tC=tt(),bl=class extends tC{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}};ib.exports=bl});var ob=y((U3,nb)=>{"use strict";nb.exports={DatePart:tt(),Meridiem:zg(),Day:Wg(),Hours:Kg(),Milliseconds:Xg(),Minutes:Qg(),Month:eb(),Seconds:rb(),Year:sb()}});var db=y((W3,fb)=>{"use strict";var yl=ie(),rC=pt(),{style:ab,clear:lb,figures:iC}=He(),{erase:sC,cursor:ub}=ne(),{DatePart:cb,Meridiem:nC,Day:oC,Hours:aC,Milliseconds:lC,Minutes:uC,Month:cC,Seconds:hC,Year:fC}=ob(),dC=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,hb={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new oC(t),3:t=>new cC(t),4:t=>new fC(t),5:t=>new nC(t),6:t=>new aC(t),7:t=>new uC(t),8:t=>new hC(t),9:t=>new lC(t)},pC={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},vl=class extends rC{constructor(e={}){super(e),this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(pC,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=lb("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let r;for(this.parts=[];r=dC.exec(e);){let s=r.shift(),o=r.findIndex(n=>n!=null);this.parts.push(o in hb?hb[o]({token:r[o]||s,date:this.date,parts:this.parts,locales:this.locales}):r[o]||s)}let i=this.parts.reduce((s,o)=>(typeof o=="string"&&typeof s[s.length-1]=="string"?s[s.length-1]+=o:s.push(o),s),[]);this.parts.splice(0),this.parts.push(...i),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex(e=>e instanceof cb)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex(r=>r instanceof cb)),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(ub.hide):this.out.write(lb(this.outputText,this.out.columns)),super.render(),this.outputText=[ab.symbol(this.done,this.aborted),yl.bold(this.msg),ab.delimiter(!1),this.parts.reduce((e,r,i)=>e.concat(i===this.cursor&&!this.done?yl.cyan().underline(r.toString()):r),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((e,r,i)=>e+`
${i?" ":iC.pointerSmall} ${yl.red().italic(r)}`,"")),this.out.write(sC.line+ub.to(0)+this.outputText))}};fb.exports=vl});var bb=y((V3,gb)=>{var gn=ie(),mC=pt(),{cursor:bn,erase:gC}=ne(),{style:wl,figures:bC,clear:pb,lines:yC}=He(),vC=/[0-9]/,xl=t=>t!==void 0,mb=(t,e)=>{let r=Math.pow(10,e);return Math.round(t*r)/r},_l=class extends mC{constructor(e={}){super(e),this.transform=wl.render(e.style),this.msg=e.message,this.initial=xl(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=xl(e.min)?e.min:-1/0,this.max=xl(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){!e&&e!==0?(this.placeholder=!0,this.rendered=gn.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${mb(e,this.round)}`),this._value=mb(e,this.round)),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return e==="-"||e==="."&&this.float||vC.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=e!==""?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let e=this.value;this.value=e!==""?e:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(e.length===0)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,r){if(!this.valid(e))return this.bell();let i=Date.now();if(i-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=i,this.color="cyan",e===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(bn.down(yC(this.outputError,this.out.columns)-1)+pb(this.outputError,this.out.columns)),this.out.write(pb(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[wl.symbol(this.done,this.aborted),gn.bold(this.msg),wl.delimiter(this.done),!this.done||!this.done&&!this.placeholder?gn[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,r,i)=>e+`
${i?" ":bC.pointerSmall} ${gn.red().italic(r)}`,"")),this.out.write(gC.line+bn.to(0)+this.outputText+bn.save+this.outputError+bn.restore))}};gb.exports=_l});var kl=y((K3,wb)=>{"use strict";var rt=ie(),{cursor:wC}=ne(),xC=pt(),{clear:yb,figures:Mt,style:vb,wrap:_C,entriesToDisplay:SC}=He(),Sl=class extends xC{constructor(e={}){super(e),this.msg=e.message,this.cursor=e.cursor||0,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map((r,i)=>(typeof r=="string"&&(r={title:r,value:i}),{title:r&&(r.title||r.value||r),description:r&&r.description,value:r&&(r.value===void 0?i:r.value),selected:r&&r.selected,disabled:r&&r.disabled})),this.clear=yb("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map(e=>!e.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(e=>e.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let e=this.value.filter(r=>r.selected);this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(r=>r.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let e=!this.value[this.cursor].selected;this.value.filter(r=>!r.disabled).forEach(r=>r.selected=e),this.render()}_(e,r){if(e===" ")this.handleSpaceToggle();else if(e==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${Mt.arrowUp}/${Mt.arrowDown}: Highlight option
    ${Mt.arrowLeft}/${Mt.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(e,r,i,s){let o=(r.selected?rt.green(Mt.radioOn):Mt.radioOff)+" "+s+" ",n,a;return r.disabled?n=e===i?rt.gray().underline(r.title):rt.strikethrough().gray(r.title):(n=e===i?rt.cyan().underline(r.title):r.title,e===i&&r.description&&(a=` - ${r.description}`,(o.length+n.length+a.length>=this.out.columns||r.description.split(/\r?\n/).length>1)&&(a=`
`+_C(r.description,{margin:o.length,width:this.out.columns})))),o+n+rt.gray(a||"")}paginateOptions(e){if(e.length===0)return rt.red("No matches for this query.");let{startIndex:r,endIndex:i}=SC(this.cursor,e.length,this.optionsPerPage),s,o=[];for(let n=r;n<i;n++)n===r&&r>0?s=Mt.arrowUp:n===i-1&&i<e.length?s=Mt.arrowDown:s=" ",o.push(this.renderOption(this.cursor,e[n],n,s));return`
`+o.join(`
`)}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return this.value.filter(r=>r.selected).map(r=>r.title).join(", ");let e=[rt.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(rt.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(wC.hide),super.render();let e=[vb.symbol(this.done,this.aborted),rt.bold(this.msg),vb.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=rt.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=yb(e,this.out.columns)}};wb.exports=Sl});var Eb=y((Y3,kb)=>{"use strict";var Li=ie(),kC=pt(),{erase:EC,cursor:xb}=ne(),{style:El,clear:_b,figures:Ol,wrap:OC,entriesToDisplay:AC}=He(),Sb=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),CC=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]),IC=(t,e)=>{let r=t.findIndex(i=>i.value===e||i.title===e);return r>-1?r:void 0},Al=class extends kC{constructor(e={}){super(e),this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial=typeof e.initial=="number"?e.initial:IC(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=El.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=_b("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return typeof this._fb=="number"?e=this.choices[this._fb]:typeof this._fb=="string"&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=Sb(this.suggestions,e):this.value=this.fallback.value,this.fire()}async complete(e){let r=this.completing=this.suggest(this.input,this.choices),i=await r;if(this.completing!==r)return;this.suggestions=i.map((o,n,a)=>({title:CC(a,n),value:Sb(a,n),description:o.description})),this.completing=!1;let s=Math.max(i.length-1,0);this.moveSelect(Math.min(s,this.select)),e&&e()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,r){let i=this.input.slice(0,this.cursor),s=this.input.slice(this.cursor);this.input=`${i}${e}${s}`,this.cursor=i.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let e=this.input.slice(0,this.cursor-1),r=this.input.slice(this.cursor);this.input=`${e}${r}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),r=this.input.slice(this.cursor+1);this.input=`${e}${r}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,r,i,s){let o,n=i?Ol.arrowUp:s?Ol.arrowDown:" ",a=r?Li.cyan().underline(e.title):e.title;return n=(r?Li.cyan(Ol.pointer)+" ":"  ")+n,e.description&&(o=` - ${e.description}`,(n.length+a.length+o.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(o=`
`+OC(e.description,{margin:3,width:this.out.columns}))),n+" "+a+Li.gray(o||"")}render(){if(this.closed)return;this.firstRender?this.out.write(xb.hide):this.out.write(_b(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:r}=AC(this.select,this.choices.length,this.limit);if(this.outputText=[El.symbol(this.done,this.aborted,this.exited),Li.bold(this.msg),El.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let i=this.suggestions.slice(e,r).map((s,o)=>this.renderOption(s,this.select===o+e,o===0&&e>0,o+e===r-1&&r<this.choices.length)).join(`
`);this.outputText+=`
`+(i||Li.gray(this.fallback.title))}this.out.write(EC.line+xb.to(0)+this.outputText)}};kb.exports=Al});var Ib=y((X3,Cb)=>{"use strict";var gt=ie(),{cursor:TC}=ne(),RC=kl(),{clear:Ob,style:Ab,figures:$r}=He(),Cl=class extends RC{constructor(e={}){e.overrideRender=!0,super(e),this.inputValue="",this.clear=Ob("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(i=>this.inputValue?!!(typeof i.title=="string"&&i.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof i.value=="string"&&i.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let r=this.filteredOptions.findIndex(i=>i===e);this.cursor=r<0?0:r,this.render()}handleSpaceToggle(){let e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(r=>r.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,r){e===" "?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${$r.arrowUp}/${$r.arrowDown}: Highlight option
    ${$r.arrowLeft}/${$r.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:gt.gray("Enter something to filter")}
`}renderOption(e,r,i){let s;return r.disabled?s=e===i?gt.gray().underline(r.title):gt.strikethrough().gray(r.title):s=e===i?gt.cyan().underline(r.title):r.title,(r.selected?gt.green($r.radioOn):$r.radioOff)+"  "+s}renderDoneOrInstructions(){if(this.done)return this.value.filter(r=>r.selected).map(r=>r.title).join(", ");let e=[gt.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(gt.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(TC.hide),super.render();let e=[Ab.symbol(this.done,this.aborted),gt.bold(this.msg),Ab.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=gt.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=Ob(e,this.out.columns)}};Cb.exports=Cl});var qb=y((J3,Mb)=>{var Tb=ie(),PC=pt(),{style:Rb,clear:MC}=He(),{erase:qC,cursor:Pb}=ne(),Il=class extends PC{constructor(e={}){super(e),this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,r){return e.toLowerCase()==="y"?(this.value=!0,this.submit()):e.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(Pb.hide):this.out.write(MC(this.outputText,this.out.columns)),super.render(),this.outputText=[Rb.symbol(this.done,this.aborted),Tb.bold(this.msg),Rb.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:Tb.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(qC.line+Pb.to(0)+this.outputText))}};Mb.exports=Il});var Nb=y((Q3,jb)=>{"use strict";jb.exports={TextPrompt:Mg(),SelectPrompt:Lg(),TogglePrompt:Hg(),DatePrompt:db(),NumberPrompt:bb(),MultiselectPrompt:kl(),AutocompletePrompt:Eb(),AutocompleteMultiselectPrompt:Ib(),ConfirmPrompt:qb()}});var Db=y(Lb=>{"use strict";var Ee=Lb,jC=Nb(),yn=t=>t;function it(t,e,r={}){return new Promise((i,s)=>{let o=new jC[t](e),n=r.onAbort||yn,a=r.onSubmit||yn,l=r.onExit||yn;o.on("state",e.onState||yn),o.on("submit",u=>i(a(u))),o.on("exit",u=>i(l(u))),o.on("abort",u=>s(n(u)))})}Ee.text=t=>it("TextPrompt",t);Ee.password=t=>(t.style="password",Ee.text(t));Ee.invisible=t=>(t.style="invisible",Ee.text(t));Ee.number=t=>it("NumberPrompt",t);Ee.date=t=>it("DatePrompt",t);Ee.confirm=t=>it("ConfirmPrompt",t);Ee.list=t=>{let e=t.separator||",";return it("TextPrompt",t,{onSubmit:r=>r.split(e).map(i=>i.trim())})};Ee.toggle=t=>it("TogglePrompt",t);Ee.select=t=>it("SelectPrompt",t);Ee.multiselect=t=>{t.choices=[].concat(t.choices||[]);let e=r=>r.filter(i=>i.selected).map(i=>i.value);return it("MultiselectPrompt",t,{onAbort:e,onSubmit:e})};Ee.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);let e=r=>r.filter(i=>i.selected).map(i=>i.value);return it("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};var NC=(t,e)=>Promise.resolve(e.filter(r=>r.title.slice(0,t.length).toLowerCase()===t.toLowerCase()));Ee.autocomplete=t=>(t.suggest=t.suggest||NC,t.choices=[].concat(t.choices||[]),it("AutocompletePrompt",t))});var Hb=y((eq,Fb)=>{"use strict";var Tl=Db(),LC=["suggest","format","onState","validate","onRender","type"],$b=()=>{};async function qt(t=[],{onSubmit:e=$b,onCancel:r=$b}={}){let i={},s=qt._override||{};t=[].concat(t);let o,n,a,l,u,c,f=async(h,d,p=!1)=>{if(!(!p&&h.validate&&h.validate(d)!==!0))return h.format?await h.format(d,i):d};for(n of t)if({name:l,type:u}=n,typeof u=="function"&&(u=await u(o,{...i},n),n.type=u),!!u){for(let h in n){if(LC.includes(h))continue;let d=n[h];n[h]=typeof d=="function"?await d(o,{...i},c):d}if(c=n,typeof n.message!="string")throw new Error("prompt message is required");if({name:l,type:u}=n,Tl[u]===void 0)throw new Error(`prompt type (${u}) is not defined`);if(s[n.name]!==void 0&&(o=await f(n,s[n.name]),o!==void 0)){i[l]=o;continue}try{o=qt._injected?DC(qt._injected,n.initial):await Tl[u](n),i[l]=o=await f(n,o,!0),a=await e(n,o,i)}catch{a=!await r(n,i)}if(a)return i}return i}function DC(t,e){let r=t.shift();if(r instanceof Error)throw r;return r===void 0?e:r}function $C(t){qt._injected=(qt._injected||[]).concat(t)}function FC(t){qt._override=Object.assign({},t)}Fb.exports=Object.assign(qt,{prompt:qt,prompts:Tl,inject:$C,override:FC})});var Rl=y((tq,Bb)=>{function HC(t){t=(Array.isArray(t)?t:t.split(".")).map(Number);let e=0,r=process.versions.node.split(".").map(Number);for(;e<t.length;e++){if(r[e]>t[e])return!1;if(t[e]>r[e])return!0}return!1}Bb.exports=HC("8.6.0")?dg():Hb()});var zb=y((rq,Gb)=>{var Pl=class{constructor(e){this.value=e,this.next=void 0}},Ml=class{constructor(){this.clear()}enqueue(e){let r=new Pl(e);this._head?(this._tail.next=r,this._tail=r):(this._head=r,this._tail=r),this._size++}dequeue(){let e=this._head;if(!!e)return this._head=this._head.next,this._size--,e.value}clear(){this._head=void 0,this._tail=void 0,this._size=0}get size(){return this._size}*[Symbol.iterator](){let e=this._head;for(;e;)yield e.value,e=e.next}};Gb.exports=Ml});var Wb=y((iq,Ub)=>{"use strict";var BC=zb(),GC=t=>{if(!((Number.isInteger(t)||t===1/0)&&t>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");let e=new BC,r=0,i=()=>{r--,e.size>0&&e.dequeue()()},s=async(a,l,...u)=>{r++;let c=(async()=>a(...u))();l(c);try{await c}catch{}i()},o=(a,l,...u)=>{e.enqueue(s.bind(null,a,l,...u)),(async()=>(await Promise.resolve(),r<t&&e.size>0&&e.dequeue()()))()},n=(a,...l)=>new Promise(u=>{o(a,u,...l)});return Object.defineProperties(n,{activeCount:{get:()=>r},pendingCount:{get:()=>e.size},clearQueue:{value:()=>{e.clear()}}}),n};Ub.exports=GC});var Yb=y((sq,Kb)=>{"use strict";var Vb=Wb(),vn=class extends Error{constructor(e){super(),this.value=e}},zC=async(t,e)=>e(await t),UC=async t=>{let e=await Promise.all(t);if(e[1]===!0)throw new vn(e[0]);return!1},WC=async(t,e,r)=>{r={concurrency:1/0,preserveOrder:!0,...r};let i=Vb(r.concurrency),s=[...t].map(n=>[n,i(zC,n,e)]),o=Vb(r.preserveOrder?1:1/0);try{await Promise.all(s.map(n=>o(UC,n)))}catch(n){if(n instanceof vn)return n.value;throw n}};Kb.exports=WC});var ty=y((nq,ql)=>{"use strict";var Xb=require("path"),wn=require("fs"),{promisify:Jb}=require("util"),VC=Yb(),KC=Jb(wn.stat),YC=Jb(wn.lstat),Qb={directory:"isDirectory",file:"isFile"};function Zb({type:t}){if(!(t in Qb))throw new Error(`Invalid type specified: ${t}`)}var ey=(t,e)=>t===void 0||e[Qb[t]]();ql.exports=async(t,e)=>{e={cwd:process.cwd(),type:"file",allowSymlinks:!0,...e},Zb(e);let r=e.allowSymlinks?KC:YC;return VC(t,async i=>{try{let s=await r(Xb.resolve(e.cwd,i));return ey(e.type,s)}catch{return!1}},e)};ql.exports.sync=(t,e)=>{e={cwd:process.cwd(),allowSymlinks:!0,type:"file",...e},Zb(e);let r=e.allowSymlinks?wn.statSync:wn.lstatSync;for(let i of t)try{let s=r(Xb.resolve(e.cwd,i));if(ey(e.type,s))return i}catch{}}});var iy=y((oq,jl)=>{"use strict";var ry=require("fs"),{promisify:XC}=require("util"),JC=XC(ry.access);jl.exports=async t=>{try{return await JC(t),!0}catch{return!1}};jl.exports.sync=t=>{try{return ry.accessSync(t),!0}catch{return!1}}});var ny=y((aq,Fr)=>{"use strict";var jt=require("path"),xn=ty(),sy=iy(),Nl=Symbol("findUp.stop");Fr.exports=async(t,e={})=>{let r=jt.resolve(e.cwd||""),{root:i}=jt.parse(r),s=[].concat(t),o=async n=>{if(typeof t!="function")return xn(s,n);let a=await t(n.cwd);return typeof a=="string"?xn([a],n):a};for(;;){let n=await o({...e,cwd:r});if(n===Nl)return;if(n)return jt.resolve(r,n);if(r===i)return;r=jt.dirname(r)}};Fr.exports.sync=(t,e={})=>{let r=jt.resolve(e.cwd||""),{root:i}=jt.parse(r),s=[].concat(t),o=n=>{if(typeof t!="function")return xn.sync(s,n);let a=t(n.cwd);return typeof a=="string"?xn.sync([a],n):a};for(;;){let n=o({...e,cwd:r});if(n===Nl)return;if(n)return jt.resolve(r,n);if(r===i)return;r=jt.dirname(r)}};Fr.exports.exists=sy;Fr.exports.sync.exists=sy.sync;Fr.exports.stop=Nl});var cy=y((lq,uy)=>{uy.exports=ly;ly.sync=ZC;var oy=require("fs");function QC(t,e){var r=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var i=0;i<r.length;i++){var s=r[i].toLowerCase();if(s&&t.substr(-s.length).toLowerCase()===s)return!0}return!1}function ay(t,e,r){return!t.isSymbolicLink()&&!t.isFile()?!1:QC(e,r)}function ly(t,e,r){oy.stat(t,function(i,s){r(i,i?!1:ay(s,t,e))})}function ZC(t,e){return ay(oy.statSync(t),t,e)}});var my=y((uq,py)=>{py.exports=fy;fy.sync=e2;var hy=require("fs");function fy(t,e,r){hy.stat(t,function(i,s){r(i,i?!1:dy(s,e))})}function e2(t,e){return dy(hy.statSync(t),e)}function dy(t,e){return t.isFile()&&t2(t,e)}function t2(t,e){var r=t.mode,i=t.uid,s=t.gid,o=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),n=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),a=parseInt("100",8),l=parseInt("010",8),u=parseInt("001",8),c=a|l,f=r&u||r&l&&s===n||r&a&&i===o||r&c&&o===0;return f}});var by=y((hq,gy)=>{var cq=require("fs"),_n;process.platform==="win32"||global.TESTING_WINDOWS?_n=cy():_n=my();gy.exports=Ll;Ll.sync=r2;function Ll(t,e,r){if(typeof e=="function"&&(r=e,e={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(i,s){Ll(t,e||{},function(o,n){o?s(o):i(n)})})}_n(t,e||{},function(i,s){i&&(i.code==="EACCES"||e&&e.ignoreErrors)&&(i=null,s=!1),r(i,s)})}function r2(t,e){try{return _n.sync(t,e||{})}catch(r){if(e&&e.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var ky=y((fq,Sy)=>{var Hr=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",yy=require("path"),i2=Hr?";":":",vy=by(),wy=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),xy=(t,e)=>{let r=e.colon||i2,i=t.match(/\//)||Hr&&t.match(/\\/)?[""]:[...Hr?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(r)],s=Hr?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=Hr?s.split(r):[""];return Hr&&t.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:i,pathExt:o,pathExtExe:s}},_y=(t,e,r)=>{typeof e=="function"&&(r=e,e={}),e||(e={});let{pathEnv:i,pathExt:s,pathExtExe:o}=xy(t,e),n=[],a=u=>new Promise((c,f)=>{if(u===i.length)return e.all&&n.length?c(n):f(wy(t));let h=i[u],d=/^".*"$/.test(h)?h.slice(1,-1):h,p=yy.join(d,t),g=!d&&/^\.[\\\/]/.test(t)?t.slice(0,2)+p:p;c(l(g,u,0))}),l=(u,c,f)=>new Promise((h,d)=>{if(f===s.length)return h(a(c+1));let p=s[f];vy(u+p,{pathExt:o},(g,b)=>{if(!g&&b)if(e.all)n.push(u+p);else return h(u+p);return h(l(u,c,f+1))})});return r?a(0).then(u=>r(null,u),r):a(0)},s2=(t,e)=>{e=e||{};let{pathEnv:r,pathExt:i,pathExtExe:s}=xy(t,e),o=[];for(let n=0;n<r.length;n++){let a=r[n],l=/^".*"$/.test(a)?a.slice(1,-1):a,u=yy.join(l,t),c=!l&&/^\.[\\\/]/.test(t)?t.slice(0,2)+u:u;for(let f=0;f<i.length;f++){let h=c+i[f];try{if(vy.sync(h,{pathExt:s}))if(e.all)o.push(h);else return h}catch{}}}if(e.all&&o.length)return o;if(e.nothrow)return null;throw wy(t)};Sy.exports=_y;_y.sync=s2});var $l=y((dq,Dl)=>{"use strict";var Ey=(t={})=>{let e=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(i=>i.toUpperCase()==="PATH")||"Path"};Dl.exports=Ey;Dl.exports.default=Ey});var Iy=y((pq,Cy)=>{"use strict";var Oy=require("path"),n2=ky(),o2=$l();function Ay(t,e){let r=t.options.env||process.env,i=process.cwd(),s=t.options.cwd!=null,o=s&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(t.options.cwd)}catch{}let n;try{n=n2.sync(t.command,{path:r[o2({env:r})],pathExt:e?Oy.delimiter:void 0})}catch{}finally{o&&process.chdir(i)}return n&&(n=Oy.resolve(s?t.options.cwd:"",n)),n}function a2(t){return Ay(t)||Ay(t,!0)}Cy.exports=a2});var Ty=y((mq,Hl)=>{"use strict";var Fl=/([()\][%!^"`<>&|;, *?])/g;function l2(t){return t=t.replace(Fl,"^$1"),t}function u2(t,e){return t=`${t}`,t=t.replace(/(\\*)"/g,'$1$1\\"'),t=t.replace(/(\\*)$/,"$1$1"),t=`"${t}"`,t=t.replace(Fl,"^$1"),e&&(t=t.replace(Fl,"^$1")),t}Hl.exports.command=l2;Hl.exports.argument=u2});var Py=y((gq,Ry)=>{"use strict";Ry.exports=/^#!(.*)/});var qy=y((bq,My)=>{"use strict";var c2=Py();My.exports=(t="")=>{let e=t.match(c2);if(!e)return null;let[r,i]=e[0].replace(/#! ?/,"").split(" "),s=r.split("/").pop();return s==="env"?i:i?`${s} ${i}`:s}});var Ny=y((yq,jy)=>{"use strict";var Bl=require("fs"),h2=qy();function f2(t){let r=Buffer.alloc(150),i;try{i=Bl.openSync(t,"r"),Bl.readSync(i,r,0,150,0),Bl.closeSync(i)}catch{}return h2(r.toString())}jy.exports=f2});var Fy=y((vq,$y)=>{"use strict";var d2=require("path"),Ly=Iy(),Dy=Ty(),p2=Ny(),m2=process.platform==="win32",g2=/\.(?:com|exe)$/i,b2=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function y2(t){t.file=Ly(t);let e=t.file&&p2(t.file);return e?(t.args.unshift(t.file),t.command=e,Ly(t)):t.file}function v2(t){if(!m2)return t;let e=y2(t),r=!g2.test(e);if(t.options.forceShell||r){let i=b2.test(e);t.command=d2.normalize(t.command),t.command=Dy.command(t.command),t.args=t.args.map(o=>Dy.argument(o,i));let s=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${s}"`],t.command=process.env.comspec||"cmd.exe",t.options.windowsVerbatimArguments=!0}return t}function w2(t,e,r){e&&!Array.isArray(e)&&(r=e,e=null),e=e?e.slice(0):[],r=Object.assign({},r);let i={command:t,args:e,options:r,file:void 0,original:{command:t,args:e}};return r.shell?i:v2(i)}$y.exports=w2});var Gy=y((wq,By)=>{"use strict";var Gl=process.platform==="win32";function zl(t,e){return Object.assign(new Error(`${e} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${t.command}`,path:t.command,spawnargs:t.args})}function x2(t,e){if(!Gl)return;let r=t.emit;t.emit=function(i,s){if(i==="exit"){let o=Hy(s,e,"spawn");if(o)return r.call(t,"error",o)}return r.apply(t,arguments)}}function Hy(t,e){return Gl&&t===1&&!e.file?zl(e.original,"spawn"):null}function _2(t,e){return Gl&&t===1&&!e.file?zl(e.original,"spawnSync"):null}By.exports={hookChildProcess:x2,verifyENOENT:Hy,verifyENOENTSync:_2,notFoundError:zl}});var Wy=y((xq,Br)=>{"use strict";var zy=require("child_process"),Ul=Fy(),Wl=Gy();function Uy(t,e,r){let i=Ul(t,e,r),s=zy.spawn(i.command,i.args,i.options);return Wl.hookChildProcess(s,i),s}function S2(t,e,r){let i=Ul(t,e,r),s=zy.spawnSync(i.command,i.args,i.options);return s.error=s.error||Wl.verifyENOENTSync(s.status,i),s}Br.exports=Uy;Br.exports.spawn=Uy;Br.exports.sync=S2;Br.exports._parse=Ul;Br.exports._enoent=Wl});var Ky=y((_q,Vy)=>{"use strict";Vy.exports=t=>{let e=typeof t=="string"?`
`:`
`.charCodeAt(),r=typeof t=="string"?"\r":"\r".charCodeAt();return t[t.length-1]===e&&(t=t.slice(0,t.length-1)),t[t.length-1]===r&&(t=t.slice(0,t.length-1)),t}});var Jy=y((Sq,$i)=>{"use strict";var Di=require("path"),Yy=$l(),Xy=t=>{t={cwd:process.cwd(),path:process.env[Yy()],execPath:process.execPath,...t};let e,r=Di.resolve(t.cwd),i=[];for(;e!==r;)i.push(Di.join(r,"node_modules/.bin")),e=r,r=Di.resolve(r,"..");let s=Di.resolve(t.cwd,t.execPath,"..");return i.push(s),i.concat(t.path).join(Di.delimiter)};$i.exports=Xy;$i.exports.default=Xy;$i.exports.env=t=>{t={env:process.env,...t};let e={...t.env},r=Yy({env:e});return t.path=e[r],e[r]=$i.exports(t),e}});var Zy=y((kq,Vl)=>{"use strict";var Qy=(t,e)=>{for(let r of Reflect.ownKeys(e))Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r));return t};Vl.exports=Qy;Vl.exports.default=Qy});var t0=y((Eq,kn)=>{"use strict";var k2=Zy(),Sn=new WeakMap,e0=(t,e={})=>{if(typeof t!="function")throw new TypeError("Expected a function");let r,i=0,s=t.displayName||t.name||"<anonymous>",o=function(...n){if(Sn.set(o,++i),i===1)r=t.apply(this,n),t=null;else if(e.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return r};return k2(o,t),Sn.set(o,i),o};kn.exports=e0;kn.exports.default=e0;kn.exports.callCount=t=>{if(!Sn.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return Sn.get(t)}});var r0=y(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});En.SIGNALS=void 0;var E2=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];En.SIGNALS=E2});var Kl=y(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.SIGRTMAX=Gr.getRealtimeSignals=void 0;var O2=function(){let t=s0-i0+1;return Array.from({length:t},A2)};Gr.getRealtimeSignals=O2;var A2=function(t,e){return{name:`SIGRT${e+1}`,number:i0+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},i0=34,s0=64;Gr.SIGRTMAX=s0});var n0=y(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});On.getSignals=void 0;var C2=require("os"),I2=r0(),T2=Kl(),R2=function(){let t=(0,T2.getRealtimeSignals)();return[...I2.SIGNALS,...t].map(P2)};On.getSignals=R2;var P2=function({name:t,number:e,description:r,action:i,forced:s=!1,standard:o}){let{signals:{[t]:n}}=C2.constants,a=n!==void 0;return{name:t,number:a?n:e,description:r,supported:a,action:i,forced:s,standard:o}}});var a0=y(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});zr.signalsByNumber=zr.signalsByName=void 0;var M2=require("os"),o0=n0(),q2=Kl(),j2=function(){return(0,o0.getSignals)().reduce(N2,{})},N2=function(t,{name:e,number:r,description:i,supported:s,action:o,forced:n,standard:a}){return{...t,[e]:{name:e,number:r,description:i,supported:s,action:o,forced:n,standard:a}}},L2=j2();zr.signalsByName=L2;var D2=function(){let t=(0,o0.getSignals)(),e=q2.SIGRTMAX+1,r=Array.from({length:e},(i,s)=>$2(s,t));return Object.assign({},...r)},$2=function(t,e){let r=F2(t,e);if(r===void 0)return{};let{name:i,description:s,supported:o,action:n,forced:a,standard:l}=r;return{[t]:{name:i,number:t,description:s,supported:o,action:n,forced:a,standard:l}}},F2=function(t,e){let r=e.find(({name:i})=>M2.constants.signals[i]===t);return r!==void 0?r:e.find(i=>i.number===t)},H2=D2();zr.signalsByNumber=H2});var u0=y((Tq,l0)=>{"use strict";var{signalsByName:B2}=a0(),G2=({timedOut:t,timeout:e,errorCode:r,signal:i,signalDescription:s,exitCode:o,isCanceled:n})=>t?`timed out after ${e} milliseconds`:n?"was canceled":r!==void 0?`failed with ${r}`:i!==void 0?`was killed with ${i} (${s})`:o!==void 0?`failed with exit code ${o}`:"failed",z2=({stdout:t,stderr:e,all:r,error:i,signal:s,exitCode:o,command:n,escapedCommand:a,timedOut:l,isCanceled:u,killed:c,parsed:{options:{timeout:f}}})=>{o=o===null?void 0:o,s=s===null?void 0:s;let h=s===void 0?void 0:B2[s].description,d=i&&i.code,g=`Command ${G2({timedOut:l,timeout:f,errorCode:d,signal:s,signalDescription:h,exitCode:o,isCanceled:u})}: ${n}`,b=Object.prototype.toString.call(i)==="[object Error]",m=b?`${g}
${i.message}`:g,v=[m,e,t].filter(Boolean).join(`
`);return b?(i.originalMessage=i.message,i.message=v):i=new Error(v),i.shortMessage=m,i.command=n,i.escapedCommand=a,i.exitCode=o,i.signal=s,i.signalDescription=h,i.stdout=t,i.stderr=e,r!==void 0&&(i.all=r),"bufferedData"in i&&delete i.bufferedData,i.failed=!0,i.timedOut=Boolean(l),i.isCanceled=u,i.killed=c&&!l,i};l0.exports=z2});var h0=y((Rq,Yl)=>{"use strict";var An=["stdin","stdout","stderr"],U2=t=>An.some(e=>t[e]!==void 0),c0=t=>{if(!t)return;let{stdio:e}=t;if(e===void 0)return An.map(i=>t[i]);if(U2(t))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${An.map(i=>`\`${i}\``).join(", ")}`);if(typeof e=="string")return e;if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let r=Math.max(e.length,An.length);return Array.from({length:r},(i,s)=>e[s])};Yl.exports=c0;Yl.exports.node=t=>{let e=c0(t);return e==="ipc"?"ipc":e===void 0||typeof e=="string"?[e,e,e,"ipc"]:e.includes("ipc")?e:[...e,"ipc"]}});var f0=y((Pq,Cn)=>{Cn.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&Cn.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&Cn.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var b0=y((Mq,Vr)=>{var U=global.process;typeof U!="object"||!U?Vr.exports=function(){}:(d0=require("assert"),Ur=f0(),p0=/^win/i.test(U.platform),Fi=require("events"),typeof Fi!="function"&&(Fi=Fi.EventEmitter),U.__signal_exit_emitter__?fe=U.__signal_exit_emitter__:(fe=U.__signal_exit_emitter__=new Fi,fe.count=0,fe.emitted={}),fe.infinite||(fe.setMaxListeners(1/0),fe.infinite=!0),Vr.exports=function(t,e){if(global.process===U){d0.equal(typeof t,"function","a callback must be provided for exit handler"),Wr===!1&&Xl();var r="exit";e&&e.alwaysLast&&(r="afterexit");var i=function(){fe.removeListener(r,t),fe.listeners("exit").length===0&&fe.listeners("afterexit").length===0&&In()};return fe.on(r,t),i}},In=function(){!Wr||global.process!==U||(Wr=!1,Ur.forEach(function(e){try{U.removeListener(e,Tn[e])}catch{}}),U.emit=Rn,U.reallyExit=Jl,fe.count-=1)},Vr.exports.unload=In,nr=function(e,r,i){fe.emitted[e]||(fe.emitted[e]=!0,fe.emit(e,r,i))},Tn={},Ur.forEach(function(t){Tn[t]=function(){if(U===global.process){var r=U.listeners(t);r.length===fe.count&&(In(),nr("exit",null,t),nr("afterexit",null,t),p0&&t==="SIGHUP"&&(t="SIGINT"),U.kill(U.pid,t))}}}),Vr.exports.signals=function(){return Ur},Wr=!1,Xl=function(){Wr||U!==global.process||(Wr=!0,fe.count+=1,Ur=Ur.filter(function(e){try{return U.on(e,Tn[e]),!0}catch{return!1}}),U.emit=g0,U.reallyExit=m0)},Vr.exports.load=Xl,Jl=U.reallyExit,m0=function(e){U===global.process&&(U.exitCode=e||0,nr("exit",U.exitCode,null),nr("afterexit",U.exitCode,null),Jl.call(U,U.exitCode))},Rn=U.emit,g0=function(e,r){if(e==="exit"&&U===global.process){r!==void 0&&(U.exitCode=r);var i=Rn.apply(this,arguments);return nr("exit",U.exitCode,null),nr("afterexit",U.exitCode,null),i}else return Rn.apply(this,arguments)});var d0,Ur,p0,Fi,fe,In,nr,Tn,Wr,Xl,Jl,m0,Rn,g0});var v0=y((qq,y0)=>{"use strict";var W2=require("os"),V2=b0(),K2=1e3*5,Y2=(t,e="SIGTERM",r={})=>{let i=t(e);return X2(t,e,r,i),i},X2=(t,e,r,i)=>{if(!J2(e,r,i))return;let s=Z2(r),o=setTimeout(()=>{t("SIGKILL")},s);o.unref&&o.unref()},J2=(t,{forceKillAfterTimeout:e},r)=>Q2(t)&&e!==!1&&r,Q2=t=>t===W2.constants.signals.SIGTERM||typeof t=="string"&&t.toUpperCase()==="SIGTERM",Z2=({forceKillAfterTimeout:t=!0})=>{if(t===!0)return K2;if(!Number.isFinite(t)||t<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);return t},eI=(t,e)=>{t.kill()&&(e.isCanceled=!0)},tI=(t,e,r)=>{t.kill(e),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:e}))},rI=(t,{timeout:e,killSignal:r="SIGTERM"},i)=>{if(e===0||e===void 0)return i;let s,o=new Promise((a,l)=>{s=setTimeout(()=>{tI(t,r,l)},e)}),n=i.finally(()=>{clearTimeout(s)});return Promise.race([o,n])},iI=({timeout:t})=>{if(t!==void 0&&(!Number.isFinite(t)||t<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`)},sI=async(t,{cleanup:e,detached:r},i)=>{if(!e||r)return i;let s=V2(()=>{t.kill()});return i.finally(()=>{s()})};y0.exports={spawnedKill:Y2,spawnedCancel:eI,setupTimeout:rI,validateTimeout:iI,setExitHandler:sI}});var x0=y((jq,w0)=>{"use strict";var st=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";st.writable=t=>st(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";st.readable=t=>st(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";st.duplex=t=>st.writable(t)&&st.readable(t);st.transform=t=>st.duplex(t)&&typeof t._transform=="function";w0.exports=st});var S0=y((Nq,_0)=>{"use strict";var{PassThrough:nI}=require("stream");_0.exports=t=>{t={...t};let{array:e}=t,{encoding:r}=t,i=r==="buffer",s=!1;e?s=!(r||i):r=r||"utf8",i&&(r=null);let o=new nI({objectMode:s});r&&o.setEncoding(r);let n=0,a=[];return o.on("data",l=>{a.push(l),s?n=a.length:n+=l.length}),o.getBufferedValue=()=>e?a:i?Buffer.concat(a,n):a.join(""),o.getBufferedLength=()=>n,o}});var k0=y((Lq,Hi)=>{"use strict";var{constants:oI}=require("buffer"),aI=require("stream"),{promisify:lI}=require("util"),uI=S0(),cI=lI(aI.pipeline),Pn=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function Ql(t,e){if(!t)throw new Error("Expected a stream");e={maxBuffer:1/0,...e};let{maxBuffer:r}=e,i=uI(e);return await new Promise((s,o)=>{let n=a=>{a&&i.getBufferedLength()<=oI.MAX_LENGTH&&(a.bufferedData=i.getBufferedValue()),o(a)};(async()=>{try{await cI(t,i),s()}catch(a){n(a)}})(),i.on("data",()=>{i.getBufferedLength()>r&&n(new Pn)})}),i.getBufferedValue()}Hi.exports=Ql;Hi.exports.buffer=(t,e)=>Ql(t,{...e,encoding:"buffer"});Hi.exports.array=(t,e)=>Ql(t,{...e,array:!0});Hi.exports.MaxBufferError=Pn});var O0=y((Dq,E0)=>{"use strict";var{PassThrough:hI}=require("stream");E0.exports=function(){var t=[],e=new hI({objectMode:!0});return e.setMaxListeners(0),e.add=r,e.isEmpty=i,e.on("unpipe",s),Array.prototype.slice.call(arguments).forEach(r),e;function r(o){return Array.isArray(o)?(o.forEach(r),this):(t.push(o),o.once("end",s.bind(null,o)),o.once("error",e.emit.bind(e,"error")),o.pipe(e,{end:!1}),this)}function i(){return t.length==0}function s(o){t=t.filter(function(n){return n!==o}),!t.length&&e.readable&&e.end()}}});var T0=y(($q,I0)=>{"use strict";var C0=x0(),A0=k0(),fI=O0(),dI=(t,e)=>{e===void 0||t.stdin===void 0||(C0(e)?e.pipe(t.stdin):t.stdin.end(e))},pI=(t,{all:e})=>{if(!e||!t.stdout&&!t.stderr)return;let r=fI();return t.stdout&&r.add(t.stdout),t.stderr&&r.add(t.stderr),r},Zl=async(t,e)=>{if(!!t){t.destroy();try{return await e}catch(r){return r.bufferedData}}},eu=(t,{encoding:e,buffer:r,maxBuffer:i})=>{if(!(!t||!r))return e?A0(t,{encoding:e,maxBuffer:i}):A0.buffer(t,{maxBuffer:i})},mI=async({stdout:t,stderr:e,all:r},{encoding:i,buffer:s,maxBuffer:o},n)=>{let a=eu(t,{encoding:i,buffer:s,maxBuffer:o}),l=eu(e,{encoding:i,buffer:s,maxBuffer:o}),u=eu(r,{encoding:i,buffer:s,maxBuffer:o*2});try{return await Promise.all([n,a,l,u])}catch(c){return Promise.all([{error:c,signal:c.signal,timedOut:c.timedOut},Zl(t,a),Zl(e,l),Zl(r,u)])}},gI=({input:t})=>{if(C0(t))throw new TypeError("The `input` option cannot be a stream in sync mode")};I0.exports={handleInput:dI,makeAllStream:pI,getSpawnedResult:mI,validateInputSync:gI}});var P0=y((Fq,R0)=>{"use strict";var bI=(async()=>{})().constructor.prototype,yI=["then","catch","finally"].map(t=>[t,Reflect.getOwnPropertyDescriptor(bI,t)]),vI=(t,e)=>{for(let[r,i]of yI){let s=typeof e=="function"?(...o)=>Reflect.apply(i.value,e(),o):i.value.bind(e);Reflect.defineProperty(t,r,{...i,value:s})}return t},wI=t=>new Promise((e,r)=>{t.on("exit",(i,s)=>{e({exitCode:i,signal:s})}),t.on("error",i=>{r(i)}),t.stdin&&t.stdin.on("error",i=>{r(i)})});R0.exports={mergePromise:vI,getSpawnedPromise:wI}});var j0=y((Hq,q0)=>{"use strict";var M0=(t,e=[])=>Array.isArray(e)?[t,...e]:[t],xI=/^[\w.-]+$/,_I=/"/g,SI=t=>typeof t!="string"||xI.test(t)?t:`"${t.replace(_I,'\\"')}"`,kI=(t,e)=>M0(t,e).join(" "),EI=(t,e)=>M0(t,e).map(r=>SI(r)).join(" "),OI=/ +/g,AI=t=>{let e=[];for(let r of t.trim().split(OI)){let i=e[e.length-1];i&&i.endsWith("\\")?e[e.length-1]=`${i.slice(0,-1)} ${r}`:e.push(r)}return e};q0.exports={joinCommand:kI,getEscapedCommand:EI,parseCommand:AI}});var B0=y((Bq,Kr)=>{"use strict";var CI=require("path"),tu=require("child_process"),II=Wy(),TI=Ky(),RI=Jy(),PI=t0(),Mn=u0(),L0=h0(),{spawnedKill:MI,spawnedCancel:qI,setupTimeout:jI,validateTimeout:NI,setExitHandler:LI}=v0(),{handleInput:DI,getSpawnedResult:$I,makeAllStream:FI,validateInputSync:HI}=T0(),{mergePromise:N0,getSpawnedPromise:BI}=P0(),{joinCommand:D0,parseCommand:$0,getEscapedCommand:F0}=j0(),GI=1e3*1e3*100,zI=({env:t,extendEnv:e,preferLocal:r,localDir:i,execPath:s})=>{let o=e?{...process.env,...t}:t;return r?RI.env({env:o,cwd:i,execPath:s}):o},H0=(t,e,r={})=>{let i=II._parse(t,e,r);return t=i.command,e=i.args,r=i.options,r={maxBuffer:GI,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:r.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...r},r.env=zI(r),r.stdio=L0(r),process.platform==="win32"&&CI.basename(t,".exe")==="cmd"&&e.unshift("/q"),{file:t,args:e,options:r,parsed:i}},Bi=(t,e,r)=>typeof e!="string"&&!Buffer.isBuffer(e)?r===void 0?void 0:"":t.stripFinalNewline?TI(e):e,qn=(t,e,r)=>{let i=H0(t,e,r),s=D0(t,e),o=F0(t,e);NI(i.options);let n;try{n=tu.spawn(i.file,i.args,i.options)}catch(d){let p=new tu.ChildProcess,g=Promise.reject(Mn({error:d,stdout:"",stderr:"",all:"",command:s,escapedCommand:o,parsed:i,timedOut:!1,isCanceled:!1,killed:!1}));return N0(p,g)}let a=BI(n),l=jI(n,i.options,a),u=LI(n,i.options,l),c={isCanceled:!1};n.kill=MI.bind(null,n.kill.bind(n)),n.cancel=qI.bind(null,n,c);let h=PI(async()=>{let[{error:d,exitCode:p,signal:g,timedOut:b},m,v,k]=await $I(n,i.options,u),x=Bi(i.options,m),E=Bi(i.options,v),A=Bi(i.options,k);if(d||p!==0||g!==null){let O=Mn({error:d,exitCode:p,signal:g,stdout:x,stderr:E,all:A,command:s,escapedCommand:o,parsed:i,timedOut:b,isCanceled:c.isCanceled,killed:n.killed});if(!i.options.reject)return O;throw O}return{command:s,escapedCommand:o,exitCode:0,stdout:x,stderr:E,all:A,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return DI(n,i.options.input),n.all=FI(n,i.options),N0(n,h)};Kr.exports=qn;Kr.exports.sync=(t,e,r)=>{let i=H0(t,e,r),s=D0(t,e),o=F0(t,e);HI(i.options);let n;try{n=tu.spawnSync(i.file,i.args,i.options)}catch(u){throw Mn({error:u,stdout:"",stderr:"",all:"",command:s,escapedCommand:o,parsed:i,timedOut:!1,isCanceled:!1,killed:!1})}let a=Bi(i.options,n.stdout,n.error),l=Bi(i.options,n.stderr,n.error);if(n.error||n.status!==0||n.signal!==null){let u=Mn({stdout:a,stderr:l,error:n.error,signal:n.signal,exitCode:n.status,command:s,escapedCommand:o,parsed:i,timedOut:n.error&&n.error.code==="ETIMEDOUT",isCanceled:!1,killed:n.signal!==null});if(!i.options.reject)return u;throw u}return{command:s,escapedCommand:o,exitCode:0,stdout:a,stderr:l,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};Kr.exports.command=(t,e)=>{let[r,...i]=$0(t);return qn(r,i,e)};Kr.exports.commandSync=(t,e)=>{let[r,...i]=$0(t);return qn.sync(r,i,e)};Kr.exports.node=(t,e,r={})=>{e&&!Array.isArray(e)&&typeof e=="object"&&(r=e,e=[]);let i=L0.node(r),s=process.execArgv.filter(a=>!a.startsWith("--inspect")),{nodePath:o=process.execPath,nodeOptions:n=s}=r;return qn(o,[...n,t,...Array.isArray(e)?e:[]],{...r,stdin:void 0,stdout:void 0,stderr:void 0,stdio:i,shell:!1})}});var W0={};Tc(W0,{detectPackageManager:()=>z0,installPackage:()=>WI});async function z0(t=process.cwd()){let e=null,r=await(0,su.default)(Object.keys(G0),{cwd:t}),i;if(r?i=iu.default.resolve(r,"../package.json"):i=await(0,su.default)("package.json",{cwd:t}),i&&ru.default.existsSync(i))try{let s=JSON.parse(ru.default.readFileSync(i,"utf8"));if(typeof s.packageManager=="string"){let[o,n]=s.packageManager.split("@");o==="yarn"&&parseInt(n)>1?e="yarn@berry":o==="pnpm"&&parseInt(n)<7?e="pnpm@6":o in UI?e=o:console.warn("[ni] Unknown packageManager:",s.packageManager)}}catch{}return!e&&r&&(e=G0[iu.default.basename(r)]),e}async function WI(t,e={}){let r=e.packageManager||await z0(e.cwd)||"npm",[i]=r.split("@");Array.isArray(t)||(t=[t]);let s=e.additionalArgs||[];return e.preferOffline&&(r==="yarn@berry"?s.unshift("--cached"):s.unshift("--prefer-offline")),(0,U0.default)(i,[i==="yarn"?"add":"install",e.dev?"-D":"",...s,...t].filter(Boolean),{stdio:e.silent?"ignore":"inherit",cwd:e.cwd})}var ru,iu,su,U0,UI,G0,V0=v_(()=>{ru=$(require("fs"),1),iu=$(require("path"),1),su=$(ny(),1),U0=$(B0(),1),UI=["pnpm","yarn","npm","pnpm@6","yarn@berry","bun"],G0={"bun.lockb":"bun","pnpm-lock.yaml":"pnpm","yarn.lock":"yarn","package-lock.json":"npm","npm-shrinkwrap.json":"npm"}});var pu=y((exports,module)=>{var requireFoolWebpack=eval(`typeof require !== 'undefined' ? require : function (module) { throw new Error('Module " + module + " not found.') }`);module.exports=requireFoolWebpack});var jn=y((Xq,ar)=>{var iv=pu(),sv=function(t){return typeof t<"u"&&t.versions!=null&&t.versions.node!=null};ar.exports.isNode=sv;ar.exports.platform=typeof process<"u"&&sv(process)?"node":"browser";var rv=JI("worker_threads");ar.exports.isMainThread=ar.exports.platform==="node"?(!rv||rv.isMainThread)&&!process.connected:typeof Window<"u";ar.exports.cpus=ar.exports.platform==="browser"?self.navigator.hardwareConcurrency:iv("os").cpus().length;function JI(t){try{return iv(t)}catch{return null}}});var Nn=y((Jq,ov)=>{"use strict";function Be(t,e){var r=this;if(!(this instanceof Be))throw new SyntaxError("Constructor must be called with the new operator");if(typeof t!="function")throw new SyntaxError("Function parameter handler(resolve, reject) missing");var i=[],s=[];this.resolved=!1,this.rejected=!1,this.pending=!0;var o=function(l,u){i.push(l),s.push(u)};this.then=function(l,u){return new Be(function(c,f){var h=l?nv(l,c,f):c,d=u?nv(u,c,f):f;o(h,d)},r)};var n=function(l){return r.resolved=!0,r.rejected=!1,r.pending=!1,i.forEach(function(u){u(l)}),o=function(u,c){u(l)},n=a=function(){},r},a=function(l){return r.resolved=!1,r.rejected=!0,r.pending=!1,s.forEach(function(u){u(l)}),o=function(u,c){c(l)},n=a=function(){},r};this.cancel=function(){return e?e.cancel():a(new Gi),r},this.timeout=function(l){if(e)e.timeout(l);else{var u=setTimeout(function(){a(new zi("Promise timed out after "+l+" ms"))},l);r.always(function(){clearTimeout(u)})}return r},t(function(l){n(l)},function(l){a(l)})}function nv(t,e,r){return function(i){try{var s=t(i);s&&typeof s.then=="function"&&typeof s.catch=="function"?s.then(e,r):e(s)}catch(o){r(o)}}}Be.prototype.catch=function(t){return this.then(null,t)};Be.prototype.always=function(t){return this.then(t,t)};Be.all=function(t){return new Be(function(e,r){var i=t.length,s=[];i?t.forEach(function(o,n){o.then(function(a){s[n]=a,i--,i==0&&e(s)},function(a){i=0,r(a)})}):e(s)})};Be.defer=function(){var t={};return t.promise=new Be(function(e,r){t.resolve=e,t.reject=r}),t};function Gi(t){this.message=t||"promise cancelled",this.stack=new Error().stack}Gi.prototype=new Error;Gi.prototype.constructor=Error;Gi.prototype.name="CancellationError";Be.CancellationError=Gi;function zi(t){this.message=t||"timeout exceeded",this.stack=new Error().stack}zi.prototype=new Error;zi.prototype.constructor=Error;zi.prototype.name="TimeoutError";Be.TimeoutError=zi;ov.exports=Be});var lv=y((Qq,av)=>{av.exports=`!function(){var __webpack_exports__={};!function(){var exports=__webpack_exports__,__webpack_unused_export__;function _typeof(r){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}var requireFoolWebpack=eval("typeof require !== 'undefined' ? require : function (module) { throw new Error('Module \\" + module + \\" not found.') }"),TERMINATE_METHOD_ID="__workerpool-terminate__",worker={exit:function(){}},WorkerThreads,parentPort;if("undefined"!=typeof self&&"function"==typeof postMessage&&"function"==typeof addEventListener)worker.on=function(r,e){addEventListener(r,function(r){e(r.data)})},worker.send=function(r){postMessage(r)};else{if("undefined"==typeof process)throw new Error("Script must be executed as a worker");try{WorkerThreads=requireFoolWebpack("worker_threads")}catch(error){if("object"!==_typeof(error)||null===error||"MODULE_NOT_FOUND"!==error.code)throw error}WorkerThreads&&null!==WorkerThreads.parentPort?(parentPort=WorkerThreads.parentPort,worker.send=parentPort.postMessage.bind(parentPort),worker.on=parentPort.on.bind(parentPort)):(worker.on=process.on.bind(process),worker.send=process.send.bind(process),worker.on("disconnect",function(){process.exit(1)}),worker.exit=process.exit.bind(process))}function convertError(o){return Object.getOwnPropertyNames(o).reduce(function(r,e){return Object.defineProperty(r,e,{value:o[e],enumerable:!0})},{})}function isPromise(r){return r&&"function"==typeof r.then&&"function"==typeof r.catch}worker.methods={},worker.methods.run=function(r,e){r=new Function("return ("+r+").apply(null, arguments);");return r.apply(r,e)},worker.methods.methods=function(){return Object.keys(worker.methods)};var currentRequestId=null;worker.on("message",function(e){if(e===TERMINATE_METHOD_ID)return worker.exit(0);try{var r=worker.methods[e.method];if(!r)throw new Error('Unknown method "'+e.method+'"');currentRequestId=e.id;var o=r.apply(r,e.params);isPromise(o)?o.then(function(r){worker.send({id:e.id,result:r,error:null}),currentRequestId=null}).catch(function(r){worker.send({id:e.id,result:null,error:convertError(r)}),currentRequestId=null}):(worker.send({id:e.id,result:o,error:null}),currentRequestId=null)}catch(r){worker.send({id:e.id,result:null,error:convertError(r)})}}),worker.register=function(r){if(r)for(var e in r)r.hasOwnProperty(e)&&(worker.methods[e]=r[e]);worker.send("ready")},worker.emit=function(r){currentRequestId&&worker.send({id:currentRequestId,isEvent:!0,payload:r})},__webpack_unused_export__=worker.register,__webpack_unused_export__=worker.emit}()}();`});var pv=y((Zq,lr)=>{"use strict";var Ln=Nn(),fv=jn(),mu=pu(),uv="__workerpool-terminate__",QI=1e3;function dv(){var t=vu();if(!t)throw new Error("WorkerPool: workerType = 'thread' is not supported, Node >= 11.7.0 required");return t}function cv(){if(typeof Worker!="function"&&(typeof Worker!="object"||typeof Worker.prototype.constructor!="function"))throw new Error("WorkerPool: Web Workers not supported")}function vu(){try{return mu("worker_threads")}catch(t){if(typeof t=="object"&&t!==null&&t.code==="MODULE_NOT_FOUND")return null;throw t}}function ZI(){if(fv.platform==="browser"){if(typeof Blob>"u")throw new Error("Blob not supported by the browser");if(!window.URL||typeof window.URL.createObjectURL!="function")throw new Error("URL.createObjectURL not supported by the browser");var t=new Blob([lv()],{type:"text/javascript"});return window.URL.createObjectURL(t)}else return __dirname+"/worker.js"}function eT(t,e){if(e.workerType==="web")return cv(),gu(t,Worker);if(e.workerType==="thread")return r=dv(),bu(t,r);if(e.workerType==="process"||!e.workerType)return yu(t,hv(e),mu("child_process"));if(fv.platform==="browser")return cv(),gu(t,Worker);var r=vu();return r?bu(t,r):yu(t,hv(e),mu("child_process"))}function gu(t,e){var r=new e(t);return r.isBrowserWorker=!0,r.on=function(i,s){this.addEventListener(i,function(o){s(o.data)})},r.send=function(i){this.postMessage(i)},r}function bu(t,e){var r=new e.Worker(t,{stdout:!1,stderr:!1});return r.isWorkerThread=!0,r.send=function(i){this.postMessage(i)},r.kill=function(){return this.terminate(),!0},r.disconnect=function(){this.terminate()},r}function yu(t,e,r){var i=r.fork(t,e.forkArgs,e.forkOpts);return i.isChildProcess=!0,i}function hv(t){t=t||{};var e=process.execArgv.join(" "),r=e.indexOf("--inspect")!==-1,i=e.indexOf("--debug-brk")!==-1,s=[];return r&&(s.push("--inspect="+t.debugPort),i&&s.push("--debug-brk")),process.execArgv.forEach(function(o){o.indexOf("--max-old-space-size")>-1&&s.push(o)}),Object.assign({},t,{forkArgs:t.forkArgs,forkOpts:Object.assign({},t.forkOpts,{execArgv:(t.forkOpts&&t.forkOpts.execArgv||[]).concat(s)})})}function tT(t){for(var e=new Error(""),r=Object.keys(t),i=0;i<r.length;i++)e[r[i]]=t[r[i]];return e}function Qr(t,e){var r=this,i=e||{};this.script=t||ZI(),this.worker=eT(this.script,i),this.debugPort=i.debugPort,t||(this.worker.ready=!0),this.requestQueue=[],this.worker.on("message",function(a){if(!r.terminated)if(typeof a=="string"&&a==="ready")r.worker.ready=!0,o();else{var l=a.id,u=r.processing[l];u!==void 0&&(a.isEvent?u.options&&typeof u.options.on=="function"&&u.options.on(a.payload):(delete r.processing[l],r.terminating===!0&&r.terminate(),a.error?u.resolver.reject(tT(a.error)):u.resolver.resolve(a.result)))}});function s(a){r.terminated=!0;for(var l in r.processing)r.processing[l]!==void 0&&r.processing[l].resolver.reject(a);r.processing=Object.create(null)}function o(){for(let a of r.requestQueue.splice(0))r.worker.send(a)}var n=this.worker;this.worker.on("error",s),this.worker.on("exit",function(a,l){var u=`Workerpool Worker terminated Unexpectedly
`;u+="    exitCode: `"+a+"`\n",u+="    signalCode: `"+l+"`\n",u+="    workerpool.script: `"+r.script+"`\n",u+="    spawnArgs: `"+n.spawnargs+"`\n",u+="    spawnfile: `"+n.spawnfile+"`\n",u+="    stdout: `"+n.stdout+"`\n",u+="    stderr: `"+n.stderr+"`\n",s(new Error(u))}),this.processing=Object.create(null),this.terminating=!1,this.terminated=!1,this.terminationHandler=null,this.lastId=0}Qr.prototype.methods=function(){return this.exec("methods")};Qr.prototype.exec=function(t,e,r,i){r||(r=Ln.defer());var s=++this.lastId;this.processing[s]={id:s,resolver:r,options:i};var o={id:s,method:t,params:e};this.terminated?r.reject(new Error("Worker is terminated")):this.worker.ready?this.worker.send(o):this.requestQueue.push(o);var n=this;return r.promise.catch(function(a){if(a instanceof Ln.CancellationError||a instanceof Ln.TimeoutError)return delete n.processing[s],n.terminateAndNotify(!0).then(function(){throw a},function(l){throw l});throw a})};Qr.prototype.busy=function(){return Object.keys(this.processing).length>0};Qr.prototype.terminate=function(t,e){var r=this;if(t){for(var i in this.processing)this.processing[i]!==void 0&&this.processing[i].resolver.reject(new Error("Worker terminated"));this.processing=Object.create(null)}if(typeof e=="function"&&(this.terminationHandler=e),this.busy())this.terminating=!0;else{var s=function(n){if(r.terminated=!0,r.worker!=null&&r.worker.removeAllListeners&&r.worker.removeAllListeners("message"),r.worker=null,r.terminating=!1,r.terminationHandler)r.terminationHandler(n,r);else if(n)throw n};if(this.worker)if(typeof this.worker.kill=="function"){if(this.worker.killed){s(new Error("worker already killed!"));return}if(this.worker.isChildProcess){var o=setTimeout(function(){r.worker.kill()},QI);this.worker.once("exit",function(){clearTimeout(o),r.worker.killed=!0,s()}),this.worker.ready?this.worker.send(uv):this.worker.requestQueue.push(uv)}else this.worker.kill(),this.worker.killed=!0,s();return}else if(typeof this.worker.terminate=="function")this.worker.terminate(),this.worker.killed=!0;else throw new Error("Failed to terminate worker");s()}};Qr.prototype.terminateAndNotify=function(t,e){var r=Ln.defer();return e&&(r.promise.timeout=e),this.terminate(t,function(i,s){i?r.reject(i):r.resolve(s)}),r.promise};lr.exports=Qr;lr.exports._tryRequireWorkerThreads=vu;lr.exports._setupProcessWorker=yu;lr.exports._setupBrowserWorker=gu;lr.exports._setupWorkerThreadWorker=bu;lr.exports.ensureWorkerThreads=dv});var bv=y((ej,gv)=>{"use strict";var mv=65535;gv.exports=wu;function wu(){this.ports=Object.create(null),this.length=0}wu.prototype.nextAvailableStartingAt=function(t){for(;this.ports[t]===!0;)t++;if(t>=mv)throw new Error("WorkerPool debug port limit reached: "+t+">= "+mv);return this.ports[t]=!0,this.length++,t};wu.prototype.releasePort=function(t){delete this.ports[t],this.length--}});var Sv=y((tj,_v)=>{var xu=Nn(),yv=pv(),rT=jn(),iT=bv(),vv=new iT;function Ge(t,e){typeof t=="string"?this.script=t||null:(this.script=null,e=t),this.workers=[],this.tasks=[],e=e||{},this.forkArgs=e.forkArgs||[],this.forkOpts=e.forkOpts||{},this.debugPortStart=e.debugPortStart||43210,this.nodeWorker=e.nodeWorker,this.workerType=e.workerType||e.nodeWorker||"auto",this.maxQueueSize=e.maxQueueSize||1/0,e&&"maxWorkers"in e?(sT(e.maxWorkers),this.maxWorkers=e.maxWorkers):this.maxWorkers=Math.max((rT.cpus||4)-1,1),e&&"minWorkers"in e&&(e.minWorkers==="max"?this.minWorkers=this.maxWorkers:(nT(e.minWorkers),this.minWorkers=e.minWorkers,this.maxWorkers=Math.max(this.minWorkers,this.maxWorkers)),this._ensureMinWorkers()),this._boundNext=this._next.bind(this),this.workerType==="thread"&&yv.ensureWorkerThreads()}Ge.prototype.exec=function(t,e,r){if(e&&!Array.isArray(e))throw new TypeError('Array expected as argument "params"');if(typeof t=="string"){var i=xu.defer();if(this.tasks.length>=this.maxQueueSize)throw new Error("Max queue size of "+this.maxQueueSize+" reached");var s=this.tasks,o={method:t,params:e,resolver:i,timeout:null,options:r};s.push(o);var n=i.promise.timeout;return i.promise.timeout=function(l){return s.indexOf(o)!==-1?(o.timeout=l,i.promise):n.call(i.promise,l)},this._next(),i.promise}else{if(typeof t=="function")return this.exec("run",[String(t),e]);throw new TypeError('Function or string expected as argument "method"')}};Ge.prototype.proxy=function(){if(arguments.length>0)throw new Error("No arguments expected");var t=this;return this.exec("methods").then(function(e){var r={};return e.forEach(function(i){r[i]=function(){return t.exec(i,Array.prototype.slice.call(arguments))}}),r})};Ge.prototype._next=function(){if(this.tasks.length>0){var t=this._getWorker();if(t){var e=this,r=this.tasks.shift();if(r.resolver.promise.pending){var i=t.exec(r.method,r.params,r.resolver,r.options).then(e._boundNext).catch(function(){if(t.terminated)return e._removeWorker(t)}).then(function(){e._next()});typeof r.timeout=="number"&&i.timeout(r.timeout)}else e._next()}}};Ge.prototype._getWorker=function(){for(var t=this.workers,e=0;e<t.length;e++){var r=t[e];if(r.busy()===!1)return r}return t.length<this.maxWorkers?(r=this._createWorkerHandler(),t.push(r),r):null};Ge.prototype._removeWorker=function(t){return vv.releasePort(t.debugPort),this._removeWorkerFromList(t),this._ensureMinWorkers(),new xu(function(e,r){t.terminate(!1,function(i){i?r(i):e(t)})})};Ge.prototype._removeWorkerFromList=function(t){var e=this.workers.indexOf(t);e!==-1&&this.workers.splice(e,1)};Ge.prototype.terminate=function(t,e){this.tasks.forEach(function(n){n.resolver.reject(new Error("Pool terminated"))}),this.tasks.length=0;var r=function(n){this._removeWorkerFromList(n)},i=r.bind(this),s=[],o=this.workers.slice();return o.forEach(function(n){var a=n.terminateAndNotify(t,e).then(i);s.push(a)}),xu.all(s)};Ge.prototype.stats=function(){var t=this.workers.length,e=this.workers.filter(function(r){return r.busy()}).length;return{totalWorkers:t,busyWorkers:e,idleWorkers:t-e,pendingTasks:this.tasks.length,activeTasks:e}};Ge.prototype._ensureMinWorkers=function(){if(this.minWorkers)for(var t=this.workers.length;t<this.minWorkers;t++)this.workers.push(this._createWorkerHandler())};Ge.prototype._createWorkerHandler=function(){return new yv(this.script,{forkArgs:this.forkArgs,forkOpts:this.forkOpts,debugPort:vv.nextAvailableStartingAt(this.debugPortStart),workerType:this.workerType})};function sT(t){if(!wv(t)||!xv(t)||t<1)throw new TypeError("Option maxWorkers must be an integer number >= 1")}function nT(t){if(!wv(t)||!xv(t)||t<0)throw new TypeError("Option minWorkers must be an integer number >= 0")}function wv(t){return typeof t=="number"}function xv(t){return Math.round(t)==t}_v.exports=Ge});var _u=y((exports,module)=>{var requireFoolWebpack=eval(`typeof require !== 'undefined' ? require : function (module) { throw new Error('Module " + module + " not found.') }`),TERMINATE_METHOD_ID="__workerpool-terminate__",worker={exit:function(){}};if(typeof self<"u"&&typeof postMessage=="function"&&typeof addEventListener=="function")worker.on=function(t,e){addEventListener(t,function(r){e(r.data)})},worker.send=function(t){postMessage(t)};else if(typeof process<"u"){try{WorkerThreads=requireFoolWebpack("worker_threads")}catch(t){if(!(typeof t=="object"&&t!==null&&t.code==="MODULE_NOT_FOUND"))throw t}WorkerThreads&&WorkerThreads.parentPort!==null?(parentPort=WorkerThreads.parentPort,worker.send=parentPort.postMessage.bind(parentPort),worker.on=parentPort.on.bind(parentPort)):(worker.on=process.on.bind(process),worker.send=process.send.bind(process),worker.on("disconnect",function(){process.exit(1)}),worker.exit=process.exit.bind(process))}else throw new Error("Script must be executed as a worker");var WorkerThreads,parentPort;function convertError(t){return Object.getOwnPropertyNames(t).reduce(function(e,r){return Object.defineProperty(e,r,{value:t[r],enumerable:!0})},{})}function isPromise(t){return t&&typeof t.then=="function"&&typeof t.catch=="function"}worker.methods={};worker.methods.run=function t(e,r){var i=new Function("return ("+e+").apply(null, arguments);");return i.apply(i,r)};worker.methods.methods=function t(){return Object.keys(worker.methods)};var currentRequestId=null;worker.on("message",function(t){if(t===TERMINATE_METHOD_ID)return worker.exit(0);try{var e=worker.methods[t.method];if(e){currentRequestId=t.id;var r=e.apply(e,t.params);isPromise(r)?r.then(function(i){worker.send({id:t.id,result:i,error:null}),currentRequestId=null}).catch(function(i){worker.send({id:t.id,result:null,error:convertError(i)}),currentRequestId=null}):(worker.send({id:t.id,result:r,error:null}),currentRequestId=null)}else throw new Error('Unknown method "'+t.method+'"')}catch(i){worker.send({id:t.id,result:null,error:convertError(i)})}});worker.register=function(t){if(t)for(var e in t)t.hasOwnProperty(e)&&(worker.methods[e]=t[e]);worker.send("ready")};worker.emit=function(t){currentRequestId&&worker.send({id:currentRequestId,isEvent:!0,payload:t})};typeof exports<"u"&&(exports.add=worker.register,exports.emit=worker.emit)});var kv=y(Lt=>{var Su=jn();Lt.pool=function(e,r){var i=Sv();return new i(e,r)};Lt.worker=function(e){var r=_u();r.add(e)};Lt.workerEmit=function(e){var r=_u();r.emit(e)};Lt.Promise=Nn();Lt.platform=Su.platform;Lt.isMainThread=Su.isMainThread;Lt.cpus=Su.cpus});var Rv=y((aj,Tv)=>{var j={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};Tv.exports={conv:j};for(let t of Object.keys(j)){if(!("channels"in j[t]))throw new Error("missing channels property: "+t);if(!("labels"in j[t]))throw new Error("missing channel labels property: "+t);if(j[t].labels.length!==j[t].channels)throw new Error("channel and label counts mismatch: "+t);let{channels:e,labels:r}=j[t];delete j[t].channels,delete j[t].labels,Object.defineProperty(j[t],"channels",{value:e}),Object.defineProperty(j[t],"labels",{value:r})}j.rgb.hsl=function(t){let e=t[0]/255,r=t[1]/255,i=t[2]/255,s=Math.min(e,r,i),o=Math.max(e,r,i),n=o-s,a,l;o===s?a=0:e===o?a=(r-i)/n:r===o?a=2+(i-e)/n:i===o&&(a=4+(e-r)/n),a=Math.min(a*60,360),a<0&&(a+=360);let u=(s+o)/2;return o===s?l=0:u<=.5?l=n/(o+s):l=n/(2-o-s),[a,l*100,u*100]};j.rgb.hsv=function(t){let e,r,i,s,o,n=t[0]/255,a=t[1]/255,l=t[2]/255,u=Math.max(n,a,l),c=u-Math.min(n,a,l),f=function(h){return(u-h)/6/c+1/2};return c===0?(s=0,o=0):(o=c/u,e=f(n),r=f(a),i=f(l),n===u?s=i-r:a===u?s=1/3+e-i:l===u&&(s=2/3+r-e),s<0?s+=1:s>1&&(s-=1)),[s*360,o*100,u*100]};j.rgb.hwb=function(t){let e=t[0],r=t[1],i=t[2],s=j.rgb.hsl(t)[0],o=1/255*Math.min(e,Math.min(r,i));return i=1-1/255*Math.max(e,Math.max(r,i)),[s,o*100,i*100]};j.rgb.cmyk=function(t){let e=t[0]/255,r=t[1]/255,i=t[2]/255,s=Math.min(1-e,1-r,1-i),o=(1-e-s)/(1-s)||0,n=(1-r-s)/(1-s)||0,a=(1-i-s)/(1-s)||0;return[o*100,n*100,a*100,s*100]};j.rgb.xyz=function(t){let e=t[0]/255,r=t[1]/255,i=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92;let s=e*.4124564+r*.3575761+i*.1804375,o=e*.2126729+r*.7151522+i*.072175,n=e*.0193339+r*.119192+i*.9503041;return[s*100,o*100,n*100]};j.rgb.lab=function(t){let e=j.rgb.xyz(t),r=e[0],i=e[1],s=e[2];r/=95.047,i/=100,s/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,s=s>.008856?s**(1/3):7.787*s+16/116;let o=116*i-16,n=500*(r-i),a=200*(i-s);return[o,n,a]};j.hsl.rgb=function(t){let e=t[0]/360,r=t[1]/100,i=t[2]/100,s,o,n;if(r===0)return n=i*255,[n,n,n];i<.5?s=i*(1+r):s=i+r-i*r;let a=2*i-s,l=[0,0,0];for(let u=0;u<3;u++)o=e+1/3*-(u-1),o<0&&o++,o>1&&o--,6*o<1?n=a+(s-a)*6*o:2*o<1?n=s:3*o<2?n=a+(s-a)*(2/3-o)*6:n=a,l[u]=n*255;return l};j.hsl.hsv=function(t){let e=t[0],r=t[1]/100,i=t[2]/100,s=r,o=Math.max(i,.01);i*=2,r*=i<=1?i:2-i,s*=o<=1?o:2-o;let n=(i+r)/2,a=i===0?2*s/(o+s):2*r/(i+r);return[e,a*100,n*100]};j.hsv.rgb=function(t){let e=t[0]/60,r=t[1]/100,i=t[2]/100,s=Math.floor(e)%6,o=e-Math.floor(e),n=255*i*(1-r),a=255*i*(1-r*o),l=255*i*(1-r*(1-o));switch(i*=255,s){case 0:return[i,l,n];case 1:return[a,i,n];case 2:return[n,i,l];case 3:return[n,a,i];case 4:return[l,n,i];case 5:return[i,n,a]}};j.hsv.hsl=function(t){let e=t[0],r=t[1]/100,i=t[2]/100,s=Math.max(i,.01),o,n;n=(2-r)*i;let a=(2-r)*s;return o=r*s,o/=a<=1?a:2-a,o=o||0,n/=2,[e,o*100,n*100]};j.hwb.rgb=function(t){let e=t[0]/360,r=t[1]/100,i=t[2]/100,s=r+i,o;s>1&&(r/=s,i/=s);let n=Math.floor(6*e),a=1-i;o=6*e-n,(n&1)!==0&&(o=1-o);let l=r+o*(a-r),u,c,f;switch(n){default:case 6:case 0:u=a,c=l,f=r;break;case 1:u=l,c=a,f=r;break;case 2:u=r,c=a,f=l;break;case 3:u=r,c=l,f=a;break;case 4:u=l,c=r,f=a;break;case 5:u=a,c=r,f=l;break}return[u*255,c*255,f*255]};j.cmyk.rgb=function(t){let e=t[0]/100,r=t[1]/100,i=t[2]/100,s=t[3]/100,o=1-Math.min(1,e*(1-s)+s),n=1-Math.min(1,r*(1-s)+s),a=1-Math.min(1,i*(1-s)+s);return[o*255,n*255,a*255]};j.xyz.rgb=function(t){let e=t[0]/100,r=t[1]/100,i=t[2]/100,s,o,n;return s=e*3.2404542+r*-1.5371385+i*-.4985314,o=e*-.969266+r*1.8760108+i*.041556,n=e*.0556434+r*-.2040259+i*1.0572252,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,n=n>.0031308?1.055*n**(1/2.4)-.055:n*12.92,s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),n=Math.min(Math.max(0,n),1),[s*255,o*255,n*255]};j.xyz.lab=function(t){let e=t[0],r=t[1],i=t[2];e/=95.047,r/=100,i/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let s=116*r-16,o=500*(e-r),n=200*(r-i);return[s,o,n]};j.lab.xyz=function(t){let e=t[0],r=t[1],i=t[2],s,o,n;o=(e+16)/116,s=r/500+o,n=o-i/200;let a=o**3,l=s**3,u=n**3;return o=a>.008856?a:(o-16/116)/7.787,s=l>.008856?l:(s-16/116)/7.787,n=u>.008856?u:(n-16/116)/7.787,s*=95.047,o*=100,n*=108.883,[s,o,n]};j.lab.lch=function(t){let e=t[0],r=t[1],i=t[2],s;s=Math.atan2(i,r)*360/2/Math.PI,s<0&&(s+=360);let n=Math.sqrt(r*r+i*i);return[e,n,s]};j.lch.lab=function(t){let e=t[0],r=t[1],s=t[2]/360*2*Math.PI,o=r*Math.cos(s),n=r*Math.sin(s);return[e,o,n]};j.rgb.ansi16=function(t,e=null){let[r,i,s]=t,o=e===null?j.rgb.hsv(t)[2]:e;if(o=Math.round(o/50),o===0)return 30;let n=30+(Math.round(s/255)<<2|Math.round(i/255)<<1|Math.round(r/255));return o===2&&(n+=60),n};j.hsv.ansi16=function(t){return j.rgb.ansi16(j.hsv.rgb(t),t[2])};j.rgb.ansi256=function(t){let e=t[0],r=t[1],i=t[2];return e===r&&r===i?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(i/255*5)};j.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let r=(~~(t>50)+1)*.5,i=(e&1)*r*255,s=(e>>1&1)*r*255,o=(e>>2&1)*r*255;return[i,s,o]};j.ansi256.rgb=function(t){if(t>=232){let o=(t-232)*10+8;return[o,o,o]}t-=16;let e,r=Math.floor(t/36)/5*255,i=Math.floor((e=t%36)/6)/5*255,s=e%6/5*255;return[r,i,s]};j.rgb.hex=function(t){let r=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};j.hex.rgb=function(t){let e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let r=e[0];e[0].length===3&&(r=r.split("").map(a=>a+a).join(""));let i=parseInt(r,16),s=i>>16&255,o=i>>8&255,n=i&255;return[s,o,n]};j.hex.hsl=function(t){return j.rgb.hsl(j.hex.rgb(t))};j.rgb.hcg=function(t){let e=t[0]/255,r=t[1]/255,i=t[2]/255,s=Math.max(Math.max(e,r),i),o=Math.min(Math.min(e,r),i),n=s-o,a,l;return n<1?a=o/(1-n):a=0,n<=0?l=0:s===e?l=(r-i)/n%6:s===r?l=2+(i-e)/n:l=4+(e-r)/n,l/=6,l%=1,[l*360,n*100,a*100]};j.hsl.hcg=function(t){let e=t[1]/100,r=t[2]/100,i=r<.5?2*e*r:2*e*(1-r),s=0;return i<1&&(s=(r-.5*i)/(1-i)),[t[0],i*100,s*100]};j.hsv.hcg=function(t){let e=t[1]/100,r=t[2]/100,i=e*r,s=0;return i<1&&(s=(r-i)/(1-i)),[t[0],i*100,s*100]};j.hcg.rgb=function(t){let e=t[0]/360,r=t[1]/100,i=t[2]/100;if(r===0)return[i*255,i*255,i*255];let s=[0,0,0],o=e%1*6,n=o%1,a=1-n,l=0;switch(Math.floor(o)){case 0:s[0]=1,s[1]=n,s[2]=0;break;case 1:s[0]=a,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=n;break;case 3:s[0]=0,s[1]=a,s[2]=1;break;case 4:s[0]=n,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=a}return l=(1-r)*i,[(r*s[0]+l)*255,(r*s[1]+l)*255,(r*s[2]+l)*255]};j.hcg.hsv=function(t){let e=t[1]/100,r=t[2]/100,i=e+r*(1-e),s=0;return i>0&&(s=e/i),[t[0],s*100,i*100]};j.hcg.hsl=function(t){let e=t[1]/100,i=t[2]/100*(1-e)+.5*e,s=0;return i>0&&i<.5?s=e/(2*i):i>=.5&&i<1&&(s=e/(2*(1-i))),[t[0],s*100,i*100]};j.hcg.hwb=function(t){let e=t[1]/100,r=t[2]/100,i=e+r*(1-e);return[t[0],(i-e)*100,(1-i)*100]};j.hwb.hcg=function(t){let e=t[1]/100,r=t[2]/100,i=1-r,s=i-e,o=0;return s<1&&(o=(i-s)/(1-s)),[t[0],s*100,o*100]};j.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};j.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};j.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};j.gray.hsl=function(t){return[0,0,t[0]]};j.gray.hsv=j.gray.hsl;j.gray.hwb=function(t){return[0,100,t[0]]};j.gray.cmyk=function(t){return[0,0,0,t[0]]};j.gray.lab=function(t){return[t[0],0,0]};j.gray.hex=function(t){let e=Math.round(t[0]/100*255)&255,i=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(i.length)+i};j.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}});var Fv=y((pj,$v)=>{var ve=require("fs"),Vi=require("path");$v.exports=zn;zn.ncp=zn;function zn(t,e,r,i){var s=i;i||(s=r,r={});var o=process.cwd(),n=Vi.resolve(o,t),a=Vi.resolve(o,e),l=r.filter,u=r.rename,c=r.transform,f=r.clobber!==!1,h=r.modified,d=r.dereference,p=null,g=0,b=0,m=0,v=r.limit||zn.limit||16;v=v<1?1:v>512?512:v,k(n);function k(M){if(g++,l){if(l instanceof RegExp){if(!l.test(M))return S(!0)}else if(typeof l=="function"&&!l(M))return S(!0)}return x(M)}function x(M){var P=d?ve.stat:ve.lstat;if(m>=v)return setImmediate(function(){x(M)});m++,P(M,function(L,B){var K={};if(L)return _(L);if(K.name=M,K.mode=B.mode,K.mtime=B.mtime,K.atime=B.atime,B.isDirectory())return C(K);if(B.isFile())return E(K);if(B.isSymbolicLink())return w(M)})}function E(M){var P=M.name.replace(n,a);u&&(P=u(P)),he(P,function(L){if(L)return A(M,P);if(f&&O(P,function(){A(M,P)}),h){var B=d?ve.stat:ve.lstat;B(P,function(K,Ve){if(M.mtime.getTime()>Ve.mtime.getTime())A(M,P);else return S()})}else return S()})}function A(M,P){var L=ve.createReadStream(M.name),B=ve.createWriteStream(P,{mode:M.mode});L.on("error",_),B.on("error",_),c?c(L,B,M):B.on("open",function(){L.pipe(B)}),B.once("finish",function(){h&&ve.utimesSync(P,M.atime,M.mtime),S()})}function O(M,P){ve.unlink(M,function(L){return L?_(L):P()})}function C(M){var P=M.name.replace(n,a);he(P,function(L){if(L)return R(M,P);T(M.name)})}function R(M,P){ve.mkdir(P,M.mode,function(L){if(L)return _(L);T(M.name)})}function T(M){ve.readdir(M,function(P,L){return P?_(P):(L.forEach(function(B){k(Vi.join(M,B))}),S())})}function w(M){var P=M.replace(n,a);ve.readlink(M,function(L,B){if(L)return _(L);N(B,P)})}function N(M,P){d&&(M=Vi.resolve(o,M)),he(P,function(L){if(L)return D(M,P);ve.readlink(P,function(B,K){return B?_(B):(d&&(K=Vi.resolve(o,K)),K===M?S():O(P,function(){D(M,P)}))})})}function D(M,P){ve.symlink(M,P,function(L){return L?_(L):S()})}function he(M,P){ve.lstat(M,function(L){return L&&L.code==="ENOENT"?P(!0):P(!1)})}function _(M){return r.stopOnError?s(M):(!p&&r.errs?p=ve.createWriteStream(r.errs):p||(p=[]),typeof p.write>"u"?p.push(M):p.write(M.stack+`

`),S())}function S(M){if(M||m--,b++,g===b&&m===0&&s!==void 0)return s(p||null)}}});var dw=y((Nj,fw)=>{var hw={};fw.exports=hw;var cw={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(cw).forEach(function(t){var e=cw[t],r=hw[t]=[];r.open="\x1B["+e[0]+"m",r.close="\x1B["+e[1]+"m"})});var mw=y((Lj,pw)=>{"use strict";pw.exports=function(t,e){e=e||process.argv;var r=e.indexOf("--"),i=/^-{1,2}/.test(t)?"":"--",s=e.indexOf(i+t);return s!==-1&&(r===-1?!0:s<r)}});var bw=y((Dj,gw)=>{"use strict";var ET=require("os"),ze=mw(),xe=process.env,ri=void 0;ze("no-color")||ze("no-colors")||ze("color=false")?ri=!1:(ze("color")||ze("colors")||ze("color=true")||ze("color=always"))&&(ri=!0);"FORCE_COLOR"in xe&&(ri=xe.FORCE_COLOR.length===0||parseInt(xe.FORCE_COLOR,10)!==0);function OT(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function AT(t){if(ri===!1)return 0;if(ze("color=16m")||ze("color=full")||ze("color=truecolor"))return 3;if(ze("color=256"))return 2;if(t&&!t.isTTY&&ri!==!0)return 0;var e=ri?1:0;if(process.platform==="win32"){var r=ET.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in xe)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(s){return s in xe})||xe.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in xe)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(xe.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in xe){var i=parseInt((xe.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(xe.TERM_PROGRAM){case"iTerm.app":return i>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(xe.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(xe.TERM)||"COLORTERM"in xe?1:(xe.TERM==="dumb",e)}function Du(t){var e=AT(t);return OT(e)}gw.exports={supportsColor:Du,stdout:Du(process.stdout),stderr:Du(process.stderr)}});var vw=y(($j,yw)=>{yw.exports=function(e,r){var i="";e=e||"Run the trap, drop the bass",e=e.split("");var s={a:["@","Ą","Ⱥ","Ʌ","Δ","Λ","Д"],b:["ß","Ɓ","Ƀ","ɮ","β","฿"],c:["©","Ȼ","Ͼ"],d:["Ð","Ɗ","Ԁ","ԁ","Ԃ","ԃ"],e:["Ë","ĕ","Ǝ","ɘ","Σ","ξ","Ҽ","੬"],f:["Ӻ"],g:["ɢ"],h:["Ħ","ƕ","Ң","Һ","Ӈ","Ԋ"],i:["༏"],j:["Ĵ"],k:["ĸ","Ҡ","Ӄ","Ԟ"],l:["Ĺ"],m:["ʍ","Ӎ","ӎ","Ԡ","ԡ","൩"],n:["Ñ","ŋ","Ɲ","Ͷ","Π","Ҋ"],o:["Ø","õ","ø","Ǿ","ʘ","Ѻ","ם","۝","๏"],p:["Ƿ","Ҏ"],q:["্"],r:["®","Ʀ","Ȑ","Ɍ","ʀ","Я"],s:["§","Ϟ","ϟ","Ϩ"],t:["Ł","Ŧ","ͳ"],u:["Ʊ","Ս"],v:["ט"],w:["Ш","Ѡ","Ѽ","൰"],x:["Ҳ","Ӿ","Ӽ","ӽ"],y:["¥","Ұ","Ӌ"],z:["Ƶ","ɀ"]};return e.forEach(function(o){o=o.toLowerCase();var n=s[o]||[" "],a=Math.floor(Math.random()*n.length);typeof s[o]<"u"?i+=s[o][a]:i+=o}),i}});var xw=y((Fj,ww)=>{ww.exports=function(e,r){e=e||"   he is here   ";var i={up:["̍","̎","̄","̅","̿","̑","̆","̐","͒","͗","͑","̇","̈","̊","͂","̓","̈","͊","͋","͌","̃","̂","̌","͐","̀","́","̋","̏","̒","̓","̔","̽","̉","ͣ","ͤ","ͥ","ͦ","ͧ","ͨ","ͩ","ͪ","ͫ","ͬ","ͭ","ͮ","ͯ","̾","͛","͆","̚"],down:["̖","̗","̘","̙","̜","̝","̞","̟","̠","̤","̥","̦","̩","̪","̫","̬","̭","̮","̯","̰","̱","̲","̳","̹","̺","̻","̼","ͅ","͇","͈","͉","͍","͎","͓","͔","͕","͖","͙","͚","̣"],mid:["̕","̛","̀","́","͘","̡","̢","̧","̨","̴","̵","̶","͜","͝","͞","͟","͠","͢","̸","̷","͡"," ҉"]},s=[].concat(i.up,i.down,i.mid);function o(l){var u=Math.floor(Math.random()*l);return u}function n(l){var u=!1;return s.filter(function(c){u=c===l}),u}function a(l,u){var c="",f,h;u=u||{},u.up=typeof u.up<"u"?u.up:!0,u.mid=typeof u.mid<"u"?u.mid:!0,u.down=typeof u.down<"u"?u.down:!0,u.size=typeof u.size<"u"?u.size:"maxi",l=l.split("");for(h in l)if(!n(h)){switch(c=c+l[h],f={up:0,down:0,mid:0},u.size){case"mini":f.up=o(8),f.mid=o(2),f.down=o(8);break;case"maxi":f.up=o(16)+3,f.mid=o(4)+1,f.down=o(64)+3;break;default:f.up=o(8)+1,f.mid=o(6)/2,f.down=o(8)+1;break}var d=["up","mid","down"];for(var p in d)for(var g=d[p],b=0;b<=f[g];b++)u[g]&&(c=c+i[g][o(i[g].length)])}return c}return a(e,r)}});var Sw=y((Hj,_w)=>{_w.exports=function(t){return function(e,r,i){if(e===" ")return e;switch(r%3){case 0:return t.red(e);case 1:return t.white(e);case 2:return t.blue(e)}}}});var Ew=y((Bj,kw)=>{kw.exports=function(t){return function(e,r,i){return r%2===0?e:t.inverse(e)}}});var Aw=y((Gj,Ow)=>{Ow.exports=function(t){var e=["red","yellow","green","blue","magenta"];return function(r,i,s){return r===" "?r:t[e[i++%e.length]](r)}}});var Iw=y((zj,Cw)=>{Cw.exports=function(t){var e=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(r,i,s){return r===" "?r:t[e[Math.round(Math.random()*(e.length-2))]](r)}}});var $u=y((Wj,qw)=>{var H={};qw.exports=H;H.themes={};var CT=require("util"),fr=H.styles=dw(),Rw=Object.defineProperties,IT=new RegExp(/[\r\n]+/g);H.supportsColor=bw().supportsColor;typeof H.enabled>"u"&&(H.enabled=H.supportsColor()!==!1);H.enable=function(){H.enabled=!0};H.disable=function(){H.enabled=!1};H.stripColors=H.strip=function(t){return(""+t).replace(/\x1B\[\d+m/g,"")};var Uj=H.stylize=function(e,r){if(!H.enabled)return e+"";var i=fr[r];return!i&&r in H?H[r](e):i.open+e+i.close},TT=/[|\\{}()[\]^$+*?.]/g,RT=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(TT,"\\$&")};function Pw(t){var e=function r(){return MT.apply(r,arguments)};return e._styles=t,e.__proto__=PT,e}var Mw=function(){var t={};return fr.grey=fr.gray,Object.keys(fr).forEach(function(e){fr[e].closeRe=new RegExp(RT(fr[e].close),"g"),t[e]={get:function(){return Pw(this._styles.concat(e))}}}),t}(),PT=Rw(function(){},Mw);function MT(){var t=Array.prototype.slice.call(arguments),e=t.map(function(n){return n!=null&&n.constructor===String?n:CT.inspect(n)}).join(" ");if(!H.enabled||!e)return e;for(var r=e.indexOf(`
`)!=-1,i=this._styles,s=i.length;s--;){var o=fr[i[s]];e=o.open+e.replace(o.closeRe,o.open)+o.close,r&&(e=e.replace(IT,function(n){return o.close+n+o.open}))}return e}H.setTheme=function(t){if(typeof t=="string"){console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));");return}for(var e in t)(function(r){H[r]=function(i){if(typeof t[r]=="object"){var s=i;for(var o in t[r])s=H[t[r][o]](s);return s}return H[t[r]](i)}})(e)};function qT(){var t={};return Object.keys(Mw).forEach(function(e){t[e]={get:function(){return Pw([e])}}}),t}var jT=function(e,r){var i=r.split("");return i=i.map(e),i.join("")};H.trap=vw();H.zalgo=xw();H.maps={};H.maps.america=Sw()(H);H.maps.zebra=Ew()(H);H.maps.rainbow=Aw()(H);H.maps.random=Iw()(H);for(Tw in H.maps)(function(t){H[t]=function(e){return jT(H.maps[t],e)}})(Tw);var Tw;Rw(H,qT())});var Nw=y((Vj,jw)=>{var be=$u();jw.exports=function(){var t=function(i,s){String.prototype.__defineGetter__(i,s)};t("strip",function(){return be.strip(this)}),t("stripColors",function(){return be.strip(this)}),t("trap",function(){return be.trap(this)}),t("zalgo",function(){return be.zalgo(this)}),t("zebra",function(){return be.zebra(this)}),t("rainbow",function(){return be.rainbow(this)}),t("random",function(){return be.random(this)}),t("america",function(){return be.america(this)});var e=Object.keys(be.styles);e.forEach(function(i){t(i,function(){return be.stylize(this,i)})});function r(i){var s=["__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","charAt","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf","charCodeAt","indexOf","lastIndexOf","length","localeCompare","match","repeat","replace","search","slice","split","substring","toLocaleLowerCase","toLocaleUpperCase","toLowerCase","toUpperCase","trim","trimLeft","trimRight"];Object.keys(i).forEach(function(o){if(s.indexOf(o)!==-1)console.log("warn: ".red+("String.prototype"+o).magenta+" is probably something you don't want to override.  Ignoring style name");else if(typeof i[o]=="string")be[o]=be[i[o]],t(o,function(){return be[o](this)});else{var n=function(a){for(var l=a||this,u=0;u<i[o].length;u++)l=be[i[o][u]](l);return l};t(o,n),be[o]=function(a){return n(a)}}})}be.setTheme=function(i){if(typeof i=="string"){console.log("colors.setTheme now only accepts an object, not a string. If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));");return}else r(i)}}});var Dw=y((Kj,Lw)=>{var NT=$u();Lw.exports=NT;Nw()()});var Bw=y((Yj,Hw)=>{function LT(t){let e;return t?(e=t.toIterable)?e.call(t):t:[]}var dr=console.log,Fu=process.cwd(),DT=__dirname;Dw();var ii=require("fs"),wt=require("path"),Hu=Rl(),{spawnSync:zu}=require("child_process");function Ji(t="Quit"){return dr(t.red),process.exit()}var Bu={default:{path:"default",name:"Default",desc:"Client only application (Imba bundler)"},vite:{path:"vite",name:"Vite",desc:"Client only application (Vite bundler)"},express:{path:"express",name:"Express",desc:"Full stack application (Imba bundler)"},vitest:{path:"vitest",name:"Vitest",desc:"Client only application with vitest (Vite bundler)"},module:{path:"module",name:"Module",desc:"A module that can be used in any JavaScript project (Vite bundler)"},tauri:{path:"tauri",name:"Tauri",desc:"Desktop application (Vite bundler)"}},$T=[".git","dist","node_modules","package-lock.json"];function Fw(t,e){var r;if(!$T.includes(wt.basename(t)))if(wt.basename(e)==="_gitignore"&&(e=wt.join(wt.dirname(e),".gitignore")),ii.statSync(t).isDirectory()){ii.mkdirSync(e,{recursive:!0}),r=[];for(let i of LT(ii.readdirSync(t)))r.push(Fw(wt.resolve(t,i),wt.resolve(e,i)));return r}else return ii.copyFileSync(t,e)}function Gu(t){if(typeof t=="string"){if(t===".")return t;if(t=t.replaceAll(/[^\s\w.-]/g,"").trim().replaceAll(/\s+/g,"-"),!t||t===".")throw"Project name can only contain a-z A-Z 0-9 _ . -";if(t==="..")throw"Project name cannot be '..'";if(ii.existsSync(t))throw"Project name '"+t+"' already exists in current directory";return t}}function $w(){try{if(zu("git",["status","--porcelain"]).output.join(""))throw 1}catch{return Ji("Creating a project in the current directory requires a clean git status")}}async function FT(t,e){var r;let i={onCancel:function(){return Ji()}},s;try{s=Gu(t)}catch(c){dr(c.red)}s??(s=(await Hu({type:"text",message:"Enter a project name or . for current dir",initial:t||"imba-project",format:Gu,validate:function(c){try{if(Gu(c))return!0}catch(f){return f}},name:"value"},i)).value),s==="."&&$w();let o=Bu[e.template];e.template&&!o&&dr("Template not found".red),o??(o=(await Hu({type:"select",message:"Choose a template",choices:function(){r=[];for(let c=0,f=Object.keys(Bu),h=f.length,d,p;c<h;c++)d=f[c],p=Bu[d],r.push({title:p.name,description:p.desc,value:p});return r}(),initial:0,name:"value"},i)).value);let n=wt.join(DT,"..","templates",o.path),a=wt.join(Fu,s),l=s==="."?wt.basename(Fu):s,u="./"+(s==="."?"":s);e.yes||(await Hu({type:"confirm",message:"Create "+o.name.cyan+" project named "+l.cyan+" in "+u.cyan+"?",initial:!0,name:"value"},i)).value||Ji(),a===Fu?$w():ii.existsSync(a)&&Ji("Project dir already exists");try{Fw(n,a),dr((`
Created <`+o.name+"> project named '"+l+"' in "+u).green)}catch(c){Ji(`
Failed to copy project:

`+c)}dr(`
Installing dependencies`.bold);try{s!=="."&&process.chdir(a),zu("npm",["pkg","set","name="+l]),zu("npm",["up","-S"],{stdio:"inherit"})}catch(c){dr((`
Failed to install dependencies:

`+c).red)}return dr(`
Install the vscode extension for an optimal experience:
  `+"https://marketplace.visualstudio.com/items?itemName=scrimba.vsimba".blue+`

Join the Imba community on discord for help and friendly discussions:
  `+"https://discord.gg/mkcbkRw".blue+`

Get started:

  `+"➜".cyan+" cd "+s+`
  `+"➜".cyan+` npm run dev
`)}Hw.exports=FT});var Gw=y(Uu=>{var pr=require("path"),Ft=process.platform==="win32",$t=require("fs"),HT=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function BT(){var t;if(HT){var e=new Error;t=r}else t=i;return t;function r(s){s&&(e.message=s.message,s=e,i(s))}function i(s){if(s){if(process.throwDeprecation)throw s;if(!process.noDeprecation){var o="fs: missing callback "+(s.stack||s.message);process.traceDeprecation?console.trace(o):console.error(o)}}}}function GT(t){return typeof t=="function"?t:BT()}var Xj=pr.normalize;Ft?xt=/(.*?)(?:[\/\\]+|$)/g:xt=/(.*?)(?:[\/]+|$)/g;var xt;Ft?Qi=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:Qi=/^[\/]*/;var Qi;Uu.realpathSync=function(e,r){if(e=pr.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];var i=e,s={},o={},n,a,l,u;c();function c(){var b=Qi.exec(e);n=b[0].length,a=b[0],l=b[0],u="",Ft&&!o[l]&&($t.lstatSync(l),o[l]=!0)}for(;n<e.length;){xt.lastIndex=n;var f=xt.exec(e);if(u=a,a+=f[0],l=u+f[1],n=xt.lastIndex,!(o[l]||r&&r[l]===l)){var h;if(r&&Object.prototype.hasOwnProperty.call(r,l))h=r[l];else{var d=$t.lstatSync(l);if(!d.isSymbolicLink()){o[l]=!0,r&&(r[l]=l);continue}var p=null;if(!Ft){var g=d.dev.toString(32)+":"+d.ino.toString(32);s.hasOwnProperty(g)&&(p=s[g])}p===null&&($t.statSync(l),p=$t.readlinkSync(l)),h=pr.resolve(u,p),r&&(r[l]=h),Ft||(s[g]=p)}e=pr.resolve(h,e.slice(n)),c()}}return r&&(r[i]=e),e};Uu.realpath=function(e,r,i){if(typeof i!="function"&&(i=GT(r),r=null),e=pr.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return process.nextTick(i.bind(null,null,r[e]));var s=e,o={},n={},a,l,u,c;f();function f(){var b=Qi.exec(e);a=b[0].length,l=b[0],u=b[0],c="",Ft&&!n[u]?$t.lstat(u,function(m){if(m)return i(m);n[u]=!0,h()}):process.nextTick(h)}function h(){if(a>=e.length)return r&&(r[s]=e),i(null,e);xt.lastIndex=a;var b=xt.exec(e);return c=l,l+=b[0],u=c+b[1],a=xt.lastIndex,n[u]||r&&r[u]===u?process.nextTick(h):r&&Object.prototype.hasOwnProperty.call(r,u)?g(r[u]):$t.lstat(u,d)}function d(b,m){if(b)return i(b);if(!m.isSymbolicLink())return n[u]=!0,r&&(r[u]=u),process.nextTick(h);if(!Ft){var v=m.dev.toString(32)+":"+m.ino.toString(32);if(o.hasOwnProperty(v))return p(null,o[v],u)}$t.stat(u,function(k){if(k)return i(k);$t.readlink(u,function(x,E){Ft||(o[v]=E),p(x,E)})})}function p(b,m,v){if(b)return i(b);var k=pr.resolve(c,m);r&&(r[v]=k),g(k)}function g(b){e=pr.resolve(b,e.slice(a)),f()}}});var Yu=y((Qj,Vw)=>{Vw.exports=Ht;Ht.realpath=Ht;Ht.sync=Ku;Ht.realpathSync=Ku;Ht.monkeypatch=UT;Ht.unmonkeypatch=WT;var si=require("fs"),Wu=si.realpath,Vu=si.realpathSync,zT=process.version,zw=/^v[0-5]\./.test(zT),Uw=Gw();function Ww(t){return t&&t.syscall==="realpath"&&(t.code==="ELOOP"||t.code==="ENOMEM"||t.code==="ENAMETOOLONG")}function Ht(t,e,r){if(zw)return Wu(t,e,r);typeof e=="function"&&(r=e,e=null),Wu(t,e,function(i,s){Ww(i)?Uw.realpath(t,e,r):r(i,s)})}function Ku(t,e){if(zw)return Vu(t,e);try{return Vu(t,e)}catch(r){if(Ww(r))return Uw.realpathSync(t,e);throw r}}function UT(){si.realpath=Ht,si.realpathSync=Ku}function WT(){si.realpath=Wu,si.realpathSync=Vu}});var Yw=y((Zj,Kw)=>{Kw.exports=function(t,e){for(var r=[],i=0;i<t.length;i++){var s=e(t[i],i);VT(s)?r.push.apply(r,s):r.push(s)}return r};var VT=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}});var ex=y((eN,Zw)=>{"use strict";Zw.exports=Jw;function Jw(t,e,r){t instanceof RegExp&&(t=Xw(t,r)),e instanceof RegExp&&(e=Xw(e,r));var i=Qw(t,e,r);return i&&{start:i[0],end:i[1],pre:r.slice(0,i[0]),body:r.slice(i[0]+t.length,i[1]),post:r.slice(i[1]+e.length)}}function Xw(t,e){var r=e.match(t);return r?r[0]:null}Jw.range=Qw;function Qw(t,e,r){var i,s,o,n,a,l=r.indexOf(t),u=r.indexOf(e,l+1),c=l;if(l>=0&&u>0){if(t===e)return[l,u];for(i=[],o=r.length;c>=0&&!a;)c==l?(i.push(c),l=r.indexOf(t,c+1)):i.length==1?a=[i.pop(),u]:(s=i.pop(),s<o&&(o=s,n=u),u=r.indexOf(e,c+1)),c=l<u&&l>=0?l:u;i.length&&(a=[o,n])}return a}});var lx=y((tN,ax)=>{var KT=Yw(),tx=ex();ax.exports=JT;var rx="\0SLASH"+Math.random()+"\0",ix="\0OPEN"+Math.random()+"\0",Ju="\0CLOSE"+Math.random()+"\0",sx="\0COMMA"+Math.random()+"\0",nx="\0PERIOD"+Math.random()+"\0";function Xu(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function YT(t){return t.split("\\\\").join(rx).split("\\{").join(ix).split("\\}").join(Ju).split("\\,").join(sx).split("\\.").join(nx)}function XT(t){return t.split(rx).join("\\").split(ix).join("{").split(Ju).join("}").split(sx).join(",").split(nx).join(".")}function ox(t){if(!t)return[""];var e=[],r=tx("{","}",t);if(!r)return t.split(",");var i=r.pre,s=r.body,o=r.post,n=i.split(",");n[n.length-1]+="{"+s+"}";var a=ox(o);return o.length&&(n[n.length-1]+=a.shift(),n.push.apply(n,a)),e.push.apply(e,n),e}function JT(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),ni(YT(t),!0).map(XT)):[]}function QT(t){return"{"+t+"}"}function ZT(t){return/^-?0\d/.test(t)}function eR(t,e){return t<=e}function tR(t,e){return t>=e}function ni(t,e){var r=[],i=tx("{","}",t);if(!i||/\$$/.test(i.pre))return[t];var s=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),o=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),n=s||o,a=i.body.indexOf(",")>=0;if(!n&&!a)return i.post.match(/,.*\}/)?(t=i.pre+"{"+i.body+Ju+i.post,ni(t)):[t];var l;if(n)l=i.body.split(/\.\./);else if(l=ox(i.body),l.length===1&&(l=ni(l[0],!1).map(QT),l.length===1)){var c=i.post.length?ni(i.post,!1):[""];return c.map(function(w){return i.pre+l[0]+w})}var u=i.pre,c=i.post.length?ni(i.post,!1):[""],f;if(n){var h=Xu(l[0]),d=Xu(l[1]),p=Math.max(l[0].length,l[1].length),g=l.length==3?Math.abs(Xu(l[2])):1,b=eR,m=d<h;m&&(g*=-1,b=tR);var v=l.some(ZT);f=[];for(var k=h;b(k,d);k+=g){var x;if(o)x=String.fromCharCode(k),x==="\\"&&(x="");else if(x=String(k),v){var E=p-x.length;if(E>0){var A=new Array(E+1).join("0");k<0?x="-"+A+x.slice(1):x=A+x}}f.push(x)}}else f=KT(l,function(T){return ni(T,!1)});for(var O=0;O<f.length;O++)for(var C=0;C<c.length;C++){var R=u+f[O]+c[C];(!e||n||R)&&r.push(R)}return r}});var Kn=y((rN,dx)=>{dx.exports=Me;Me.Minimatch=pe;var Zi=function(){try{return require("path")}catch{}}()||{sep:"/"};Me.sep=Zi.sep;var ec=Me.GLOBSTAR=pe.GLOBSTAR={},rR=lx(),ux={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Qu="[^/]",Zu=Qu+"*?",iR="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",sR="(?:(?!(?:\\/|^)\\.).)*?",cx=nR("().*{}+?[]^$\\!");function nR(t){return t.split("").reduce(function(e,r){return e[r]=!0,e},{})}var hx=/\/+/;Me.filter=oR;function oR(t,e){return e=e||{},function(r,i,s){return Me(r,t,e)}}function Bt(t,e){e=e||{};var r={};return Object.keys(t).forEach(function(i){r[i]=t[i]}),Object.keys(e).forEach(function(i){r[i]=e[i]}),r}Me.defaults=function(t){if(!t||typeof t!="object"||!Object.keys(t).length)return Me;var e=Me,r=function(s,o,n){return e(s,o,Bt(t,n))};return r.Minimatch=function(s,o){return new e.Minimatch(s,Bt(t,o))},r.Minimatch.defaults=function(s){return e.defaults(Bt(t,s)).Minimatch},r.filter=function(s,o){return e.filter(s,Bt(t,o))},r.defaults=function(s){return e.defaults(Bt(t,s))},r.makeRe=function(s,o){return e.makeRe(s,Bt(t,o))},r.braceExpand=function(s,o){return e.braceExpand(s,Bt(t,o))},r.match=function(i,s,o){return e.match(i,s,Bt(t,o))},r};pe.defaults=function(t){return Me.defaults(t).Minimatch};function Me(t,e,r){return Vn(e),r||(r={}),!r.nocomment&&e.charAt(0)==="#"?!1:new pe(e,r).match(t)}function pe(t,e){if(!(this instanceof pe))return new pe(t,e);Vn(t),e||(e={}),t=t.trim(),!e.allowWindowsEscape&&Zi.sep!=="/"&&(t=t.split(Zi.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}pe.prototype.debug=function(){};pe.prototype.make=aR;function aR(){var t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map(function(i){return i.split(hx)}),this.debug(this.pattern,r),r=r.map(function(i,s,o){return i.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(i){return i.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}pe.prototype.parseNegate=lR;function lR(){var t=this.pattern,e=!1,r=this.options,i=0;if(!r.nonegate){for(var s=0,o=t.length;s<o&&t.charAt(s)==="!";s++)e=!e,i++;i&&(this.pattern=t.substr(i)),this.negate=e}}Me.braceExpand=function(t,e){return fx(t,e)};pe.prototype.braceExpand=fx;function fx(t,e){return e||(this instanceof pe?e=this.options:e={}),t=typeof t>"u"?this.pattern:t,Vn(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:rR(t)}var uR=1024*64,Vn=function(t){if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>uR)throw new TypeError("pattern is too long")};pe.prototype.parse=cR;var Wn={};function cR(t,e){Vn(t);var r=this.options;if(t==="**")if(r.noglobstar)t="*";else return ec;if(t==="")return"";var i="",s=!!r.nocase,o=!1,n=[],a=[],l,u=!1,c=-1,f=-1,h=t.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",d=this;function p(){if(l){switch(l){case"*":i+=Zu,s=!0;break;case"?":i+=Qu,s=!0;break;default:i+="\\"+l;break}d.debug("clearStateChar %j %j",l,i),l=!1}}for(var g=0,b=t.length,m;g<b&&(m=t.charAt(g));g++){if(this.debug("%s	%s %s %j",t,g,i,m),o&&cx[m]){i+="\\"+m,o=!1;continue}switch(m){case"/":return!1;case"\\":p(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,g,i,m),u){this.debug("  in class"),m==="!"&&g===f+1&&(m="^"),i+=m;continue}d.debug("call clearStateChar %j",l),p(),l=m,r.noext&&p();continue;case"(":if(u){i+="(";continue}if(!l){i+="\\(";continue}n.push({type:l,start:g-1,reStart:i.length,open:ux[l].open,close:ux[l].close}),i+=l==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",l,i),l=!1;continue;case")":if(u||!n.length){i+="\\)";continue}p(),s=!0;var v=n.pop();i+=v.close,v.type==="!"&&a.push(v),v.reEnd=i.length;continue;case"|":if(u||!n.length||o){i+="\\|",o=!1;continue}p(),i+="|";continue;case"[":if(p(),u){i+="\\"+m;continue}u=!0,f=g,c=i.length,i+=m;continue;case"]":if(g===f+1||!u){i+="\\"+m,o=!1;continue}var k=t.substring(f+1,g);try{RegExp("["+k+"]")}catch{var x=this.parse(k,Wn);i=i.substr(0,c)+"\\["+x[0]+"\\]",s=s||x[1],u=!1;continue}s=!0,u=!1,i+=m;continue;default:p(),o?o=!1:cx[m]&&!(m==="^"&&u)&&(i+="\\"),i+=m}}for(u&&(k=t.substr(f+1),x=this.parse(k,Wn),i=i.substr(0,c)+"\\["+x[0],s=s||x[1]),v=n.pop();v;v=n.pop()){var E=i.slice(v.reStart+v.open.length);this.debug("setting tail",i,v),E=E.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(B,K,Ve){return Ve||(Ve="\\"),K+K+Ve+"|"}),this.debug(`tail=%j
   %s`,E,E,v,i);var A=v.type==="*"?Zu:v.type==="?"?Qu:"\\"+v.type;s=!0,i=i.slice(0,v.reStart)+A+"\\("+E}p(),o&&(i+="\\\\");var O=!1;switch(i.charAt(0)){case"[":case".":case"(":O=!0}for(var C=a.length-1;C>-1;C--){var R=a[C],T=i.slice(0,R.reStart),w=i.slice(R.reStart,R.reEnd-8),N=i.slice(R.reEnd-8,R.reEnd),D=i.slice(R.reEnd);N+=D;var he=T.split("(").length-1,_=D;for(g=0;g<he;g++)_=_.replace(/\)[+*?]?/,"");D=_;var S="";D===""&&e!==Wn&&(S="$");var M=T+w+D+S+N;i=M}if(i!==""&&s&&(i="(?=.)"+i),O&&(i=h+i),e===Wn)return[i,s];if(!s)return fR(t);var P=r.nocase?"i":"";try{var L=new RegExp("^"+i+"$",P)}catch{return new RegExp("$.")}return L._glob=t,L._src=i,L}Me.makeRe=function(t,e){return new pe(t,e||{}).makeRe()};pe.prototype.makeRe=hR;function hR(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?Zu:e.dot?iR:sR,i=e.nocase?"i":"",s=t.map(function(o){return o.map(function(n){return n===ec?r:typeof n=="string"?dR(n):n._src}).join("\\/")}).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,i)}catch{this.regexp=!1}return this.regexp}Me.match=function(t,e,r){r=r||{};var i=new pe(e,r);return t=t.filter(function(s){return i.match(s)}),i.options.nonull&&!t.length&&t.push(e),t};pe.prototype.match=function(e,r){if(typeof r>"u"&&(r=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;var i=this.options;Zi.sep!=="/"&&(e=e.split(Zi.sep).join("/")),e=e.split(hx),this.debug(this.pattern,"split",e);var s=this.set;this.debug(this.pattern,"set",s);var o,n;for(n=e.length-1;n>=0&&(o=e[n],!o);n--);for(n=0;n<s.length;n++){var a=s[n],l=e;i.matchBase&&a.length===1&&(l=[o]);var u=this.matchOne(l,a,r);if(u)return i.flipNegate?!0:!this.negate}return i.flipNegate?!1:this.negate};pe.prototype.matchOne=function(t,e,r){var i=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var s=0,o=0,n=t.length,a=e.length;s<n&&o<a;s++,o++){this.debug("matchOne loop");var l=e[o],u=t[s];if(this.debug(e,l,u),l===!1)return!1;if(l===ec){this.debug("GLOBSTAR",[e,l,u]);var c=s,f=o+1;if(f===a){for(this.debug("** at the end");s<n;s++)if(t[s]==="."||t[s]===".."||!i.dot&&t[s].charAt(0)===".")return!1;return!0}for(;c<n;){var h=t[c];if(this.debug(`
globstar while`,t,c,e,f,h),this.matchOne(t.slice(c),e.slice(f),r))return this.debug("globstar found match!",c,n,h),!0;if(h==="."||h===".."||!i.dot&&h.charAt(0)==="."){this.debug("dot detected!",t,c,e,f);break}this.debug("globstar swallow a segment, and continue"),c++}return!!(r&&(this.debug(`
>>> no match, partial?`,t,c,e,f),c===n))}var d;if(typeof l=="string"?(d=u===l,this.debug("string match",l,u,d)):(d=u.match(l),this.debug("pattern match",l,u,d)),!d)return!1}if(s===n&&o===a)return!0;if(s===n)return r;if(o===a)return s===n-1&&t[s]==="";throw new Error("wtf?")};function fR(t){return t.replace(/\\(.)/g,"$1")}function dR(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var Xn=y((iN,Yn)=>{"use strict";function px(t){return t.charAt(0)==="/"}function mx(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=e.exec(t),i=r[1]||"",s=Boolean(i&&i.charAt(1)!==":");return Boolean(r[2]||s)}Yn.exports=process.platform==="win32"?mx:px;Yn.exports.posix=px;Yn.exports.win32=mx});var rc=y(Gt=>{Gt.setopts=vR;Gt.ownProp=gx;Gt.makeAbs=es;Gt.finish=wR;Gt.mark=xR;Gt.isIgnored=yx;Gt.childrenIgnored=_R;function gx(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var pR=require("fs"),oi=require("path"),mR=Kn(),bx=Xn(),tc=mR.Minimatch;function gR(t,e){return t.localeCompare(e,"en")}function bR(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map(yR))}function yR(t){var e=null;if(t.slice(-3)==="/**"){var r=t.replace(/(\/\*\*)+$/,"");e=new tc(r,{dot:!0})}return{matcher:new tc(t,{dot:!0}),gmatcher:e}}function vR(t,e,r){if(r||(r={}),r.matchBase&&e.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!r.silent,t.pattern=e,t.strict=r.strict!==!1,t.realpath=!!r.realpath,t.realpathCache=r.realpathCache||Object.create(null),t.follow=!!r.follow,t.dot=!!r.dot,t.mark=!!r.mark,t.nodir=!!r.nodir,t.nodir&&(t.mark=!0),t.sync=!!r.sync,t.nounique=!!r.nounique,t.nonull=!!r.nonull,t.nosort=!!r.nosort,t.nocase=!!r.nocase,t.stat=!!r.stat,t.noprocess=!!r.noprocess,t.absolute=!!r.absolute,t.fs=r.fs||pR,t.maxLength=r.maxLength||1/0,t.cache=r.cache||Object.create(null),t.statCache=r.statCache||Object.create(null),t.symlinks=r.symlinks||Object.create(null),bR(t,r),t.changedCwd=!1;var i=process.cwd();gx(r,"cwd")?(t.cwd=oi.resolve(r.cwd),t.changedCwd=t.cwd!==i):t.cwd=i,t.root=r.root||oi.resolve(t.cwd,"/"),t.root=oi.resolve(t.root),process.platform==="win32"&&(t.root=t.root.replace(/\\/g,"/")),t.cwdAbs=bx(t.cwd)?t.cwd:es(t,t.cwd),process.platform==="win32"&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/")),t.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,t.minimatch=new tc(e,r),t.options=t.minimatch.options}function wR(t){for(var e=t.nounique,r=e?[]:Object.create(null),i=0,s=t.matches.length;i<s;i++){var o=t.matches[i];if(!o||Object.keys(o).length===0){if(t.nonull){var n=t.minimatch.globSet[i];e?r.push(n):r[n]=!0}}else{var a=Object.keys(o);e?r.push.apply(r,a):a.forEach(function(l){r[l]=!0})}}if(e||(r=Object.keys(r)),t.nosort||(r=r.sort(gR)),t.mark){for(var i=0;i<r.length;i++)r[i]=t._mark(r[i]);t.nodir&&(r=r.filter(function(l){var u=!/\/$/.test(l),c=t.cache[l]||t.cache[es(t,l)];return u&&c&&(u=c!=="DIR"&&!Array.isArray(c)),u}))}t.ignore.length&&(r=r.filter(function(l){return!yx(t,l)})),t.found=r}function xR(t,e){var r=es(t,e),i=t.cache[r],s=e;if(i){var o=i==="DIR"||Array.isArray(i),n=e.slice(-1)==="/";if(o&&!n?s+="/":!o&&n&&(s=s.slice(0,-1)),s!==e){var a=es(t,s);t.statCache[a]=t.statCache[r],t.cache[a]=t.cache[r]}}return s}function es(t,e){var r=e;return e.charAt(0)==="/"?r=oi.join(t.root,e):bx(e)||e===""?r=e:t.changedCwd?r=oi.resolve(t.cwd,e):r=oi.resolve(e),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function yx(t,e){return t.ignore.length?t.ignore.some(function(r){return r.matcher.match(e)||!!(r.gmatcher&&r.gmatcher.match(e))}):!1}function _R(t,e){return t.ignore.length?t.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(e))}):!1}});var Sx=y((lN,_x)=>{_x.exports=xx;xx.GlobSync=ce;var SR=Yu(),vx=Kn(),nN=vx.Minimatch,oN=nc().Glob,aN=require("util"),ic=require("path"),wx=require("assert"),Jn=Xn(),mr=rc(),kR=mr.setopts,sc=mr.ownProp,ER=mr.childrenIgnored,OR=mr.isIgnored;function xx(t,e){if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new ce(t,e).found}function ce(t,e){if(!t)throw new Error("must provide pattern");if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof ce))return new ce(t,e);if(kR(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var i=0;i<r;i++)this._process(this.minimatch.set[i],i,!1);this._finish()}ce.prototype._finish=function(){if(wx(this instanceof ce),this.realpath){var t=this;this.matches.forEach(function(e,r){var i=t.matches[r]=Object.create(null);for(var s in e)try{s=t._makeAbs(s);var o=SR.realpathSync(s,t.realpathCache);i[o]=!0}catch(n){if(n.syscall==="stat")i[t._makeAbs(s)]=!0;else throw n}})}mr.finish(this)};ce.prototype._process=function(t,e,r){wx(this instanceof ce);for(var i=0;typeof t[i]=="string";)i++;var s;switch(i){case t.length:this._processSimple(t.join("/"),e);return;case 0:s=null;break;default:s=t.slice(0,i).join("/");break}var o=t.slice(i),n;s===null?n=".":((Jn(s)||Jn(t.join("/")))&&(!s||!Jn(s))&&(s="/"+s),n=s);var a=this._makeAbs(n);if(!ER(this,n)){var l=o[0]===vx.GLOBSTAR;l?this._processGlobStar(s,n,a,o,e,r):this._processReaddir(s,n,a,o,e,r)}};ce.prototype._processReaddir=function(t,e,r,i,s,o){var n=this._readdir(r,o);if(!!n){for(var a=i[0],l=!!this.minimatch.negate,u=a._glob,c=this.dot||u.charAt(0)===".",f=[],h=0;h<n.length;h++){var d=n[h];if(d.charAt(0)!=="."||c){var p;l&&!t?p=!d.match(a):p=d.match(a),p&&f.push(d)}}var g=f.length;if(g!==0){if(i.length===1&&!this.mark&&!this.stat){this.matches[s]||(this.matches[s]=Object.create(null));for(var h=0;h<g;h++){var d=f[h];t&&(t.slice(-1)!=="/"?d=t+"/"+d:d=t+d),d.charAt(0)==="/"&&!this.nomount&&(d=ic.join(this.root,d)),this._emitMatch(s,d)}return}i.shift();for(var h=0;h<g;h++){var d=f[h],b;t?b=[t,d]:b=[d],this._process(b.concat(i),s,o)}}}};ce.prototype._emitMatch=function(t,e){if(!OR(this,e)){var r=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var i=this.cache[r];if(i==="DIR"||Array.isArray(i))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}};ce.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r,i;try{r=this.fs.lstatSync(t)}catch(o){if(o.code==="ENOENT")return null}var s=r&&r.isSymbolicLink();return this.symlinks[t]=s,!s&&r&&!r.isDirectory()?this.cache[t]="FILE":e=this._readdir(t,!1),e};ce.prototype._readdir=function(t,e){var r;if(e&&!sc(this.symlinks,t))return this._readdirInGlobStar(t);if(sc(this.cache,t)){var i=this.cache[t];if(!i||i==="FILE")return null;if(Array.isArray(i))return i}try{return this._readdirEntries(t,this.fs.readdirSync(t))}catch(s){return this._readdirError(t,s),null}};ce.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var i=e[r];t==="/"?i=t+i:i=t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,e};ce.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);throw i.path=this.cwd,i.code=e.code,i}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e);break}};ce.prototype._processGlobStar=function(t,e,r,i,s,o){var n=this._readdir(r,o);if(!!n){var a=i.slice(1),l=t?[t]:[],u=l.concat(a);this._process(u,s,!1);var c=n.length,f=this.symlinks[r];if(!(f&&o))for(var h=0;h<c;h++){var d=n[h];if(!(d.charAt(0)==="."&&!this.dot)){var p=l.concat(n[h],a);this._process(p,s,!0);var g=l.concat(n[h],i);this._process(g,s,!0)}}}};ce.prototype._processSimple=function(t,e){var r=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),!!r){if(t&&Jn(t)&&!this.nomount){var i=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=ic.join(this.root,t):(t=ic.resolve(this.root,t),i&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}};ce.prototype._stat=function(t){var e=this._makeAbs(t),r=t.slice(-1)==="/";if(t.length>this.maxLength)return!1;if(!this.stat&&sc(this.cache,e)){var n=this.cache[e];if(Array.isArray(n)&&(n="DIR"),!r||n==="DIR")return n;if(r&&n==="FILE")return!1}var i,s=this.statCache[e];if(!s){var o;try{o=this.fs.lstatSync(e)}catch(a){if(a&&(a.code==="ENOENT"||a.code==="ENOTDIR"))return this.statCache[e]=!1,!1}if(o&&o.isSymbolicLink())try{s=this.fs.statSync(e)}catch{s=o}else s=o}this.statCache[e]=s;var n=!0;return s&&(n=s.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||n,r&&n==="FILE"?!1:n};ce.prototype._mark=function(t){return mr.mark(this,t)};ce.prototype._makeAbs=function(t){return mr.makeAbs(this,t)}});var oc=y((uN,Ex)=>{Ex.exports=kx;function kx(t,e){if(t&&e)return kx(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(i){r[i]=t[i]}),r;function r(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];var o=t.apply(this,i),n=i[i.length-1];return typeof o=="function"&&o!==n&&Object.keys(n).forEach(function(a){o[a]=n[a]}),o}}});var lc=y((cN,ac)=>{var Ox=oc();ac.exports=Ox(Qn);ac.exports.strict=Ox(Ax);Qn.proto=Qn(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Qn(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Ax(this)},configurable:!0})});function Qn(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function Ax(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}});var Ix=y((hN,Cx)=>{var AR=oc(),ts=Object.create(null),CR=lc();Cx.exports=AR(IR);function IR(t,e){return ts[t]?(ts[t].push(e),null):(ts[t]=[e],TR(t))}function TR(t){return CR(function e(){var r=ts[t],i=r.length,s=RR(arguments);try{for(var o=0;o<i;o++)r[o].apply(null,s)}finally{r.length>i?(r.splice(0,i),process.nextTick(function(){e.apply(null,s)})):delete ts[t]}})}function RR(t){for(var e=t.length,r=[],i=0;i<e;i++)r[i]=t[i];return r}});var nc=y((pN,Rx)=>{Rx.exports=gr;var PR=Yu(),Tx=Kn(),fN=Tx.Minimatch,MR=Bo(),qR=require("events").EventEmitter,uc=require("path"),cc=require("assert"),rs=Xn(),fc=Sx(),br=rc(),jR=br.setopts,hc=br.ownProp,dc=Ix(),dN=require("util"),NR=br.childrenIgnored,LR=br.isIgnored,DR=lc();function gr(t,e,r){if(typeof e=="function"&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return fc(t,e)}return new W(t,e,r)}gr.sync=fc;var $R=gr.GlobSync=fc.GlobSync;gr.glob=gr;function FR(t,e){if(e===null||typeof e!="object")return t;for(var r=Object.keys(e),i=r.length;i--;)t[r[i]]=e[r[i]];return t}gr.hasMagic=function(t,e){var r=FR({},e);r.noprocess=!0;var i=new W(t,r),s=i.minimatch.set;if(!t)return!1;if(s.length>1)return!0;for(var o=0;o<s[0].length;o++)if(typeof s[0][o]!="string")return!0;return!1};gr.Glob=W;MR(W,qR);function W(t,e,r){if(typeof e=="function"&&(r=e,e=null),e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new $R(t,e)}if(!(this instanceof W))return new W(t,e,r);jR(this,t,e),this._didRealPath=!1;var i=this.minimatch.set.length;this.matches=new Array(i),typeof r=="function"&&(r=DR(r),this.on("error",r),this.on("end",function(l){r(null,l)}));var s=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(i===0)return a();for(var o=!0,n=0;n<i;n++)this._process(this.minimatch.set[n],n,!1,a);o=!1;function a(){--s._processing,s._processing<=0&&(o?process.nextTick(function(){s._finish()}):s._finish())}}W.prototype._finish=function(){if(cc(this instanceof W),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();br.finish(this),this.emit("end",this.found)}};W.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var t=this.matches.length;if(t===0)return this._finish();for(var e=this,r=0;r<this.matches.length;r++)this._realpathSet(r,i);function i(){--t===0&&e._finish()}};W.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var i=Object.keys(r),s=this,o=i.length;if(o===0)return e();var n=this.matches[t]=Object.create(null);i.forEach(function(a,l){a=s._makeAbs(a),PR.realpath(a,s.realpathCache,function(u,c){u?u.syscall==="stat"?n[a]=!0:s.emit("error",u):n[c]=!0,--o===0&&(s.matches[t]=n,e())})})};W.prototype._mark=function(t){return br.mark(this,t)};W.prototype._makeAbs=function(t){return br.makeAbs(this,t)};W.prototype.abort=function(){this.aborted=!0,this.emit("abort")};W.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};W.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var i=this._processQueue.slice(0);this._processQueue.length=0;for(var e=0;e<i.length;e++){var s=i[e];this._processing--,this._process(s[0],s[1],s[2],s[3])}}}};W.prototype._process=function(t,e,r,i){if(cc(this instanceof W),cc(typeof i=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([t,e,r,i]);return}for(var s=0;typeof t[s]=="string";)s++;var o;switch(s){case t.length:this._processSimple(t.join("/"),e,i);return;case 0:o=null;break;default:o=t.slice(0,s).join("/");break}var n=t.slice(s),a;o===null?a=".":((rs(o)||rs(t.join("/")))&&(!o||!rs(o))&&(o="/"+o),a=o);var l=this._makeAbs(a);if(NR(this,a))return i();var u=n[0]===Tx.GLOBSTAR;u?this._processGlobStar(o,a,l,n,e,r,i):this._processReaddir(o,a,l,n,e,r,i)}};W.prototype._processReaddir=function(t,e,r,i,s,o,n){var a=this;this._readdir(r,o,function(l,u){return a._processReaddir2(t,e,r,i,s,o,u,n)})};W.prototype._processReaddir2=function(t,e,r,i,s,o,n,a){if(!n)return a();for(var l=i[0],u=!!this.minimatch.negate,c=l._glob,f=this.dot||c.charAt(0)===".",h=[],d=0;d<n.length;d++){var p=n[d];if(p.charAt(0)!=="."||f){var g;u&&!t?g=!p.match(l):g=p.match(l),g&&h.push(p)}}var b=h.length;if(b===0)return a();if(i.length===1&&!this.mark&&!this.stat){this.matches[s]||(this.matches[s]=Object.create(null));for(var d=0;d<b;d++){var p=h[d];t&&(t!=="/"?p=t+"/"+p:p=t+p),p.charAt(0)==="/"&&!this.nomount&&(p=uc.join(this.root,p)),this._emitMatch(s,p)}return a()}i.shift();for(var d=0;d<b;d++){var p=h[d],m;t&&(t!=="/"?p=t+"/"+p:p=t+p),this._process([p].concat(i),s,o,a)}a()};W.prototype._emitMatch=function(t,e){if(!this.aborted&&!LR(this,e)){if(this.paused){this._emitQueue.push([t,e]);return}var r=rs(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var i=this.cache[r];if(i==="DIR"||Array.isArray(i))return}this.matches[t][e]=!0;var s=this.statCache[r];s&&this.emit("stat",e,s),this.emit("match",e)}}};W.prototype._readdirInGlobStar=function(t,e){if(this.aborted)return;if(this.follow)return this._readdir(t,!1,e);var r="lstat\0"+t,i=this,s=dc(r,o);s&&i.fs.lstat(t,s);function o(n,a){if(n&&n.code==="ENOENT")return e();var l=a&&a.isSymbolicLink();i.symlinks[t]=l,!l&&a&&!a.isDirectory()?(i.cache[t]="FILE",e()):i._readdir(t,!1,e)}};W.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=dc("readdir\0"+t+"\0"+e,r),!!r)){if(e&&!hc(this.symlinks,t))return this._readdirInGlobStar(t,r);if(hc(this.cache,t)){var i=this.cache[t];if(!i||i==="FILE")return r();if(Array.isArray(i))return r(null,i)}var s=this;s.fs.readdir(t,HR(this,t,r))}};function HR(t,e,r){return function(i,s){i?t._readdirError(e,i,r):t._readdirEntries(e,s,r)}}W.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var i=0;i<e.length;i++){var s=e[i];t==="/"?s=t+s:s=t+"/"+s,this.cache[s]=!0}return this.cache[t]=e,r(null,e)}};W.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var i=this._makeAbs(t);if(this.cache[i]="FILE",i===this.cwdAbs){var s=new Error(e.code+" invalid cwd "+this.cwd);s.path=this.cwd,s.code=e.code,this.emit("error",s),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e);break}return r()}};W.prototype._processGlobStar=function(t,e,r,i,s,o,n){var a=this;this._readdir(r,o,function(l,u){a._processGlobStar2(t,e,r,i,s,o,u,n)})};W.prototype._processGlobStar2=function(t,e,r,i,s,o,n,a){if(!n)return a();var l=i.slice(1),u=t?[t]:[],c=u.concat(l);this._process(c,s,!1,a);var f=this.symlinks[r],h=n.length;if(f&&o)return a();for(var d=0;d<h;d++){var p=n[d];if(!(p.charAt(0)==="."&&!this.dot)){var g=u.concat(n[d],l);this._process(g,s,!0,a);var b=u.concat(n[d],i);this._process(b,s,!0,a)}}a()};W.prototype._processSimple=function(t,e,r){var i=this;this._stat(t,function(s,o){i._processSimple2(t,e,s,o,r)})};W.prototype._processSimple2=function(t,e,r,i,s){if(this.matches[e]||(this.matches[e]=Object.create(null)),!i)return s();if(t&&rs(t)&&!this.nomount){var o=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=uc.join(this.root,t):(t=uc.resolve(this.root,t),o&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),s()};W.prototype._stat=function(t,e){var r=this._makeAbs(t),i=t.slice(-1)==="/";if(t.length>this.maxLength)return e();if(!this.stat&&hc(this.cache,r)){var s=this.cache[r];if(Array.isArray(s)&&(s="DIR"),!i||s==="DIR")return e(null,s);if(i&&s==="FILE")return e()}var o,n=this.statCache[r];if(n!==void 0){if(n===!1)return e(null,n);var a=n.isDirectory()?"DIR":"FILE";return i&&a==="FILE"?e():e(null,a,n)}var l=this,u=dc("stat\0"+r,c);u&&l.fs.lstat(r,u);function c(f,h){if(h&&h.isSymbolicLink())return l.fs.stat(r,function(d,p){d?l._stat2(t,r,null,h,e):l._stat2(t,r,d,p,e)});l._stat2(t,r,f,h,e)}};W.prototype._stat2=function(t,e,r,i,s){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[e]=!1,s();var o=t.slice(-1)==="/";if(this.statCache[e]=i,e.slice(-1)==="/"&&i&&!i.isDirectory())return s(null,!1,i);var n=!0;return i&&(n=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||n,o&&n==="FILE"?s():s(null,n,i)}});var $x=y((mN,Dx)=>{var X=require("assert"),jx=require("path"),Px=require("fs"),ai;try{ai=nc()}catch{}var BR={nosort:!0,silent:!0},pc=0,is=process.platform==="win32",Nx=t=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{t[r]=t[r]||Px[r],r=r+"Sync",t[r]=t[r]||Px[r]}),t.maxBusyTries=t.maxBusyTries||3,t.emfileWait=t.emfileWait||1e3,t.glob===!1&&(t.disableGlob=!0),t.disableGlob!==!0&&ai===void 0)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");t.disableGlob=t.disableGlob||!1,t.glob=t.glob||BR},gc=(t,e,r)=>{typeof e=="function"&&(r=e,e={}),X(t,"rimraf: missing path"),X.equal(typeof t,"string","rimraf: path should be a string"),X.equal(typeof r,"function","rimraf: callback function required"),X(e,"rimraf: invalid options argument provided"),X.equal(typeof e,"object","rimraf: options should be object"),Nx(e);let i=0,s=null,o=0,n=l=>{s=s||l,--o===0&&r(s)},a=(l,u)=>{if(l)return r(l);if(o=u.length,o===0)return r();u.forEach(c=>{let f=h=>{if(h){if((h.code==="EBUSY"||h.code==="ENOTEMPTY"||h.code==="EPERM")&&i<e.maxBusyTries)return i++,setTimeout(()=>mc(c,e,f),i*100);if(h.code==="EMFILE"&&pc<e.emfileWait)return setTimeout(()=>mc(c,e,f),pc++);h.code==="ENOENT"&&(h=null)}pc=0,n(h)};mc(c,e,f)})};if(e.disableGlob||!ai.hasMagic(t))return a(null,[t]);e.lstat(t,(l,u)=>{if(!l)return a(null,[t]);ai(t,e.glob,a)})},mc=(t,e,r)=>{X(t),X(e),X(typeof r=="function"),e.lstat(t,(i,s)=>{if(i&&i.code==="ENOENT")return r(null);if(i&&i.code==="EPERM"&&is&&Mx(t,e,i,r),s&&s.isDirectory())return Zn(t,e,i,r);e.unlink(t,o=>{if(o){if(o.code==="ENOENT")return r(null);if(o.code==="EPERM")return is?Mx(t,e,o,r):Zn(t,e,o,r);if(o.code==="EISDIR")return Zn(t,e,o,r)}return r(o)})})},Mx=(t,e,r,i)=>{X(t),X(e),X(typeof i=="function"),e.chmod(t,438,s=>{s?i(s.code==="ENOENT"?null:r):e.stat(t,(o,n)=>{o?i(o.code==="ENOENT"?null:r):n.isDirectory()?Zn(t,e,r,i):e.unlink(t,i)})})},qx=(t,e,r)=>{X(t),X(e);try{e.chmodSync(t,438)}catch(s){if(s.code==="ENOENT")return;throw r}let i;try{i=e.statSync(t)}catch(s){if(s.code==="ENOENT")return;throw r}i.isDirectory()?eo(t,e,r):e.unlinkSync(t)},Zn=(t,e,r,i)=>{X(t),X(e),X(typeof i=="function"),e.rmdir(t,s=>{s&&(s.code==="ENOTEMPTY"||s.code==="EEXIST"||s.code==="EPERM")?GR(t,e,i):s&&s.code==="ENOTDIR"?i(r):i(s)})},GR=(t,e,r)=>{X(t),X(e),X(typeof r=="function"),e.readdir(t,(i,s)=>{if(i)return r(i);let o=s.length;if(o===0)return e.rmdir(t,r);let n;s.forEach(a=>{gc(jx.join(t,a),e,l=>{if(!n){if(l)return r(n=l);--o===0&&e.rmdir(t,r)}})})})},Lx=(t,e)=>{e=e||{},Nx(e),X(t,"rimraf: missing path"),X.equal(typeof t,"string","rimraf: path should be a string"),X(e,"rimraf: missing options"),X.equal(typeof e,"object","rimraf: options should be object");let r;if(e.disableGlob||!ai.hasMagic(t))r=[t];else try{e.lstatSync(t),r=[t]}catch{r=ai.sync(t,e.glob)}if(!!r.length)for(let i=0;i<r.length;i++){let s=r[i],o;try{o=e.lstatSync(s)}catch(n){if(n.code==="ENOENT")return;n.code==="EPERM"&&is&&qx(s,e,n)}try{o&&o.isDirectory()?eo(s,e,null):e.unlinkSync(s)}catch(n){if(n.code==="ENOENT")return;if(n.code==="EPERM")return is?qx(s,e,n):eo(s,e,n);if(n.code!=="EISDIR")throw n;eo(s,e,n)}}},eo=(t,e,r)=>{X(t),X(e);try{e.rmdirSync(t)}catch(i){if(i.code==="ENOENT")return;if(i.code==="ENOTDIR")throw r;(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")&&zR(t,e)}},zR=(t,e)=>{X(t),X(e),e.readdirSync(t).forEach(s=>Lx(jx.join(t,s),e));let r=is?100:1,i=0;do{let s=!0;try{let o=e.rmdirSync(t,e);return s=!1,o}finally{if(++i<r&&s)continue}}while(!0)};Dx.exports=gc;gc.sync=Lx});var i_=y((gN,_t)=>{var de=require("fs"),xc=require("os"),qe=require("path"),Fx=require("crypto"),ot={fs:de.constants,os:xc.constants},Gx=$x(),Hx="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",zx=/XXXXXX/,UR=3,Ux=(ot.O_CREAT||ot.fs.O_CREAT)|(ot.O_EXCL||ot.fs.O_EXCL)|(ot.O_RDWR||ot.fs.O_RDWR),WR=xc.platform()==="win32",VR=ot.EBADF||ot.os.errno.EBADF,KR=ot.ENOENT||ot.os.errno.ENOENT,Wx=448,Vx=384,YR="exit",li=[],Kx=de.rmdirSync.bind(de),Yx=Gx.sync,Xx=!1;function _c(t,e){let r=ui(t,e),i=r[0],s=r[1];try{e_(i)}catch(n){return s(n)}let o=i.tries;(function n(){try{let a=Zx(i);de.stat(a,function(l){if(!l)return o-- >0?n():s(new Error("Could not get a unique tmp filename, max tries reached "+a));s(null,a)})}catch(a){s(a)}})()}function Sc(t){let e=ui(t),r=e[0];e_(r);let i=r.tries;do{let s=Zx(r);try{de.statSync(s)}catch{return s}}while(i-- >0);throw new Error("Could not get a unique tmp filename, max tries reached")}function XR(t,e){let r=ui(t,e),i=r[0],s=r[1];_c(i,function(n,a){if(n)return s(n);de.open(a,Ux,i.mode||Vx,function(u,c){if(u)return s(u);if(i.discardDescriptor)return de.close(c,function(h){return s(h,a,void 0,yc(a,-1,i,!1))});{let f=i.discardDescriptor||i.detachDescriptor;s(null,a,c,yc(a,f?-1:c,i,!1))}})})}function JR(t){let e=ui(t),r=e[0],i=r.discardDescriptor||r.detachDescriptor,s=Sc(r);var o=de.openSync(s,Ux,r.mode||Vx);return r.discardDescriptor&&(de.closeSync(o),o=void 0),{name:s,fd:o,removeCallback:yc(s,i?-1:o,r,!0)}}function QR(t,e){let r=ui(t,e),i=r[0],s=r[1];_c(i,function(n,a){if(n)return s(n);de.mkdir(a,i.mode||Wx,function(u){if(u)return s(u);s(null,a,Jx(a,i,!1))})})}function ZR(t){let e=ui(t),r=e[0],i=Sc(r);return de.mkdirSync(i,r.mode||Wx),{name:i,removeCallback:Jx(i,r,!0)}}function eP(t,e){let r=function(i){if(i&&!wc(i))return e(i);e()};0<=t[0]?de.close(t[0],function(){de.unlink(t[1],r)}):de.unlink(t[1],r)}function tP(t){let e=null;try{0<=t[0]&&de.closeSync(t[0])}catch(r){if(!iP(r)&&!wc(r))throw r}finally{try{de.unlinkSync(t[1])}catch(r){wc(r)||(e=r)}}if(e!==null)throw e}function yc(t,e,r,i){let s=to(tP,[e,t],i),o=to(eP,[e,t],i,s);return r.keep||li.unshift(s),i?s:o}function Jx(t,e,r){let i=e.unsafeCleanup?Gx:de.rmdir.bind(de),s=e.unsafeCleanup?Yx:Kx,o=to(s,t,r),n=to(i,t,r,o);return e.keep||li.unshift(o),r?o:n}function to(t,e,r,i){let s=!1;return function o(n){if(!s){let a=i||o,l=li.indexOf(a);return l>=0&&li.splice(l,1),s=!0,r||t===Kx||t===Yx?t(e):t(e,n||function(){})}}}function rP(){if(!!Xx)for(;li.length;)try{li[0]()}catch{}}function Bx(t){let e=[],r=null;try{r=Fx.randomBytes(t)}catch{r=Fx.pseudoRandomBytes(t)}for(var i=0;i<t;i++)e.push(Hx[r[i]%Hx.length]);return e.join("")}function Qx(t){return t===null||Ae(t)||!t.trim()}function Ae(t){return typeof t>"u"}function ui(t,e){if(typeof t=="function")return[{},t];if(Ae(t))return[{},e];let r={};for(let i of Object.getOwnPropertyNames(t))r[i]=t[i];return[r,e]}function Zx(t){let e=t.tmpdir;if(!Ae(t.name))return qe.join(e,t.dir,t.name);if(!Ae(t.template))return qe.join(e,t.dir,t.template).replace(zx,Bx(6));let r=[t.prefix?t.prefix:"tmp","-",process.pid,"-",Bx(12),t.postfix?"-"+t.postfix:""].join("");return qe.join(e,t.dir,r)}function e_(t){t.tmpdir=r_(t);let e=t.tmpdir;if(Ae(t.name)||bc(t.name,"name",e),Ae(t.dir)||bc(t.dir,"dir",e),!Ae(t.template)&&(bc(t.template,"template",e),!t.template.match(zx)))throw new Error(`Invalid template, found "${t.template}".`);if(!Ae(t.tries)&&isNaN(t.tries)||t.tries<0)throw new Error(`Invalid tries, found "${t.tries}".`);t.tries=Ae(t.name)?t.tries||UR:1,t.keep=!!t.keep,t.detachDescriptor=!!t.detachDescriptor,t.discardDescriptor=!!t.discardDescriptor,t.unsafeCleanup=!!t.unsafeCleanup,t.dir=Ae(t.dir)?"":qe.relative(e,vc(t.dir,e)),t.template=Ae(t.template)?void 0:qe.relative(e,vc(t.template,e)),t.template=Qx(t.template)?void 0:qe.relative(t.dir,t.template),t.name=Ae(t.name)?void 0:kc(t.name),t.prefix=Ae(t.prefix)?"":t.prefix,t.postfix=Ae(t.postfix)?"":t.postfix}function vc(t,e){let r=kc(t);return r.startsWith(e)?qe.resolve(r):qe.resolve(qe.join(e,r))}function kc(t){return Qx(t)?t:t.replace(/["']/g,"")}function bc(t,e,r){if(e==="name"){if(qe.isAbsolute(t))throw new Error(`${e} option must not contain an absolute path, found "${t}".`);let i=qe.basename(t);if(i===".."||i==="."||i!==t)throw new Error(`${e} option must not contain a path, found "${t}".`)}else{if(qe.isAbsolute(t)&&!t.startsWith(r))throw new Error(`${e} option must be relative to "${r}", found "${t}".`);let i=vc(t,r);if(!i.startsWith(r))throw new Error(`${e} option must be relative to "${r}", found "${i}".`)}}function iP(t){return t_(t,-VR,"EBADF")}function wc(t){return t_(t,-KR,"ENOENT")}function t_(t,e,r){return WR?t.code===r:t.code===r&&t.errno===e}function sP(){Xx=!0}function r_(t){return qe.resolve(kc(t&&t.tmpdir||xc.tmpdir()))}process.addListener(YR,rP);Object.defineProperty(_t.exports,"tmpdir",{enumerable:!0,configurable:!1,get:function(){return r_()}});_t.exports.dir=QR;_t.exports.dirSync=ZR;_t.exports.file=XR;_t.exports.fileSync=JR;_t.exports.tmpName=_c;_t.exports.tmpNameSync=Sc;_t.exports.setGracefulCleanup=sP});var n_=y((bN,Ec)=>{"use strict";var nP=require("net"),io=class extends Error{constructor(e){super(`${e} is locked`)}},ci={old:new Set,young:new Set},oP=1e3*15,ro,s_=t=>new Promise((e,r)=>{let i=nP.createServer();i.unref(),i.on("error",r),i.listen(t,()=>{let{port:s}=i.address();i.close(()=>{e(s)})})}),aP=function*(t){t&&(yield*t),yield 0};Ec.exports=async t=>{let e;t&&(e=typeof t.port=="number"?[t.port]:t.port),ro===void 0&&(ro=setInterval(()=>{ci.old=ci.young,ci.young=new Set},oP),ro.unref&&ro.unref());for(let r of aP(e))try{let i=await s_({...t,port:r});for(;ci.old.has(i)||ci.young.has(i);){if(r!==0)throw new io(r);i=await s_({...t,port:r})}return ci.young.add(i),i}catch(i){if(!["EADDRINUSE","EACCES"].includes(i.code)&&!(i instanceof io))throw i}throw new Error("No available ports found")};Ec.exports.makeRange=(t,e)=>{if(!Number.isInteger(t)||!Number.isInteger(e))throw new TypeError("`from` and `to` must be integer numbers");if(t<1024||t>65535)throw new RangeError("`from` must be between 1024 and 65535");if(e<1024||e>65536)throw new RangeError("`to` must be between 1024 and 65536");if(e<t)throw new RangeError("`to` must be greater than or equal to `from`");return function*(i,s){for(let o=i;o<=s;o++)yield o}(t,e)}});var We=$(require("path")),Ue=$(require("fs"));var uo=require("perf_hooks"),yr=Symbol.for("#spinner");var x_=Symbol.for("#ctime"),Rc=Symbol.for("#IMBA_OPTIONS"),Pc=Symbol.for("#prefix"),ao=Symbol.for("#last"),__={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},je={bold:function(t){return"\x1B[1m"+t+"\x1B[22m"},red:function(t){return"\x1B[31m"+t+"\x1B[39m"},green:function(t){return"\x1B[32m"+t+"\x1B[39m"},yellow:function(t){return"\x1B[33m"+t+"\x1B[39m"},blue:function(t){return"\x1B[94m"+t+"\x1B[39m"},gray:function(t){return"\x1B[90m"+t+"\x1B[39m"},white:function(t){return"\x1B[37m"+t+"\x1B[39m"},f:function(t,e){let r=__[t];return"\x1B["+r[0]+"m"+e+"\x1B["+r[1]+"m"}};je.warn=je.yellow;je.error=je.red;var hi=process.platform!=="win32"||process.env.CI||process.env.TERM==="xterm-256color",S_={info:je.f("yellowBright",hi?"ℹ":"i"),success:je.green(hi?"✔":"√"),warning:je.yellow(hi?"⚠":"!!"),error:je.red(hi?"×":"✖"),debug:je.blue(hi?"ℹ":"i")},Mc=["debug","info","success","warning","error","silent"],k_={"-1":"socket",4:"ip4",6:"ip6"};function E_(t){let e=je.f;return t=t.replace(/https?\:[^\s\n\)\]]+/g,function(r){return e("blueBright",r)}),t=t.replace(/^[\t\s]*\>[^\n]+/gm,function(r){return e("bold",r)}),t=t.replace(/\t/g,"  "),t=t.replace(/^/gm,"  "),t}function lo(t,...e){let r=je.f;return t=t.replace(/\%([\w\.]+)/g,function(i,s){let o=e.shift();if(s=="markdown")return E_(o);if(s=="kb")return r("dim",(o/1e3).toFixed(1)+"kb");if(s=="path"||s=="bold")return r("bold",o);if(s=="dim")return r("dim",o);if(s=="address"){let n=k_[o.addressType];return o.port?r("blueBright",[o.address||"http://127.0.0.1",o.port].join(":")):r("blueBright",n)}else{if(s=="ms")return r("yellow",Math.round(o)+"ms");if(s=="d")return r("blueBright",o);if(s=="red")return r("redBright",o);if(s=="green")return r("green",o);if(s=="magenta")return r("magentaBright",o);if(s=="cyan")return r("cyanBright",o);if(s=="imba")return r("yellowBright",o);if(s=="yellow")return r("yellowBright",o);if(s=="ref")return r("yellowBright","#"+(o.id||o));if(s=="elapsed"){o!=null&&e.unshift(o);let n=uo.performance.now();return r("yellow",Math.round(n)+"ms")}else if(s=="heap"){o!=null&&e.unshift(o);let n=process.memoryUsage().heapUsed/1024/1024;return r("yellow",n.toFixed(2)+"mb")}else return o}}),[t,...e]}var qc=null,jc=null,Wt=class{static get main(){return jc||(jc=new this)}constructor({prefix:e=null,loglevel:r}={}){this[x_]=Date.now(),this.prefix=e,this.loglevel=r||process.env.IMBA_LOGLEVEL||globalThis[Rc]&&globalThis[Rc].loglevel||"info"}set prefix(e){this[Pc]=e?lo(...e)[0]:""}get prefix(){return this[Pc]}write(e,...r){if(Mc.indexOf(e)<Mc.indexOf(this.loglevel))return this;let i=S_[e]||e,[s,...o]=lo(...r);return this.prefix&&(s=this.prefix+s),this[yr]&&this[yr].isSpinning?(e=="success"&&(this[yr].clear(),console.log(i+" "+s,...o),this[yr].frame()),this[yr].text=s):console.log(i+" "+s,...o)}debug(...e){return this.write("debug",...e)}log(...e){let[r,...i]=lo(...e);return console.log(r,...i)}info(...e){return this.write("info",...e)}warn(...e){return this.write("warn",...e)}error(...e){return this.write("error",...e)}success(...e){return this.write("success",...e)}ts(...e){let r=uo.performance.now(),i=this[ao]?r-this[ao]:0;return this.write("debug",...e,je.blue("+"+i.toFixed(1)+"ms")),this[ao]=r}spinner(){}get[yr](){return qc}get proxy(){var e=this;let r=function(...i){return e.info(...i)};return r.info=e.info.bind(e),r.log=e.log.bind(e),r.warn=e.warn.bind(e),r.error=e.error.bind(e),r.debug=e.debug.bind(e),r.success=e.success.bind(e),r.ts=e.ts.bind(e),r.logger=e,r}async time(e,r){let i=Date.now();if(r){let s=await r();return this.info(""+e+" %ms",Date.now()-i),s}}},ls=new Wt().proxy;var St=$(Gc());var Pd=$(require("fs")),Je=$(require("path")),Md=$($h());function j1(t){return Array.isArray(t)}function Fh(t){return!j1(t)}function Io(t){return typeof t=="string"}function Hh(t){return!Io(t)}function Bh(t){return!t}function Yt(t,e){return t.ignoreCase&&e?e.toLowerCase():e}function To(t){return t.replace(/[&<>'"_]/g,"-")}function Gh(t,e){console.log(`${t.languageId}: ${e}`)}function z(t,e){return new Error(`${t.languageId}: ${e}`)}var zh={};function N1(t){let e=[],r=0,i=t.length,s="",o=0;for(;r<i;){let n=t[r++];if(n=="$"){let a=t[r++];if(a=="$"){s+="$";continue}s&&e.push(s),s="",a=="#"?e.push(0):a=="S"?e.push(parseInt(t[r++])+100):e.push(parseInt(a)+1)}else s+=n}return s&&e.push(s),zh[t]=e,e}function lt(t,e,r,i,s){let o=null,n=zh[e]||N1(e),a="";for(let l=0;l<n.length;l++){let u=n[l];typeof u=="string"?a+=u:u>100?(o===null&&(o=s.split(".")),a+=o[u-101]||""):u===100?a+=s:u===0?a+=r:u>0&&(a+=i[u-1])}return a}var Co={};function ps(t,e){let r=e;if(Co[r])return t.tokenizer[Co[r]];for(;r&&r.length>0;){let i=t.tokenizer[r];if(i)return Co[e]=r,i;let s=r.lastIndexOf(".");s<0?r=null:r=r.substr(0,s)}return null}function Uh(t,e){let r=e;for(;r&&r.length>0;){if(t.stateNames[r])return!0;let s=r.lastIndexOf(".");s<0?r=null:r=r.substr(0,s)}return!1}function D1(t,e){if(!e||!Array.isArray(e))return!1;for(let r of e)if(!t(r))return!1;return!0}function Vh(t,e){return typeof t=="boolean"?t:e}function Kh(t,e){return typeof t=="string"?t:e}function $1(t){let e={};for(let r of t)e[r]=!0;return e}function Yh(t,e=!1){e&&(t=t.map(function(i){return i.toLowerCase()}));let r=$1(t);return e?function(i){return r[i.toLowerCase()]!==void 0&&r.hasOwnProperty(i.toLowerCase())}:function(i){return r[i]!==void 0&&r.hasOwnProperty(i)}}function Ro(t,e){let r=0;for(;e.indexOf("@")>=0&&r<5;)r++,e=e.replace(/@(\w+)/g,function(i,s){let o="";if(typeof t[s]=="string")o=t[s];else if(t[s]&&t[s]instanceof RegExp)o=t[s].source;else throw t[s]===void 0?z(t,"language definition does not contain attribute '"+s+"', used at: "+e):z(t,"attribute reference '"+s+"' must be a string, used at: "+e);return Bh(o)?"":"(?:"+o+")"});return new RegExp(e,t.ignoreCase?"i":"")}function F1(t,e,r,i){if(i<0)return t;if(i<e.length)return e[i];if(i>=100){i=i-100;let s=r.split(".");if(s.unshift(r),i<s.length)return s[i]}return null}function H1(t,e,r,i){let s=-1,o=r,n=r.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);n&&(n[3]&&(s=parseInt(n[3]),n[2]&&(s=s+100)),o=n[4]);let a="~",l=o;!o||o.length===0?(a="!=",l=""):/^\w*$/.test(l)?a="==":(n=o.match(/^(@|!@|~|!~|==|!=)(.*)$/),n&&(a=n[1],l=n[2]));let u;if((a==="~"||a==="!~")&&/^(\w|\|)*$/.test(l)){let c=Yh(l.split("|"),t.ignoreCase);u=function(f){return a==="~"?c(f):!c(f)}}else if(a==="@"||a==="!@"){let c=t[l];if(!c)throw z(t,"the @ match target '"+l+"' is not defined, in rule: "+e);if(!D1(function(h){return typeof h=="string"},c))throw z(t,"the @ match target '"+l+"' must be an array of strings, in rule: "+e);let f=Yh(c,t.ignoreCase);u=function(h){return a==="@"?f(h):!f(h)}}else if(a==="~"||a==="!~")if(l.indexOf("$")<0){let c=Ro(t,"^"+l+"$");u=function(f){return a==="~"?c.test(f):!c.test(f)}}else u=function(c,f,h,d){return Ro(t,"^"+lt(t,l,f,h,d)+"$").test(c)};else if(l.indexOf("$")<0){let c=Yt(t,l);u=function(f){return a==="=="?f===c:f!==c}}else{let c=Yt(t,l);u=function(f,h,d,p,g){let b=lt(t,c,h,d,p);return a==="=="?f===b:f!==b}}return s===-1?{name:r,value:i,test:function(c,f,h,d){return u(c,c,f,h,d)}}:{name:r,value:i,test:function(c,f,h,d){let p=F1(c,f,h,s);return u(p||"",c,f,h,d)}}}function Po(t,e,r){if(r){if(typeof r=="string")return r;if(r.token||r.token===""){if(typeof r.token!="string")throw z(t,"a 'token' attribute must be of type string, in rule: "+e);{let i={token:r.token};if(r.token.indexOf("$")>=0&&(i.tokenSubst=!0),typeof r.bracket=="string")if(r.bracket==="@open")i.bracket=1;else if(r.bracket==="@close")i.bracket=-1;else throw z(t,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+e);if(r.next){if(typeof r.next!="string")throw z(t,"the next state must be a string value in rule: "+e);{let s=r.next;if(!/^(@pop|@push|@popall)$/.test(s)&&(s[0]==="@"&&(s=s.substr(1)),s.indexOf("$")<0&&!Uh(t,lt(t,s,"",[],""))))throw z(t,"the next state '"+r.next+"' is not defined in rule: "+e);i.next=s}}return typeof r.goBack=="number"&&(i.goBack=r.goBack),typeof r.switchTo=="string"&&(i.switchTo=r.switchTo),typeof r.log=="string"&&(i.log=r.log),typeof r._push=="string"&&(i._push=r._push),typeof r._pop=="string"&&(i._pop=r._pop),typeof r.mark=="string"&&(i.mark=r.mark),typeof r.fn=="string"&&(i.fn=r.fn),typeof r.nextEmbedded=="string"&&(i.nextEmbedded=r.nextEmbedded,t.usesEmbedded=!0),i}}else if(Array.isArray(r)){let i=[];for(let s=0,o=r.length;s<o;s++)i[s]=Po(t,e,r[s]);return{group:i}}else if(r.cases){let i=[];for(let o in r.cases)if(r.cases.hasOwnProperty(o)){let n=Po(t,e,r.cases[o]);o==="@default"||o==="@"||o===""?i.push({test:void 0,value:n,name:o}):o==="@eos"?i.push({test:function(a,l,u,c){return c},value:n,name:o}):i.push(H1(t,e,o,n))}let s=t.defaultToken;return{test:function(o,n,a,l){for(let u of i)if(!u.test||u.test(o,n,a,l))return u.value;return s}}}else throw z(t,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+e)}else return{token:""}}var Mo=class{constructor(e){this.regex=new RegExp("");this.action={token:""};this.matchOnlyAtLineStart=!1;this.name="";this.name=e,this.stats={time:0,count:0,hits:0}}setRegex(e,r){let i;if(typeof r=="string")i=r;else if(r instanceof RegExp)i=r.source;else throw z(e,"rules must start with a match string or regular expression: "+this.name);i.length==2&&i[0]=="\\"&&/[\{\}\(\)\[\]]/.test(i[1])&&(this.string=i[1]),this.matchOnlyAtLineStart=i.length>0&&i[0]==="^",this.name=this.name+": "+i,this.regex=Ro(e,"^(?:"+(this.matchOnlyAtLineStart?i.substr(1):i)+")")}setAction(e,r){this.action=Po(e,this.name,r)}};function Xh(t,e){if(!e||typeof e!="object")throw new Error("Monarch: expecting a language definition object");let r={};r.languageId=t,r.noThrow=!1,r.maxStack=100,r.start=typeof e.start=="string"?e.start:null,r.ignoreCase=Vh(e.ignoreCase,!1),r.tokenPostfix=Kh(e.tokenPostfix,"."+r.languageId),r.defaultToken=Kh(e.defaultToken,"source"),r.usesEmbedded=!1;let i=e;i.languageId=t,i.ignoreCase=r.ignoreCase,i.noThrow=r.noThrow,i.usesEmbedded=r.usesEmbedded,i.stateNames=e.tokenizer,i.defaultToken=r.defaultToken;function s(n,a,l){for(let u of l){let c=u.include;if(c){if(typeof c!="string")throw z(r,"an 'include' attribute must be a string at: "+n);if(c[0]==="@"&&(c=c.substr(1)),!e.tokenizer[c])throw z(r,"include target '"+c+"' is not defined at: "+n);s(n+"."+c,a,e.tokenizer[c])}else{let f=new Mo(n);if(Array.isArray(u)&&u.length>=1&&u.length<=3)if(f.setRegex(i,u[0]),u.length>=3)if(typeof u[1]=="string")f.setAction(i,{token:u[1],next:u[2]});else if(typeof u[1]=="object"){let h=u[1];h.next=u[2],f.setAction(i,h)}else throw z(r,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+n);else f.setAction(i,u[1]);else{if(!u.regex)throw z(r,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+n);u.name&&typeof u.name=="string"&&(f.name=u.name),u.matchOnlyAtStart&&(f.matchOnlyAtLineStart=Vh(u.matchOnlyAtLineStart,!1)),f.setRegex(i,u.regex),f.setAction(i,u.action)}a.push(f)}}}if(!e.tokenizer||typeof e.tokenizer!="object")throw z(r,"a language definition must define the 'tokenizer' attribute as an object");r.tokenizer=[];for(let n in e.tokenizer)if(e.tokenizer.hasOwnProperty(n)){r.start||(r.start=n);let a=e.tokenizer[n];r.tokenizer[n]=new Array,s("tokenizer."+n,r.tokenizer[n],a)}if(r.usesEmbedded=i.usesEmbedded,e.brackets){if(!Array.isArray(e.brackets))throw z(r,"the 'brackets' attribute must be defined as an array")}else e.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let o=[];for(let n of e.brackets){let a=n;if(a&&Array.isArray(a)&&a.length===3&&(a={token:a[2],open:a[0],close:a[1]}),a.open===a.close)throw z(r,"open and close brackets in a 'brackets' attribute must be different: "+a.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof a.open=="string"&&typeof a.token=="string"&&typeof a.close=="string")o.push({token:a.token+r.tokenPostfix,open:Yt(r,a.open),close:Yt(r,a.close)});else throw z(r,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return r.brackets=o,r.noThrow=!0,r}var Xt=class{constructor(e,r,i){this.offset=e|0,this.type=r,this.language=i,this.kind=0,this.mods=0,this.value=null,this.stack=null}toString(){return this.value||""}get span(){return{offset:this.offset,length:this.value?this.value.length:0}}get indent(){return 0}get startOffset(){return this.offset}get endOffset(){return this.offset+(this.value?this.value.length:0)}clone(){let e=new Xt(this.offset,this.type,this.language);return e.value=this.value,e.stack=this.stack,e}match(e){if(typeof e=="string")if(e.indexOf(" ")>0)e=e.split(" ");else{let r=this.type.indexOf(e);return e[0]=="."?r>=0:r==0}if(e instanceof Array)for(let r of e){let i=this.type.indexOf(r);if(r[0]=="."?i>=0:i==0)return!0}return e instanceof RegExp?e.test(this.type):!1}},ms=class{constructor(e,r){this.tokens=e,this.endState=r}};var Jh=10;function bi(t,e){return t.split(".")[e]}var jo=class{static create(e,r){return this._INSTANCE.create(e,r)}constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}create(e,r){if(e!==null&&e.depth>=this._maxCacheDepth)return new kt(e,r);let i=kt.getStackElementId(e);i.length>0&&(i+="|"),i+=r;let s=this._entries[i];return s||(s=new kt(e,r),this._entries[i]=s,s)}},_r=jo;_r._INSTANCE=new jo(Jh);var kt=class{constructor(e,r){this.parent=e,this.state=r,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(e){let r="";for(;e!==null;)r.length>0&&(r+="|"),r+=e.state,e=e.parent;return r}static _equals(e,r){for(;e!==null&&r!==null;){if(e===r)return!0;if(e.state!==r.state)return!1;e=e.parent,r=r.parent}return e===null&&r===null}get indent(){return this.state.lastIndexOf("	")-this.state.indexOf("	")}get scope(){return this.part(2)}get detail(){return this.part(2)}part(e){return this.state.split(".")[e]}equals(e){return kt._equals(this,e)}push(e){return _r.create(this,e)}pop(){return this.parent}popall(){let e=this;for(;e.parent;)e=e.parent;return e}switchTo(e){return _r.create(this.parent,e)}},No=class{static create(e){return this._INSTANCE.create(e)}constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}create(e){if(e!==null&&e.depth>=this._maxCacheDepth)return new kr(e);let r=kt.getStackElementId(e),i=this._entries[r];return i||(i=new kr(e),this._entries[r]=i,i)}},Sr=No;Sr._INSTANCE=new No(Jh);var kr=class{constructor(e){this.stack=e}clone(){return Sr.create(this.stack)}equals(e){return!(!(e instanceof kr)||!this.stack.equals(e.stack))}},qo=class{constructor(){this._tokens=[],this._language=null,this._lastToken=new Xt(0,"start","imba"),this._lastTokenType=null}enterMode(e,r){this._language=r}emit(e,r,i){this._lastTokenType;let s=new Xt(e,r,this._language);return this._lastTokenType=r,this._lastToken=s,this._tokens.push(s),s}finalize(e){return new ms(this._tokens,e)}},gs=class{constructor(e,r){this._modeId=e,this._lexer=r,this._profile=!1}dispose(){}getLoadStatus(){return{loaded:!0}}getInitialState(){let e=_r.create(null,this._lexer.start);return Sr.create(e)}tokenize(e,r,i){let s=new qo,o=this._tokenize(e,r,i,s);return s.finalize(o)}_tokenize(e,r,i,s){return this._myTokenize(e,r,i,s)}_safeRuleName(e){return e?e.name:"(unknown)"}_rescope(e,r,i,s){let o=(e||"").split("-"),n=(r||"").split("-");if(e==r)return;let a=1;for(;o[a]&&o[a]==n[a];)a++;let l=o.length;for(;l>a;)i.push("pop."+o[--l]+"."+l);for(;n.length>a;){let u="push."+n[a++]+"."+(a-1);if(s){let c=bi(s,1);u+="."+c}i.push(u)}}_myTokenize(e,r,i,s){s.enterMode(i,this._modeId);let o=e.length,n=r.stack,a=null,l=0,u=this._profile,c=null,f=!0,h=[],d=0,p=[],g=null,b=-1;for(;f||l<o;){if(d++,d>1e3){if(l==b)throw console.log("infinite recursion",l,o,n,s),"infinite recursion in tokenizer?";b=l,d=0}let m=l,v=n.depth,k=c?c.groups.length:0,x=n.state,E=null,A=null,O=null,C=null;if(c){E=c.matches;let T=c.groups.shift();A=T.matched,O=T.action,C=c.rule,c.groups.length===0&&(c=null)}else{if(!f&&l>=o)break;if(f=!1,p=this._lexer.tokenizer[x],!p&&(p=ps(this._lexer,x),!p))throw z(this._lexer,"tokenizer state is not defined: "+x);let T=e.substr(l);for(let w of p)if(w.string!==void 0){if(T[0]===w.string){E=[w.string],A=w.string,O=w.action;break}}else if(l===0||!w.matchOnlyAtLineStart){if(u){w.stats.count++;let N=performance.now();E=T.match(w.regex),w.stats.time+=performance.now()-N,E&&w.stats.hits++}else E=T.match(w.regex);if(E){A=E[0],O=w.action;break}}}if(E||(E=[""],A=""),O||(l<o&&(E=[e.charAt(l)],A=E[0]),O=this._lexer.defaultToken),A===null)break;for(l+=A.length;Fh(O)&&Hh(O)&&O.test;)O=O.test(A,E,x,l===o);let R=null;if(typeof O=="string"||Array.isArray(O))R=O;else if(O.group)R=O.group;else if(O.token!==null&&O.token!==void 0){if(O.tokenSubst?R=lt(this._lexer,O.token,A,E,x):R=O.token,O.goBack&&(l=Math.max(0,l-O.goBack)),O.switchTo&&typeof O.switchTo=="string"){let T=lt(this._lexer,O.switchTo,A,E,x);if(T[0]==="@"&&(T=T.substr(1)),ps(this._lexer,T)){let w=n.scope,N=bi(T,2);w!==N&&this._rescope(w,N,h,T),n=n.switchTo(T)}else throw z(this._lexer,"trying to switch to a state '"+T+"' that is undefined in rule: "+this._safeRuleName(C))}else{if(O.transform&&typeof O.transform=="function")throw z(this._lexer,"action.transform not supported");if(O.next)if(O.next==="@push"){if(n.depth>=this._lexer.maxStack)throw z(this._lexer,"maximum tokenizer stack size reached: ["+n.state+","+n.parent.state+",...]");n=n.push(x)}else if(O.next==="@pop"){if(n.depth<=1)throw z(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(C));{let T=n;n=n.pop();let w=bi(T.state,2),N=bi(n.state,2);w!==N&&this._rescope(w,N,h,n.state)}}else if(O.next==="@popall")n=n.popall();else{let T=lt(this._lexer,O.next,A,E,x);T[0]==="@"&&(T=T.substr(1));let w=bi(T,2);if(ps(this._lexer,T))w!=n.scope&&this._rescope(n.scope||"",w,h,T),n=n.push(T);else throw z(this._lexer,"trying to set a next state '"+T+"' that is undefined in rule: "+this._safeRuleName(C))}}O.log&&typeof O.log=="string"&&Gh(this._lexer,this._lexer.languageId+": "+lt(this._lexer,O.log,A,E,x)),O.mark&&s.emit(m+i,O.mark,n)}if(R===null)throw z(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(C));if(Array.isArray(R)){if(c&&c.groups.length>0)throw z(this._lexer,"groups cannot be nested: "+this._safeRuleName(C));if(E.length!==R.length+1)throw z(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(C));let T=0;for(let w=1;w<E.length;w++)T+=E[w].length;if(T!==A.length)throw z(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(C));c={rule:C,matches:E,groups:[]};for(let w=0;w<R.length;w++)c.groups[w]={action:R[w],matched:E[w+1]};l-=A.length;continue}else{if(R==="@rematch"&&(l-=A.length,A="",E=null,R=""),A.length===0)if(o===0||v!==n.depth||x!==n.state||(c?c.groups.length:0)!==k){for(typeof R=="string"&&R&&s.emit(l+i,R,n);h.length>0;)s.emit(l+i,h.shift(),n);continue}else throw z(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(C));let T=null;if(Io(R)&&R.indexOf("@brackets")===0){let N=R.substr(9),D=B1(this._lexer,A);if(!D)throw z(this._lexer,"@brackets token returned but no bracket defined as: "+A);T=To(D.token+N)}else{let N=R===""?"":R+this._lexer.tokenPostfix;T=To(N)}let w=s.emit(m+i,T,n);for(w.stack=n,a&&a!=w&&(a.value=e.slice(a.offset-i,m)),a=w;h.length>0;)s.emit(l+i,h.shift(),n)}}return a&&!a.value&&(a.value=e.slice(a.offset-i)),Sr.create(n)}};function B1(t,e){if(!e)return null;e=Yt(t,e);let r=t.brackets;for(let i of r){if(i.open===e)return{token:i.token,bracketType:1};if(i.close===e)return{token:i.token,bracketType:-1}}return null}var Qh={defaultToken:"",tokenPostfix:".xml",ignoreCase:!0,qualifiedName:/(?:[\w\.\-]+:)?[\w\.\-]+/,tokenizer:{root:[[/[^<&]+/,""],{include:"@whitespace"},[/(<)(@qualifiedName)/,[{token:"delimiter"},{token:"tag",next:"@tag"}]],[/(<\/)(@qualifiedName)(\s*)(>)/,[{token:"delimiter"},{token:"tag"},"",{token:"delimiter"}]],[/(<\?)(@qualifiedName)/,[{token:"delimiter"},{token:"metatag",next:"@tag"}]],[/(<\!)(@qualifiedName)/,[{token:"delimiter"},{token:"metatag",next:"@tag"}]],[/<\!\[CDATA\[/,{token:"delimiter.cdata",next:"@cdata"}],[/&\w+;/,"string.escape"]],cdata:[[/[^\]]+/,""],[/\]\]>/,{token:"delimiter.cdata",next:"@pop"}],[/\]/,""]],tag:[[/[ \t\r\n]+/,""],[/(@qualifiedName)(\s*=\s*)("[^"]*"|'[^']*')/,["attribute.name","","attribute.value"]],[/(@qualifiedName)(\s*=\s*)("[^">?\/]*|'[^'>?\/]*)(?=[\?\/]\>)/,["attribute.name","","attribute.value"]],[/(@qualifiedName)(\s*=\s*)("[^">]*|'[^'>]*)/,["attribute.name","","attribute.value"]],[/@qualifiedName/,"attribute.name"],[/\?>/,{token:"delimiter",next:"@pop"}],[/(\/)(>)/,[{token:"tag"},{token:"delimiter",next:"@pop"}]],[/>/,{token:"delimiter",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,""],[/<!--/,{token:"comment",next:"@comment"}]],comment:[[/[^<\-]+/,"comment.content"],[/-->/,{token:"comment",next:"@pop"}],[/<!--/,"comment.content.invalid"],[/[<\-]/,"comment.content"]]}};var Lo={},yi=class{static getTokenizer(e){return e=="xml"&&!Lo[e]?this.createTokenizer("xml",Qh):Lo[e]}static createTokenizer(e,r){let i=Xh(e,r);return Lo[e]=new gs(e,i)}};function bs(t){let e;return t?(e=t.toIterable)?e.call(t):t:[]}var vi=Symbol.for("#attributes");function Zh(t,e){var r,i;let s=t.body,o=s.indexOf("<svg");o>0&&(s=s.slice(o));let n=yi.getTokenizer("xml"),a=n.getInitialState(),l=n.tokenize(s,a,0),u={},c={attributes:u,flags:[]},f,h=0;for(let d=0,p=bs(l.tokens),g=p.length;d<g;d++){let b=p[d],m=b.value;if(b.type=="attribute.name.xml"&&(f=b,u[m]=!0),b.type=="attribute.value.xml"){let v=m.length;v>2&&m[0]==m[v-1]&&(m[0]=='"'||m[0]=="'")&&(m=m.slice(1,-1)),u[f.value]=m}if(b.type=="delimiter.xml"&&m==">"){h=b.offset+1;break}}return c.content=s.slice(h).replace("</svg>",""),u.class&&(c.flags=u.class.split(/\s+/g),r=u.class,delete u.class),e&&c.flags.push("asset-"+e.toLowerCase()),i=u.xmlns,delete u.xmlns,c}function ef(t){let e=t.body,r=yi.getTokenizer("xml"),i=r.getInitialState(),s=r.tokenize(e,i,0),o,n=0,a={attributes:{},[vi]:{}},l=[],u={text:t},c=u.imports=[],f="",h=new Set,d=s.tokens.slice(0);for(let g=0,b=bs(d),m=b.length;g<m;g++){let v=b[g],k=v.type,x=v.value,E=s.tokens[g-1];if(k=="tag.xml"&&(E.value=="<"?(l.push(a=v),v.attributes={},v[vi]={},l[x]||(l[x]=[]),l[x].push(v)):E.value=="</"&&(a.closer||(a.closer=v))),k=="delimiter.xml"&&x==">"){let A=a?.value;(A=="head"||A=="body")&&(v.value+="<!--$"+A+"$-->")}if(k=="attribute.name.xml"&&(a[vi][x]=v,o=x),k=="attribute.value.xml"){let A=x;x.length>2&&x[0]==x[x.length-1]&&(x[0]=='"'||x[0]=="'")&&(A=x.slice(1,-1)),v.raw=A,a.attributes[o]=v}}for(let g=0,b=bs(l),m=b.length;g<m;g++){let v=b[g],k=null,x=v.attributes.src;if(v.value=="script"&&x)k={path:x.raw,tagType:"script"};else if(v.value=="img"&&x)k={path:x.raw,tagType:"img"};else if(v.value=="link"){let E=v.attributes.rel?.raw;x=v.attributes.href;let A=x?.raw||"";E=="stylesheet"?k={path:A,tagType:"style"}:x&&A.match(/^\.\.?\//)&&(k={path:x.raw,tagType:"link"})}else v.value=="style"&&x&&(k={path:x.raw,tagType:"style"},v.value="link rel='stylesheet'",v.closer&&(v.closer.value="link"),v[vi].src&&(v[vi].src.value="href"));if(x&&k&&!k.path.match(/^(\/|\w+?\:\/\/)/)){let E=c.push(k);x.value="'ASSET_REF_"+(E-1)+"'"}}let p="";for(let g=0,b=bs(d),m=b.length;g<m;g++)p+=b[g].value;return u.contents=p.replace(/<\/link>/g,""),u}var tf=require("events");var rf=require("perf_hooks"),Do=Symbol.for("#logger"),ys=Symbol.for("#timestamps"),$e=class extends tf.EventEmitter{get log(){return this[Do]||(this[Do]=new Wt)}set log(e){this[Do]=e}time(e="default"){let r=Date.now();this[ys]||(this[ys]={});let i=this[ys][e]||r,s=r-i;return this[ys][e]=r,s}timed(e="default"){let r;return r="time "+e+": "+this.time(e)}timelog(e="timing"){return console.log(e,rf.performance.now())}};function G1(t){let e;return t?(e=t.toIterable)?e.call(t):t:[]}var Jt=class{constructor(e={}){this.log=[],this.maps=new WeakMap,this.cursors=e.ignoreInitial?null:new WeakMap,this.depth=0,this.offset=0,this.pulled=0,this.options=e,this.batch=null}flush(){if(this.batch){if(this.options.withFlags)this.log.push(...Array.from(this.batch));else for(let[e,r]of G1(this.batch))this.log.push(e);this.batch=null}return this}push(e){return this.mark(e)}mark(e,r=2){if(!!this.cursors)return this.batch?this.batch.set(e,(this.batch.get(e)||0)|r):(this.batch=new Map,this.batch.set(e,r))}trim(){return this.offset+=this.log.length,this.log.length=0,this}get cursor(){return this.offset+this.log.length}get length(){return this.log.length}pull(e){this.batch&&this.flush();let r=this.cursors||(this.cursors=new WeakMap),i=r.get(e),s=this.cursor;if(i==null||i<s){r.set(e,s);let o=Math.max((i||0)-this.offset,0);return this.log.slice(o)}return!1}};var qd=$(Df());function Et(t){let e;return t?(e=t.toIterable)?e.call(t):t:[]}var Ot=Symbol.for("#__initor__"),At=Symbol.for("#__inited__"),It=Symbol.for("#__init__"),Ws=Symbol.for("#cache"),Vs=Symbol.for("#watchers"),_i=Symbol.for("#watched"),Si=Symbol.for("#tree"),Ys=Symbol.for("#mtime"),Xs=Symbol.for("#body"),Od=Symbol.for("#abs"),Ks=Symbol.for("#hash"),zk=Symbol.for("#mtimesync"),Re=Symbol.for("#files"),Uk=Symbol.for("#map"),Ad=Symbol(),Cd=Symbol(),Id=Symbol(),Td=Symbol(),Wk=oa(),jd={size:0,blocks:0,atimeMs:0,mtimeMs:0,ctimeMs:0,birthtimeMs:0,atime:"",mtime:"",ctime:"",birthtime:""},aa={CHECKED:1,EXISTS:2,REGISTERED:4,WATCHED:8,RESOLVED:16,REMOVED:32,ADDED:64},Vk={".js":"cyan",".mjs":"cyan",".css":"magenta"},Rd={};function Kk(t){return Rd[t]||(Rd[t]=(t=t.replace(/(\*\*|\*|\.)/g,function(e,r){if(r=="**")return"(.*)";if(r=="*")return"([^/]+)";if(r==".")return"\\."}),new RegExp(t)))}var Cr=class extends Array{static[It](){return this.prototype[Ot]=Ad,this}constructor(...e){super(...e),this[Ws]={},this[Ot]===Ad&&this[At]&&this[At]()}withExtension(e){return this.match(".("+e.replace(/,/g,"|")+")$")}match(e){var r;if(typeof e=="string"){let i=Kk(e);return(r=this[Ws])[e]||(r[e]=this.filter(function(s){return i.test(s.rel)}))}}add(e){return this.indexOf(e)==-1&&(this.push(e),this[Ws]={}),this}get paths(){return this.map(function(e){return e.rel})}remove(e){let r=this.indexOf(e);if(r>=0){this.splice(r,1);for(let i=this[Ws],s=0,o=Object.keys(i),n=o.length,a,l;s<n;s++)a=o[s],l=i[a],l.remove(e)}return this}};Cr[It]();var er=class{static create(e,r,i){let s=r.slice(r.lastIndexOf(".")),n={".json":Js,".imba":ua,".imba1":ca,".svg":ha,".png":Xe,".apng":Xe,".jpg":Xe,".jpeg":Xe,".webp":Xe,".avif":Xe,".gif":Xe,".ico":Xe,".html":fa,".map":la}[s]||Le;return new n(e,r,i)}constructor(e,r,i){this.root=e,this.rel=r,this.abs=i,this.flags=0,this[Vs]=new Set,this[_i]=!1}get log(){return this.root.log}get program(){return this.root.program}get fs(){return this.root}get nodefs(){return this.root.nodefs}get name(){return Je.default.basename(this.rel)}get ext(){return Je.default.extname(this.rel)}memo(e,r){return this.program.cache.memo(""+this.abs+":"+e,this.mtimesync,r)}watch(e){if(this[Vs].add(e),this[_i]!=!0&&(this[_i]=!0,!0))return this.program.watcher.add(this.abs)}get registeredΦ(){return this.flags&aa.REGISTERED}register(){var e;return(this.flags&(e=aa.REGISTERED))==0&&(this.flags|=e,!0)&&this.root[Si].add(this),this}deregister(){var e;if(this.flags&(e=aa.REGISTERED)&&(this.flags&=~e,!0))return this.root[Si].remove(this)}touch(){return this[Ys]=Date.now(),this[Xs]=void 0,this}existsSync(){return this.registeredΦ?!0:this.nodefs.existsSync(this.abs)?(this.register(),!0):!1}unwatch(e){if(this[Vs].delete(e),this[_i]&&this[Vs].size==0)return this[_i]=!1,this.program.watcher.unwatch(this.abs)}};var ki=class extends er{},Le=class extends er{static[It](){return this.prototype[Ot]=Cd,this}constructor(e,r,i){super(...arguments),this.cache={},this[Ot]===Cd&&this[At]&&this[At]()}[Symbol.toPrimitive](e){return this.abs}get reldir(){return this.rel.slice(0,this.rel.lastIndexOf("/")+1)}get absdir(){return this.abs.slice(0,this.abs.lastIndexOf(Je.default.sep)+1)}get dir(){return this.root.lookup(this.absdir,ki)}lookup(e){throw"Not implemented"}async write(e,r){if(!r||(this[Ks]!=r?(this[Ks]=r,!0):!1)){await this.nodefs.promises.mkdir(this.absdir,{recursive:!0}),this.rel.indexOf("../")!=0;{let i=this.program.outdir+"/",s=Vk[this.ext]||"green";this.log.success("%dim%"+s+" %kb",i,this.rel,e.length)}return this.nodefs.promises.writeFile(this.abs,e)}}writeSync(e,r){if(!r||(this[Ks]!=r?(this[Ks]=r,!0):!1))return this.rel.indexOf("../")!=0,this.log.success("write %path %kb",this.rel,e.length),this.nodefs.writeFileSync(this.abs,e)}read(e="utf8"){return this[Xs]||this.nodefs.promises.readFile(this.abs,e)}readSync(e="utf8"){return this[Xs]||(this[Xs]=this.nodefs.readFileSync(this.abs,e))}stat(){return this.nodefs.promises.stat(this.abs).then(function(e){return e}).catch(function(){return jd})}get mtimesync(){return this[zk]||(this.existsSync()?this.nodefs.statSync(this.abs).mtimeMs:1)}async mtime(){if(!this[Ys]){let e=await this.stat();this[Ys]=e.mtimeMs}return this[Ys]}unlink(){return this.log.debug("unlink %path",this.rel),this.nodefs.promises.unlink(this.abs)}extractStarPattern(e){let r=new RegExp(e.replace(/\*/g,"([^/]+)"));return(this.rel.match(r)||[]).slice(1)}};Le[It]();var la=class extends Le{};var ua=class extends Le{compile(e,r=this.program){var i=this;let s=""+e.platform+"-"+e.hmr;return i.memo(s,async function(){e=Object.assign({platform:e.platform,format:"esm",imbaPath:"imba",styles:"extern",hmr:e.hmr,bundle:!0,sourcePath:i.rel,sourceId:i.program.cache.getPathAlias(i.abs),cwd:i.fs.cwd,sourcemap:"inline",config:i.program.config},{}),e.format="esm";let o=await i.read(),n=Date.now(),a=await r.workers.exec("compile_imba",[o,e]);return i.log.debug("compile %path %path in %ms",i.rel,e.platform,Date.now()-n,e.sourceId),a})}},ca=class extends Le{compile(e,r=this.program){var i=this;return i.memo(e.platform,async function(){e=Object.assign({platform:"node",format:"esm",sourcePath:i.rel,filename:i.rel,inlineHelpers:1,cwd:i.fs.cwd},e),e.target=e.platform;let s=await i.read(),o={code:s,options:e,type:"imba1"},n=Date.now(),a=await r.workers.exec("compile_imba1",[s,e]);return i.log.success("compile %path in %ms",i.rel,Date.now()-n),a})}},ha=class extends Le{compile(e){var r=this;return r.memo(e.format,async function(){let i=await r.read(),s=Zh({body:i});return{js:"import url from './"+r.name+`';
export default /* @__PURE__ */ Object.assign({
	url: url, type: 'svg',toString: function(){ return this.url;}
},`+JSON.stringify(s)+")"}})}},fa=class extends Le{compile(e){var r=this;return r.memo(e.format,async function(){let i=await r.read(),s=ef({body:i}),o=[],n=[];o.push('import {html} from "imba/src/imba/assets.imba"');for(let l=0,u=Et(s.imports),c=u.length;l<c;l++){let f=u[l],h=f.path,d="";f.tagType=="img"?d="":f.tagType=="script"?d="web":f.tagType=="style"&&(d="css"),d&&h.indexOf("?")==-1&&(h=h+"?"+d),o.push("import ref"+l+" from '"+h+"';"),n.push("ref"+l)}let a=JSON.stringify(s.contents);return o.push("export const URLS = ["+n.join(",")+"];"),o.push("export default html("+a+",URLS);"),{js:o.join(`
`),html:s.contents}})}},Xe=class extends Le{compile(e){var r=this;return r.memo(e.format,async function(){let i=await Promise.resolve((0,qd.default)(r.abs)),s="import url from './"+r.name+`';
export default /* @__PURE__ */ {
	url: url,
	type: 'image',
	width: `+(i.width||0)+`,
	height: `+(i.height||0)+`,
	toString: function(){ return this.url;}
}`;return{width:i.width,height:i.height,js:s}})}},Js=class extends Le{static[It](){return this.prototype[Ot]=Id,this}constructor(){super(...arguments),this[Ot]===Id&&this[At]&&this[At]()}load(){try{this.raw=this.readSync(),this.data=JSON.parse(this.raw)}catch{this.data={}}return this}save(){let e=JSON.stringify(this.data,null,2);return e!=this.raw&&(this.raw=e,this.writeSync(e)),this}};Js[It]();var Ct=class extends $e{static[It](){return this.prototype[Ot]=Td,this}constructor(e,r){super(),this.cwd=Je.default.resolve(e),this.program=r,this.nodemap={},this.existsCache={},this.changelog=new Jt,this[Re]=null,this[Si]=new Cr,this[Uk]={},this[Ot]===Td&&this[At]&&this[At]()}toString(){return this.cwd}valueOf(){return this.cwd}existsSync(e){let r=this.nodemap[e];return r?r.existsSync():this.existsCache[e]!=null?this.existsCache[e]:this.existsCache[e]=this.nodefs.existsSync(this.resolve(e))}lookup(e,r=Le){var i;return e=this.relative(e),(i=this.nodemap)[e]||(i[e]=r.create(this,e,this.resolve(e)))}nodes(e){var r=this;return e.map(function(i){return r.lookup(i)})}get nodefs(){return this.program.volume||Pd.default}get files(){return this[Re]||this.prescan(),this[Re]}get cache(){return this.program.cache}resolve(...e){return Je.default.resolve(this.cwd,...e)}relative(e){return Je.default.relative(this.cwd,this.resolve(e)).split(Je.default.sep).join(Je.default.posix.sep)}writeFile(e,r){return this.nodefs.promises.writeFile(this.resolve(e),r)}unlink(e,r){return this.nodefs.promises.unlink(this.resolve(e))}readFile(e,r="utf8"){return this.nodefs.promises.readFile(this.resolve(e),r)}stat(e){return this.nodefs.promises.stat(this.resolve(e)).then(function(r){return r}).catch(function(){return jd})}touchFile(e){return this.changelog.mark(e),this.lookup(e).touch(),this.emit("change")}addFile(e){return this.changelog.mark(e),this.lookup(e).register(),this.emit("change")}removeFile(e){return this.changelog.mark(e),this.lookup(e).deregister(),this.emit("change")}prescan(e=null){var r;if(this[Re])return this[Re];this[Re]=e||this.crawl();for(let i=0,s=Et(this[Re]),o=s.length;i<o;i++){let n=s[i],a=n.lastIndexOf("."),l=a==-1?".*":n.slice(a);((r=this[Re])[l]||(r[l]=[])).push(n)}return this[Re]}reset(){return this[Re]=null,this}glob(e=[],r=null,i=null){var s=this;this.prescan();let o=this[Si];if(i&&(o=this[Si].withExtension(i)),e instanceof RegExp&&!r)return o.filter(function(a){return e.test(a.rel)});if(typeof e=="string")if(e.indexOf("*")>=0)e=[e];else return new Cr(this.existsSync(e)?this.lookup(e):null);if(!e||e.length==0){if(!r)return o.slice(0);e=["*"]}let n=Wk(o.paths,e,{ignore:r});return new Cr(...n.map(function(a){return s.nodemap[a]}))}find(e,r=null){this.prescan();let i=r?[]:this[Re];if(typeof r=="string"&&(r=r.split(",")),r instanceof Array)for(let s=0,o=Et(r),n=o.length;s<n;s++){let a=o[s];i=i.concat(this[Re]["."+a]||[])}return i.filter(function(s){return e.test(s)})}scan(e){this.prescan();let r=[];for(let i=0,s=Et(this[Re]),o=s.length;i<o;i++){let n=s[i],a=!1;e instanceof RegExp&&(a=e.test(n),a&&r.push(this.lookup(n)))}return r}fromJSON(e,r){var i,s;let o=[];for(let n=0,a=Et(this.res),l=a.length;n<l;n++){let u=a[n],c=u.dir,f=c.slice(this.slice),h=(i=this.nodemap)[f]||(i[f]=new ki(this,f,c));for(let d=0,p=Et(u.files),g=p.length;d<g;d++){let b=p[d],m=f+"/"+b,v=c+"/"+b;((s=this.nodemap)[m]||(s[m]=er.create(this,m,v))).register(),o.push(m)}}return!0}crawl(e={}){var r,i,s;let o=this.cwd.length+1,n=function(l){return l[0]!="."},a=!0;if(this.nodefs.toJSON){let l=this.nodefs.toJSON(),u=[];for(let c=0,f=Object.keys(l),h=f.length,d,p;c<h;c++){d=f[c],p=l[d];let g=d.slice(o);((r=this.nodemap)[g]||(r[g]=er.create(this,g,d))).register(),u.push(g)}return u}else{let u=new Md.fdir().crawlWithOptions(this.cwd,{includeBasePath:!a,group:a,includeDirs:!1,maxDepth:8,filters:[n],exclude:function(f,h,d){return d==7&&(e.includeRoots&&!e.includeRoots[f]||e.excludeRoots&&e.excludeRoots[f])?!0:/^(\.|node_modules)/.test(f)}}).sync();if(!a)return u.map(function(f){return f.slice(o)});let c=[];for(let f=0,h=Et(u),d=h.length;f<d;f++){let p=h[f],g=p.dir,b=g.slice(o),m=(i=this.nodemap)[b]||(i[b]=new ki(this,b,g));for(let v=0,k=Et(p.files),x=k.length;v<x;v++){let E=k[v],A=b?b+"/"+E:E,O=g+Je.default.sep+E;((s=this.nodemap)[A]||(s[A]=er.create(this,A,O))).register(),c.push(A)}}return c}}};Ct[It]();var hu=$(require("cluster")),nt=$(require("path")),Z0=$(require("child_process")),Xr=$(require("fs")),ev=require("url");var tv=require("module");var tr=$(require("fs")),Tr=$(require("path")),Bd=require("crypto");function da(t){let e;return t?(e=t.toIterable)?e.call(t):t:[]}var Yk={esbuild:"object",external:"array",hashing:"boolean",minify:"boolean",target:"array"},Nd={raw:"text",text:"text",copy:"copy",dataurl:"dataurl",binary:"binary",file:"file",url:"file",base64:"base64"},Ld={worker:{web:"worker.js",node:null},sharedworker:{web:"sharedworker.js",node:null}},Dd=["assert","async_hooks","buffer","child_process","cluster","console","constants","crypto","dgram","dns","domain","events","fs","fs/promises","http","http2","https","inspector","module","net","os","path","perf_hooks","process","punycode","querystring","readline","repl","stream","string_decoder","sys","timers","tls","trace_events","tty","url","util","v8","vm","worker_threads","zlib"],$d={".png":"file",".bmp":"file",".apng":"file",".webp":"file",".heif":"file",".avif":"file",".svg":"file",".gif":"file",".jpg":"file",".jpeg":"file",".ico":"file",".woff2":"file",".woff":"file",".eot":"file",".ttf":"file",".otf":"file",".html":"text",".webm":"file",".weba":"file",".avi":"file",".mp3":"file",".mp4":"file",".m4a":"file",".mpeg":"file",".wav":"file",".ogg":"file",".ogv":"file",".oga":"file",".opus":"file"},Xk={bundles:[],options:{base:{target:["chrome88","edge79","safari15"]},node:{extends:"base",platform:"node",format:"cjs",sourcemap:!0,target:["node14.13.0"],external:["dependencies","!imba"]},esm:{extends:"node",format:"esm",splitting:!1},web:{extends:"base",platform:"browser",sourcemap:!0,format:"esm",splitting:!0},iife:{extends:"web",format:"iife",splitting:!1,platform:"browser"},client:{extends:"web",splitting:!0},css:{format:"css",platform:"browser",external:["dependencies","devDependencies","!imba"],sourcemap:!1,splitting:!1},html:{format:"html",platform:"browser",sourcemap:!1,splitting:!1},worker:{extends:"base",format:"esm",platform:"webworker",splitting:!1},nodeworker:{extends:"node",format:"cjs",platform:"node",splitting:!1},sharedworker:{extends:"base",format:"esm",platform:"webworker",splitting:!1},serviceworker:{extends:"base",format:"iife",platform:"webworker",entryNames:"[name]"}}};function Qs(t){return t==null||t==null?t:JSON.parse(JSON.stringify(t))}function Ir(t,e,...r){let i=typeof t,s=typeof e;if(t instanceof Array&&(i="array"),e instanceof Array&&(s="array"),Yk[r[0]]=="boolean"||i=="string"&&s=="string")return e;if(i=="array"){s=="string"&&(e=e.split(/\,\s*|\s+/g));let n=e.every(function(l){return/[\-\+]/.test(l||"")}),a=new Set(n?Qs(t):[]);for(let l=0,u=da(e),c=u.length;l<c;l++){let f=u[l];f[0]=="+"?a.add(f.slice(1)):f[0]=="-"?a.delete(f.slice(1)):a.add(f)}return Array.from(a)}if(t==null)return Qs(e);for(let n=0,a=Object.keys(e),l=a.length,u,c;n<l;n++)u=a[n],c=e[u],t||(t={}),t.hasOwnProperty(u)?t[u]=Ir(t[u],c,u,...r):t[u]=Qs(c);return t}function pa(t,e){return t=Ir(Qs(Xk),t),t}function Fd(t,e={},r=null){typeof r=="string"&&(r=r.split(","));let i=Symbol.for(r.join("+")),s=Object.assign({presets:[]},e),o=t.options;for(let n=0,a=da(r),l=a.length;n<l;n++){let u=a[n],c=o[u]||{};s.presets.push(u);let f=c,h=[c];for(;f.extends&&h.length<10;)h.unshift(f=o[f.extends]);for(let d=0,p=da(h),g=p.length;d<g;d++){let b=p[d];Object.assign(s,b)}}return s}var MM=$(ma());var Jk=Symbol.for("#mtime"),Qk=Symbol.for("#path");var Gd={assert:!0,async_hooks:!0,buffer:!0,child_process:!0,cluster:!0,console:!0,constants:!0,crypto:!0,dgram:!0,dns:!0,domain:!0,events:!0,fs:!0,"fs/promises":!0,http:!0,http2:!0,https:!0,inspector:!0,module:!0,net:!0,os:!0,path:!0,perf_hooks:!0,process:!0,punycode:!0,querystring:!0,readline:!0,repl:!0,stream:!0,string_decoder:!0,sys:!0,timers:!0,tls:!0,trace_events:!0,tty:!0,url:!0,util:!0,v8:!0,vm:!0,worker_threads:!0,zlib:!0};function zd(t){let e=process.env.IMBA_CACHEDIR||Tr.default.resolve(__dirname,"..",".imba-cache");return tr.default.existsSync(e)||(console.log("cache dir does not exist - create",e),tr.default.mkdirSync(e)),e}function ga(t,e={}){return{text:t.message,location:Object.assign({line:t.range.start.line+1,column:t.range.start.character,length:t.range.end.offset-t.range.start.offset,lineText:t.lineText},e)}}function Ud(t,e){try{let r=Tr.default.resolve(t||".",e||"imbaconfig.json"),i=JSON.parse(tr.default.readFileSync(r,"utf8"));return i[Jk]=tr.default.statSync(r).mtimeMs||0,i[Qk]=r,pa(i)}catch{return pa({})}}function Wd(t,e,r=[]){return Ir(t,e,...r)}function en(t,e=".",r=null){let i=Tr.default.resolve(e,t),s=Tr.default.dirname(i);if(tr.default.existsSync(i))return i;let o=Tr.default.dirname(s);return o!=s?en(t,o):null}function Zk(t,e,r){let i;if(i=en(t,e)){let s={path:i,body:tr.default.readFileSync(i,"utf-8")};return r(s)}return null}function ba(t){return Zk("package.json",t,function(e){return JSON.parse(e.body)})}function Vd(t="bcdefghijklmnopqrstuvwxyz"){let e={};for(let r=t.length,i=0,s=r-i;s>0?i<r:i>r;s>0?i++:i--)e[i.toString(t.length)]=t[i];return function(r){return r.toString(t.length).split("").map(function(i){return e[i]}).join("")}}function Rr(t){return(0,Bd.createHash)("sha1").update(t).digest("base64").replace(/[\=\+\/]/g,"").slice(0,8).toUpperCase()}function Kd(t){return t.replace(/\\/g,"/")}var fu=$(oa());var ou=$(require("path")),K0=$(require("fs")),or=$(Jd());function nu(t){let e;return t?(e=t.toIterable)?e.call(t):t:[]}var{isPackageExists:VI}=dp(),KI=43,Nt=ou.default.join(__dirname,"./vite.config.server.mjs"),Y0=ou.default.join(__dirname,"./test-setup.js");function Yr(t,e,r={}){let{ext:i}=r,s=t;i?.length&&(s+="."+i),Array.isArray(e)||(e=[e]);for(let o=0,n=nu(e),a=n.length;o<a;o++){let l=n[o];if(i&&(l=""+t+"."+l),K0.default.existsSync(l))return l}return s}async function au(t,e){let r=[];for(let a=0,l=nu(t),u=l.length;a<u;a++){let c=l[a];VI(c,{paths:[e]})||r.push(c)}if(r.length==0)return!0;let i=!process.env.CI&&process.stdout.isTTY,s=r.join(", ");if(process.stderr.write(or.default.red(""+or.default.inverse(or.default.red(" MISSING DEP "))+" Can not find dependencies '"+s+`'

`)),!i)return!1;let o=await Promise.resolve().then(()=>$(Rl())),{install:n}=await o.prompt({type:"confirm",name:"install",message:or.default.reset("Do you want to install "+or.default.green(s)+"?")});if(n){for(let a=0,l=nu(r),u=l.length;a<u;a++){let c=l[a];await(await Promise.resolve().then(()=>(V0(),W0))).installPackage(c,{dev:!0})}return process.stderr.write(or.default.yellow(`
Packages `+s+` installed, re-run the command to start.
`)),process.exit(KI),!0}return!1}function lu(t){let e;return t?(e=t.toIterable)?e.call(t):t:[]}var bt=Symbol.for("#__init__"),X0=Symbol.for("#__initor__"),J0=Symbol.for("#__inited__"),uu=Symbol.for("#next"),YI=Symbol.for("#prev"),XI=Symbol.for("#listening"),cu=Symbol.for("#hash"),Q0=Symbol(),du=class{[bt](e=null){var r;this.runner=e&&(r=e.runner)!==void 0?r:null,this.fork=e&&(r=e.fork)!==void 0?r:null,this.args=e&&(r=e.args)!==void 0?r:{},this.mode=e&&(r=e.mode)!==void 0?r:"cluster",this.name=e&&(r=e.name)!==void 0?r:"worker",this.restarts=e&&(r=e.restarts)!==void 0?r:0}get manifest(){return this.runner.manifest||{}}get bundle(){return this.runner.bundle}constructor(e,r){this[bt](r),this.options=r,this.runner=e,this.atime=Date.now(),this.state="closed",this.log=new Wt({prefix:["%bold%dim",this.name,": "]}),this.current=null,this.restarts=0}start(){var e=this;if(this.current&&this.current[uu])return;let r=this.runner.o,i=this.bundle.result.main,s={windowsHide:!0,args:r.extras,exec:i,execArgv:[r.inspect&&"--inspect",(r.sourcemap||this.bundle.sourcemappedΦ)&&"--enable-source-maps"].filter(function(l){return l})},o={IMBA_RESTARTS:this.restarts,IMBA_SERVE:!0,IMBA_PATH:r.imbaPath,IMBA_OUTDIR:r.outdir,IMBA_WORKER_NR:this.options.number,IMBA_CLUSTER:!this.bundle.forkΦ,IMBA_LOGLEVEL:process.env.IMBA_LOGLEVEL||"warning",PORT:process.env.PORT||r.port,VITE:r.vite};for(let l=0,u=Object.keys(o),c=u.length,f,h;l<c;l++)f=u[l],h=o[f],h===!1&&(o[f]="");if(this.bundle.forkΦ&&!r.vite)return s.env=Object.assign({},process.env,o),this.fork=Z0.default.fork(nt.default.resolve(i),s.args,s),this.fork.on("exit",function(l){return process.exit(l)}),this.fork;hu.default.setupMaster(s);let n=hu.default.fork(o);n.nr=this.restarts++;let a=n[YI]=this.current;return a&&(a[uu]=n,a?.send?.(["emit","reloading"])),n.on("exit",function(l,u){if(u)return e.log.info("killed by signal: %d",u);if(l!=0)return e.log.error("exited with error code: %red",l);if(!n[uu])return e.log.info("exited")}),n.on("listening",function(l){return r[XI]=l,r.vite||e.log.success("listening on %address",l),a?.send?.(["emit","reloaded"])}),n.on("error",function(){return e.log.info("%red","errorerd")}),n.on("message",async function(l,u){if(l.type=="fetch"){let c=await e.runner.fetchModule(l.id);n?.send?.(JSON.stringify({type:"fetched",id:l.id,md:c}))}else if(l.type=="resolve"){let c=l.payload.id,f=l.payload.importer,h=JSON.stringify({type:"resolved",output:await e.runner.resolveId(c,f),input:{id:c,importer:f}});n.send(h)}if(l=="exit"&&(console.log("exit"),process.exit()),l=="reload")return console.log("RELOAD MESSAGE"),e.reload()}),e.current=n}broadcast(e){return this.current?.send?.(e)}reload(){return this.start(),this}},Jr=class extends $e{static[bt](){return this.prototype[X0]=Q0,this}[bt](e=null){var r;super[bt]&&super[bt](...arguments),this.viteNodeServer=e?e.viteNodeServer:void 0,this.viteServer=e?e.viteServer:void 0,this.fileToRun=e?e.fileToRun:void 0,this._rerunTimer=e?e._rerunTimer:void 0,this.restartsCount=e&&(r=e.restartsCount)!==void 0?r:0,this.watcherΞdebounce=e&&(r=e.watcherΞdebounce)!==void 0?r:100}constructor(e,r){super(),super[bt]||this[bt](),this.o=r,this.bundle=e,this.workers=new Set,this.fileToRun=nt.default.resolve(e.cwd,this.o.name),this[X0]===Q0&&this[J0]&&this[J0]()}fetchModule(e){return this.viteNodeServer.fetchModule(e)}resolveId(e){return this.viteNodeServer.resolveId(e)}handleFileChanged(e){var r=this;if(e==this.fileToRun)return!0;let i=this.viteServer.moduleGraph.getModuleById(e);if(!i||this.o.skipReloadingFor&&fu.default.isMatch(e,this.o.skipReloadingFor))return!1;let s=!1;return i.importers.forEach(function(o){if(!o.id)return;if(r.handleFileChanged(o.id))return s=!0}),s}scheduleΞreload(){var e=this;let r=this.restartsCount;if(clearTimeout(this._rerunTimer),this.restartsCount===r)return e._rerunTimer=setTimeout(function(){if(e.restartsCount===r)return e.reload()},e.watcherΞdebounce)}async initVite(){var e=this;let r=new RegExp(tv.builtinModules.join("|"),"gi"),i=await import("vite"),s=await import("vite-node/server"),o=Yr(Nt,["vite.config.server.ts","vite.config.server.js"]);this.viteServer=await i.createServer({configFile:o}),this.viteNodeServer=new s.ViteNodeServer(this.viteServer,{transformMode:{ssr:[r]}}),e.viteServer.watcher.on("change",function(f){f=Kd(f);let h=e.handleFileChanged(f),d=nt.default.relative(e.viteServer.config.root,f),p=e.o.skipReloadingFor&&fu.default.isMatch(d,e.o.skipReloadingFor);if(h&&!p)return e.scheduleΞreload()}),e.fileToRun=nt.default.resolve(e.bundle.cwd,e.o.name);let n=Xr.default.readFileSync(nt.default.resolve(__dirname,"./worker_template.js"),"utf-8").replace("__ROOT__",e.viteServer.config.root).replace("__BASE__",e.viteServer.config.base).replace("__FILE__",e.fileToRun),a=Rr(n),l=nt.default.join(e.o.tmpdir,"bundle."+a+".mjs"),u=(0,ev.pathToFileURL)(nt.default.join(e.o.tmpdir,"vite-node-client.mjs")),c=nt.default.resolve(__dirname,nt.default.join("..","vendor","vite-node-client.mjs"));return Xr.default.existsSync(u)||Xr.default.writeFileSync(u,Xr.default.readFileSync(c,"utf-8")),n=n.replace("__VITE_NODE_CLIENT__",u.href),Xr.default.writeFileSync(l,n),await e.viteServer.pluginContainer.buildStart({}),e.bundle={forkΦ:!1,result:{main:l,hash:a}}}start(){var e=this;let r=this.o.instances||1,i=1,s=this.o.name||"script";for(;i<=r;){let o={number:i,name:r>1?""+s+" "+i+"/"+r:s};this.workers.add(new du(this,o)),i++}for(let o of lu(this.workers))o.start();return this.o.watch&&(this[cu]=this.bundle.result.hash,e.bundle?.on?.("built",function(o){var n;return e[cu]!=(n=o.hash)&&(e[cu]=n,!0)?e.reload():e.broadcast(["emit","rebuild",o.manifest])})),e}reload(){this.log.info("reloading %path",this.o.name);for(let e of lu(this.workers))e.reload();return this}broadcast(...e){for(let r of lu(this.workers))r.broadcast(...e);return this}};Jr[bt]();var sw=$(require("esbuild"));var oT=require("path"),aT=kv(),lT=oT.resolve(__dirname,"..","workers.imba.js"),Ui=null,ku=0;function uT(){return ku+=1,Ui||(Ui=aT.pool(lT,{maxWorkers:2}))}function cT(){if(ku-=1,ku<1&&Ui)return Ui.terminate()}function Ev(){return uT(),{stop:cT,exec:function(...t){return Ui.exec(...t)}}}function ge(){this.pseudos={},this.attrEqualityMods={},this.ruleNestingOperators={},this.substitutesEnabled=!1}ge.prototype.registerSelectorPseudos=function(t){for(var e=0,r=arguments.length;e<r;e++)t=arguments[e],this.pseudos[t]="selector";return this};ge.prototype.unregisterSelectorPseudos=function(t){for(var e=0,r=arguments.length;e<r;e++)t=arguments[e],delete this.pseudos[t];return this};ge.prototype.registerNumericPseudos=function(t){for(var e=0,r=arguments.length;e<r;e++)t=arguments[e],this.pseudos[t]="numeric";return this};ge.prototype.unregisterNumericPseudos=function(t){for(var e=0,r=arguments.length;e<r;e++)t=arguments[e],delete this.pseudos[t];return this};ge.prototype.registerNestingOperators=function(t){for(var e=0,r=arguments.length;e<r;e++)t=arguments[e],this.ruleNestingOperators[t]=!0;return this};ge.prototype.unregisterNestingOperators=function(t){for(var e=0,r=arguments.length;e<r;e++)t=arguments[e],delete this.ruleNestingOperators[t];return this};ge.prototype.registerAttrEqualityMods=function(t){for(var e=0,r=arguments.length;e<r;e++)t=arguments[e],this.attrEqualityMods[t]=!0;return this};ge.prototype.unregisterAttrEqualityMods=function(t){for(var e=0,r=arguments.length;e<r;e++)t=arguments[e],delete this.attrEqualityMods[t];return this};ge.prototype.enableSubstitutes=function(){return this.substitutesEnabled=!0,this};ge.prototype.disableSubstitutes=function(){return this.substitutesEnabled=!1,this};function hT(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"||t==="-"||t==="_"}function fT(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||t==="-"||t==="_"}function Dn(t){return t>="a"&&t<="f"||t>="A"&&t<="F"||t>="0"&&t<="9"}var Cv={"!":!0,'"':!0,"#":!0,$:!0,"%":!0,"&":!0,"'":!0,"(":!0,")":!0,"*":!0,"+":!0,",":!0,".":!0,"/":!0,";":!0,"<":!0,"=":!0,">":!0,"?":!0,"@":!0,"[":!0,"\\":!0,"]":!0,"^":!0,"`":!0,"{":!0,"|":!0,"}":!0,"~":!0},dT={"\n":"\\n","\r":"\\r","	":"\\t","\f":"\\f","\v":"\\v"},Ov={n:`
`,r:"\r",t:"	",f:"\f","\\":"\\","'":"'"},Av={n:`
`,r:"\r",t:"	",f:"\f","\\":"\\",'"':'"'};function pT(t,e,r,i,s,o){var n,a,l,u,c;return u=t.length,n=null,l=function(f,h){var d,p,g;for(g="",e++,n=t.charAt(e);e<u;){if(n===f)return e++,g;if(n==="\\")if(e++,n=t.charAt(e),n===f)g+=f;else if(d=h[n])g+=d;else if(Dn(n)){for(p=n,e++,n=t.charAt(e);Dn(n);)p+=n,e++,n=t.charAt(e);n===" "&&(e++,n=t.charAt(e)),g+=String.fromCharCode(parseInt(p,16));continue}else g+=n;else g+=n;e++,n=t.charAt(e)}return g},a=function(f){var h="";for(n=t.charAt(e);e<u;){if(fT(n)||f&&f[n])h+=n;else if(n==="\\"){if(e++,e>=u)throw Error("Expected symbol but end of file reached.");if(n=t.charAt(e),Cv[n])h+=n;else if(Dn(n)){var d=n;for(e++,n=t.charAt(e);Dn(n);)d+=n,e++,n=t.charAt(e);n===" "&&(e++,n=t.charAt(e)),h+=String.fromCharCode(parseInt(d,16));continue}else h+=n}else return h;e++,n=t.charAt(e)}return h},c=function(){n=t.charAt(e);for(var f=!1;n===" "||n==="	"||n===`
`||n==="\r"||n==="\f";)f=!0,e++,n=t.charAt(e);return f},this.parse=function(){var f=this.parseSelector();if(e<u)throw Error('Rule expected but "'+t.charAt(e)+'" found.');return f},this.parseSelector=function(){var f,h=f=this.parseSingleSelector();for(n=t.charAt(e);n===",";){if(e++,c(),f.type!=="selectors"&&(f={type:"selectors",selectors:[h]}),h=this.parseSingleSelector(),!h)throw Error('Rule expected after ",".');f.selectors.push(h)}return f},this.parseSingleSelector=function(){c();let f=t.slice(e,e+4).match(/^(\>{1,3}|\+|~)/);var h={type:"ruleSet"},d=f?{type:"rule",isScope:!0}:this.parseRule();if(!d)return null;for(var p=h;d&&(d.type="rule",p.rule=d,p=d,c(),n=t.charAt(e),!(e>=u||n===","||n===")"));)if(s[n]){var g=n;if(g==">"&&t.charAt(e+1)==">"&&t.charAt(e+2)==">"?(g=">>>",e=e+3):g==">"&&t.charAt(e+1)==">"?(g=">>",e=e+2):e++,c(),d=this.parseRule(),!d)if(g==">"||g==">>>"||g==">>")d={tagName:"*"};else throw Error('Rule expected after "'+g+'".');d.nestingOperator=g}else d=this.parseRule(),d&&(d.nestingOperator=null);return h},this.parseRule=function(){for(var f=null;e<u;)if(n=t.charAt(e),n==="&")e++,(f=f||{}).isScope=!0;else if(n==="*")e++,(f=f||{}).tagName="*";else if(hT(n)||n==="\\")(f=f||{}).tagName=a();else if(n==="$"||n==="%")e++,f=f||{},(f.classNames=f.classNames||[]).push(n+a());else if(n===".")e++,f=f||{},(f.classNames=f.classNames||[]).push(a());else if(n==="#")e++,(f=f||{}).id=a();else if(n==="["){e++,c();var h={name:a()};if(c(),n==="]")e++;else{var d="";if(i[n]&&(d=n,e++,n=t.charAt(e)),e>=u)throw Error('Expected "=" but end of file reached.');if(n!=="=")throw Error('Expected "=" but "'+n+'" found.');h.operator=d+"=",e++,c();var p="";if(h.valueType="string",n==='"')p=l('"',Av);else if(n==="'")p=l("'",Ov);else if(o&&n==="$")e++,p=a(),h.valueType="substitute";else{for(;e<u&&n!=="]";)p+=n,e++,n=t.charAt(e);p=p.trim()}if(c(),e>=u)throw Error('Expected "]" but end of file reached.');if(n!=="]")throw Error('Expected "]" but "'+n+'" found.');e++,h.value=p}f=f||{},(f.attrs=f.attrs||[]).push(h)}else if(n===":"||n==="@"){let v=n==="@";e++;for(var g="";t.charAt(e)==".";)g+=".",e++;g+=a({"~":!0,"+":!0,".":!1,">":!0,"<":!0,"!":!0});var b={special:v,name:g};if(n==="("){e++;var m="";if(c(),r[g]==="selector")b.valueType="selector",m=this.parseSelector();else{if(b.valueType=r[g]||"string",n==='"')m=l('"',Av);else if(n==="'")m=l("'",Ov);else if(o&&n==="$")e++,m=a(),b.valueType="substitute";else{for(;e<u&&n!==")";)m+=n,e++,n=t.charAt(e);m=m.trim()}c()}if(e>=u)throw Error('Expected ")" but end of file reached.');if(n!==")")throw Error('Expected ")" but "'+n+'" found.');e++,b.value=m}f=f||{},(f.pseudos=f.pseudos||[]).push(b)}else break;return f},this}ge.prototype.parse=function(t){var e=new pT(t,0,this.pseudos,this.attrEqualityMods,this.ruleNestingOperators,this.substitutesEnabled);return e.parse()};ge.prototype.escapeIdentifier=function(t){for(var e="",r=0,i=t.length;r<i;){var s=t.charAt(r);if(Cv[s])e+="\\"+s;else if(s==="_"||s==="-"||s>="A"&&s<="Z"||s>="a"&&s<="z"||r!==0&&s>="0"&&s<="9")e+=s;else{var o=s.charCodeAt(0);if((o&63488)===55296){var n=t.charCodeAt(r++);if((o&64512)!==55296||(n&64512)!==56320)throw Error("UCS-2(decode): illegal sequence");o=((o&1023)<<10)+(n&1023)+65536}e+="\\"+o.toString(16)+" "}r++}return e};ge.prototype.escapeStr=function(t){for(var e="",r=0,i=t.length,s,o;r<i;)s=t.charAt(r),s==='"'?s='\\"':s==="\\"?s="\\\\":(o=dT[s])&&(s=o),e+=s,r++;return'"'+e+'"'};ge.prototype.render=function(t){return this._renderEntity(t).trim()};ge.prototype._renderEntity=function(t){var e,r,i;switch(i="",t.type){case"ruleSet":for(e=t.rule,r=[];e;)e.nestingOperator&&r.push(e.nestingOperator),r.push(this._renderEntity(e)),e=e.rule;i=r.join(" ");break;case"selectors":i=t.selectors.map(this._renderEntity,this).join(", ");break;case"rule":let s=t.s1,o=t.s2;if(t.tagName&&(t.tagName==="*"?i="*":i=this.escapeIdentifier(t.tagName)),t.id&&(i+="#"+this.escapeIdentifier(t.id)),t.classNames){let n=null;if(i+=t.classNames.map(function(a){if(a[0]=="!")return":not(."+this.escapeIdentifier(a.slice(1))+")";{let l=this.escapeIdentifier(a);return o&&(!n||n.length>l.length)&&(n=l),"."+l}},this).join(""),o>0&&n&&n.length<9)for(;--o>=0;)i+="."+n}if(t.pri>0,s>0)for(;--s>=0;)i+=":not(#_)";if(o>0)for(;--s>=0;)i+=":not(._0)";t.attrs&&(i+=t.attrs.map(function(n){return n.operator?n.valueType==="substitute"?"["+this.escapeIdentifier(n.name)+n.operator+"$"+n.value+"]":"["+this.escapeIdentifier(n.name)+n.operator+this.escapeStr(n.value)+"]":"["+this.escapeIdentifier(n.name)+"]"},this).join("")),t.pseudos&&(i+=t.pseudos.map(function(n){let a=":"+this.escapeIdentifier(n.name),l="";return n.neg&&(a=":not("+a,l=")"),n.valueType?n.valueType==="selector"?a+"("+this._renderEntity(n.value)+")"+l:n.valueType==="substitute"?a+"($"+n.value+")"+l:n.valueType==="numeric"||n.valueType==="raw"||n.valueType==="string"?a+"("+n.value+")"+l:a+"("+this.escapeIdentifier(n.value)+")"+l:n.type=="el"?":"+a:a+l},this).join(""));break;default:throw Error('Unknown entity type: "'+t.type(+'".'))}return i};var $n=new ge;$n.registerSelectorPseudos("has","not","is","matches","any");$n.registerNumericPseudos("nth-child");$n.registerNestingOperators(">>>",">>",">","+","~");$n.registerAttrEqualityMods("^","$","*","~");var Ou={};Tc(Ou,{colors:()=>Eu,fonts:()=>Fn,modifiers:()=>Iv,named_colors:()=>Hn,variants:()=>gT});var Fn={sans:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',serif:'Georgia, Cambria, "Times New Roman", Times, serif',mono:'Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace'},Iv={odd:{name:"nth-child",valueType:"string",value:"odd"},even:{name:"nth-child",valueType:"string",value:"even"},first:{name:"first-child"},last:{name:"last-child"},only:{name:"only-child"},"not-first":{name:"not",valueType:"raw",value:":first-child"},"not-last":{name:"not",valueType:"raw",value:":last-child"},"first-child":{},"last-child":{},active:{},checked:{},default:{},defined:{},disabled:{},empty:{},enabled:{},"first-of-type":{},"first-page":{name:"first"},fullscreen:{},focus:{},focin:{name:"focus-within"},"focus-within":{},"focus-visible":{},hover:{},indeterminate:{},"in-range":{},invalid:{},is:{type:"selector"},lang:{},"last-of-type":{},left:{},link:{},not:{type:"selector"},"nth-child":{},"nth-last-child":{},"nth-last-of-type":{},"nth-of-type":{},"only-child":{},"only-of-type":{},optional:{},"out-of-range":{},"placeholder-shown":{},"read-only":{},"read-write":{},required:{},right:{},scope:{},root:{},target:{},"target-within":{},valid:{},visited:{},where:{},after:{type:"el"},"-webkit-scrollbar":{type:"el"},"-webkit-scrollbar-button":{type:"el"},"-webkit-scrollbar-track":{type:"el"},"-webkit-scrollbar-track-piece":{type:"el"},"-webkit-scrollbar-thumb":{type:"el"},"-webkit-scrollbar-corner":{type:"el"},"-webkit-resizer":{type:"el"},backdrop:{type:"el"},before:{type:"el"},cue:{type:"el"},"cue-region":{type:"el"},"first-letter":{type:"el"},"first-line":{type:"el"},marker:{type:"el"},placeholder:{type:"el"},selection:{type:"el"},inline:{pri:3},important:{pri:4},force:{pri:6},media:{type:"media"},print:{media:"print"},screen:{media:"screen"},speech:{media:"speech"},all:{media:"all"},xs:{media:"(min-width: 480px)",medianeg:"(max-width: 479px)"},sm:{media:"(min-width: 640px)",medianeg:"(max-width: 639px)"},md:{media:"(min-width: 768px)",medianeg:"(max-width: 767px)"},lg:{media:"(min-width: 1024px)",medianeg:"(max-width: 1023px)"},xl:{media:"(min-width: 1280px)",medianeg:"(max-width: 1279px)"},"2xl":{media:"(min-width: 1536px)"},"lt-xs":{media:"(max-width: 479px)"},"lt-sm":{media:"(max-width: 639px)"},"lt-md":{media:"(max-width: 767px)"},"lt-lg":{media:"(max-width: 1023px)"},"lt-xl":{media:"(max-width: 1279px)"},"lt-2xl":{media:"(max-width: 1535px)"},landscape:{media:"(orientation: landscape)",medianeg:"(orientation: portrait)"},portrait:{media:"(orientation: portrait)",medianeg:"(orientation: landscape)"},dark:{media:"(prefers-color-scheme: dark)",medianeg:"(prefers-color-scheme: light)"},light:{media:"(prefers-color-scheme: light)",medianeg:"(prefers-color-scheme: dark)"},mac:{ua:"mac"},ios:{ua:"ios"},win:{ua:"win"},android:{ua:"android"},linux:{ua:"linux"},ie:{ua:"ie"},chrome:{ua:"chrome"},safari:{ua:"safari"},firefox:{ua:"firefox"},opera:{ua:"opera"},blink:{ua:"blink"},webkit:{ua:"webkit"},enter:{flag:"_enter_"},leave:{flag:"_leave_"},touch:{flag:"_touch_"},suspended:{flag:"_suspended_"},move:{flag:"_move_"},hold:{flag:"_hold_"},ssr:{flag:"_ssr_"}},gT={radius:{full:"9999px",xxs:"1px",xs:"2px",sm:"3px",md:"4px",lg:"6px",xl:"8px",NUMBER:"2px"},sizing:{NUMBER:"0.25rem"},"letter-spacing":{NUMBER:"0.05em"},"font-size":{xxs:["10px",1.5],xs:["12px",1.5],"sm-":["13px",1.5],sm:["14px",1.5],"md-":["15px",1.5],md:["16px",1.5],lg:["18px",1.5],xl:["20px",1.5],"2xl":["24px",1.5],"3xl":["30px",1.5],"4xl":["36px",1.5],"5xl":["48px",1.5],"6xl":["64px",1.5],1:["10px",1.5],2:["12px",1.5],3:["13px",1.5],4:["14px",1.5],5:["15px",1.5],6:["16px",1.5],7:["17px",1.5],8:["18px",1.5],9:["19px",1.5],10:["20px",1.5],11:["24px",1.4],12:["30px",1.3],13:["36px",1.3],14:["48px",1.2],15:["64px",1.2],16:["96px",1.2]},"box-shadow":{xxs:"0 0 0 1px hsla(var(--bxs-xxs-color,0,0%,0%),var(--bxs-xxs-alpha,0.05))",xs:"0 1px 2px 0 hsla(var(--bxs-xs-color,0,0%,0%),var(--bxs-xs-alpha,0.05))",sm:"0 1px 3px 0 hsla(var(--bxs-sm-color,0,0%,0%),var(--bxs-sm-alpha,0.1)), 0 1px 2px 0 hsla(var(--bxs-sm-color,0,0%,0%),calc(var(--bxs-sm-alpha,0.1) * 0.6))",md:"0 4px 6px -1px hsla(var(--bxs-md-color,0,0%,0%), var(--bxs-md-alpha,0.1)), 0 2px 4px -1px hsla(var(--bxs-md-color,0,0%,0%),calc(var(--bxs-md-alpha,0.1) * 0.6))",lg:"0 10px 15px -3px hsla(var(--bxs-lg-color,0,0%,0%), var(--bxs-lg-alpha,0.1)), 0 4px 6px -2px hsla(var(--bxs-lg-color,0,0%,0%),calc(var(--bxs-lg-alpha,0.1) * 0.5))",xl:"0 20px 25px -5px hsla(var(--bxs-xl-color,0,0%,0%), var(--bxs-xl-alpha,0.1)), 0 10px 10px -5px hsla(var(--bxs-xl-color,0,0%,0%), calc(var(--bxs-xl-alpha,0.1) * 0.4))",xxl:"0 25px 50px -6px hsla(var(--bxs-xxl-color,0,0%,0%),var(--bxs-xxl-alpha,0.25))",inner:"inset 0 2px 4px 0 hsla(var(--bxs-inner-color,0,0%,0%),var(--bxs-inner-alpha,0.06))",outline:"0 0 0 3px hsla(var(--bxs-outline-color,207,73%,57%),var(--bxs-outline-alpha,0.5))",none:"none"},easings:{"sine-in":"cubic-bezier(0.47, 0, 0.745, 0.715)","sine-out":"cubic-bezier(0.39, 0.575, 0.565, 1)","sine-in-out":"cubic-bezier(0.445, 0.05, 0.55, 0.95)","quad-in":"cubic-bezier(0.55, 0.085, 0.68, 0.53)","quad-out":"cubic-bezier(0.25, 0.46, 0.45, 0.94)","quad-in-out":"cubic-bezier(0.455, 0.03, 0.515, 0.955)","cubic-in":"cubic-bezier(0.55, 0.055, 0.675, 0.19)","cubic-out":"cubic-bezier(0.215, 0.61, 0.355, 1)","cubic-in-out":"cubic-bezier(0.645, 0.045, 0.355, 1)","quart-in":"cubic-bezier(0.895, 0.03, 0.685, 0.22)","quart-out":"cubic-bezier(0.165, 0.84, 0.44, 1)","quart-in-out":"cubic-bezier(0.77, 0, 0.175, 1)","quint-in":"cubic-bezier(0.755, 0.05, 0.855, 0.06)","quint-out":"cubic-bezier(0.23, 1, 0.32, 1)","quint-in-out":"cubic-bezier(0.86, 0, 0.07, 1)","expo-in":"cubic-bezier(0.95, 0.05, 0.795, 0.035)","expo-out":"cubic-bezier(0.19, 1, 0.22, 1)","expo-in-out":"cubic-bezier(1, 0, 0, 1)","circ-in":"cubic-bezier(0.6, 0.04, 0.98, 0.335)","circ-out":"cubic-bezier(0.075, 0.82, 0.165, 1)","circ-in-out":"cubic-bezier(0.785, 0.135, 0.15, 0.86)","back-in":"cubic-bezier(0.6, -0.28, 0.735, 0.045)","back-out":"cubic-bezier(0.175, 0.885, 0.32, 1.275)","back-in-out":"cubic-bezier(0.68, -0.55, 0.265, 1.55)"}},Eu={rose:{0:"#fff1f2",1:"#ffe4e6",2:"#fecdd3",3:"#fda4af",4:"#fb7185",5:"#f43f5e",6:"#e11d48",7:"#be123c",8:"#9f1239",9:"#881337"},pink:{0:"#fdf2f8",1:"#fce7f3",2:"#fbcfe8",3:"#f9a8d4",4:"#f472b6",5:"#ec4899",6:"#db2777",7:"#be185d",8:"#9d174d",9:"#831843"},fuchsia:{0:"#fdf4ff",1:"#fae8ff",2:"#f5d0fe",3:"#f0abfc",4:"#e879f9",5:"#d946ef",6:"#c026d3",7:"#a21caf",8:"#86198f",9:"#701a75"},purple:{0:"#faf5ff",1:"#f3e8ff",2:"#e9d5ff",3:"#d8b4fe",4:"#c084fc",5:"#a855f7",6:"#9333ea",7:"#7e22ce",8:"#6b21a8",9:"#581c87"},violet:{0:"#f5f3ff",1:"#ede9fe",2:"#ddd6fe",3:"#c4b5fd",4:"#a78bfa",5:"#8b5cf6",6:"#7c3aed",7:"#6d28d9",8:"#5b21b6",9:"#4c1d95"},indigo:{0:"#eef2ff",1:"#e0e7ff",2:"#c7d2fe",3:"#a5b4fc",4:"#818cf8",5:"#6366f1",6:"#4f46e5",7:"#4338ca",8:"#3730a3",9:"#312e81"},blue:{0:"#eff6ff",1:"#dbeafe",2:"#bfdbfe",3:"#93c5fd",4:"#60a5fa",5:"#3b82f6",6:"#2563eb",7:"#1d4ed8",8:"#1e40af",9:"#1e3a8a"},sky:{0:"#f0f9ff",1:"#e0f2fe",2:"#bae6fd",3:"#7dd3fc",4:"#38bdf8",5:"#0ea5e9",6:"#0284c7",7:"#0369a1",8:"#075985",9:"#0c4a6e"},cyan:{0:"#ecfeff",1:"#cffafe",2:"#a5f3fc",3:"#67e8f9",4:"#22d3ee",5:"#06b6d4",6:"#0891b2",7:"#0e7490",8:"#155e75",9:"#164e63"},teal:{0:"#f0fdfa",1:"#ccfbf1",2:"#99f6e4",3:"#5eead4",4:"#2dd4bf",5:"#14b8a6",6:"#0d9488",7:"#0f766e",8:"#115e59",9:"#134e4a"},emerald:{0:"#ecfdf5",1:"#d1fae5",2:"#a7f3d0",3:"#6ee7b7",4:"#34d399",5:"#10b981",6:"#059669",7:"#047857",8:"#065f46",9:"#064e3b"},green:{0:"#f0fdf4",1:"#dcfce7",2:"#bbf7d0",3:"#86efac",4:"#4ade80",5:"#22c55e",6:"#16a34a",7:"#15803d",8:"#166534",9:"#14532d"},lime:{0:"#f7fee7",1:"#ecfccb",2:"#d9f99d",3:"#bef264",4:"#a3e635",5:"#84cc16",6:"#65a30d",7:"#4d7c0f",8:"#3f6212",9:"#365314"},yellow:{0:"#fefce8",1:"#fef9c3",2:"#fef08a",3:"#fde047",4:"#facc15",5:"#eab308",6:"#ca8a04",7:"#a16207",8:"#854d0e",9:"#713f12"},amber:{0:"#fffbeb",1:"#fef3c7",2:"#fde68a",3:"#fcd34d",4:"#fbbf24",5:"#f59e0b",6:"#d97706",7:"#b45309",8:"#92400e",9:"#78350f"},orange:{0:"#fff7ed",1:"#ffedd5",2:"#fed7aa",3:"#fdba74",4:"#fb923c",5:"#f97316",6:"#ea580c",7:"#c2410c",8:"#9a3412",9:"#7c2d12"},red:{0:"#fef2f2",1:"#fee2e2",2:"#fecaca",3:"#fca5a5",4:"#f87171",5:"#ef4444",6:"#dc2626",7:"#b91c1c",8:"#991b1b",9:"#7f1d1d"},warmer:{0:"#fafaf9",1:"#f5f5f4",2:"#e7e5e4",3:"#d6d3d1",4:"#a8a29e",5:"#78716c",6:"#57534e",7:"#44403c",8:"#292524",9:"#1c1917"},warm:{0:"#fafafa",1:"#f5f5f5",2:"#e5e5e5",3:"#d4d4d4",4:"#a3a3a3",5:"#737373",6:"#525252",7:"#404040",8:"#262626",9:"#171717"},gray:{0:"#fafafa",1:"#f4f4f5",2:"#e4e4e7",3:"#d4d4d8",4:"#a1a1aa",5:"#71717a",6:"#52525b",7:"#3f3f46",8:"#27272a",9:"#18181b"},cool:{0:"#f9fafb",1:"#f3f4f6",2:"#e5e7eb",3:"#d1d5db",4:"#9ca3af",5:"#6b7280",6:"#4b5563",7:"#374151",8:"#1f2937",9:"#111827"},cooler:{0:"#f8fafc",1:"#f1f5f9",2:"#e2e8f0",3:"#cbd5e1",4:"#94a3b8",5:"#64748b",6:"#475569",7:"#334155",8:"#1e293b",9:"#0f172a"}},Hn={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};var Au=$(Rv());function Oe(t){let e;return t?(e=t.toIterable)?e.call(t):t:[]}var Pv=null,Mv=new WeakMap,yT={vflex:function(t){return t.display="flex",t.fld="column"},hflex:function(t){return t.display="flex",t.fld="row"},box:function(t){return t.display="flex",t.ai="center",t.jc="center"},vbox:function(t){return t.display="flex",t.fld="column",t.ai="center",t.jc="center"},hbox:function(t){return t.display="flex",t.fld="row",t.ai="center",t.jc="center"},lbox:function(t){return t.display="flex",t.fld="row",t.ai="center",t.jc="flex-start"},rbox:function(t){return t.display="flex",t.fld="row",t.ai="center",t.jc="flex-end"},tbox:function(t){return t.display="flex",t.fld="column",t.ai="center",t.jc="flex-start"},bbox:function(t){return t.display="flex",t.fld="column",t.ai="center",t.jc="flex-end"},hgrid:function(t){return t.display="grid",t.gaf="column",t.gac="1fr"},vgrid:function(t){return t.display="grid",t.gaf="row"},cluster:function(t){return t.display="flex",t.fld="row",t.flw="wrap",t.ai="center",t["place-content"]="center"}},Bn={ease:"linear|ease|ease-in|ease-out|ease-in-out|step-start|step-end|stepsƒ|cubic-bezierƒ"};for(let t=0,e=Object.keys(Bn),r=e.length,i,s;t<r;t++){i=e[t],s=Bn[i];let o={};for(let n=0,a=Oe(s.split("|")),l=a.length;n<l;n++){let u=a[n];o[u]=1}Bn[i]=o}var Wi={c:"color",d:"display",pos:"position",p:"padding",pl:"padding-left",pr:"padding-right",pt:"padding-top",pb:"padding-bottom",px:"padding-x",py:"padding-y",m:"margin",ml:"margin-left",mr:"margin-right",mt:"margin-top",mb:"margin-bottom",mx:"margin-x",my:"margin-y",w:"width",h:"height",t:"top",b:"bottom",l:"left",r:"right",s:"size",ji:"justify-items",jc:"justify-content",js:"justify-self",j:["justify-content","justify-items"],ai:"align-items",ac:"align-content",as:"align-self",a:["align-content","align-items"],jai:"place-items",jac:"place-content",jas:"place-self",ja:"justify-align",fl:"flex",flf:"flex-flow",fld:"flex-direction",flb:"flex-basis",flg:"flex-grow",fls:"flex-shrink",flw:"flex-wrap",ff:"font-family",fs:"font-size",fw:"font-weight",ts:"text-shadow",txs:"text-shadow",td:"text-decoration",tdl:"text-decoration-line",tdc:"text-decoration-color",tds:"text-decoration-style",tdt:"text-decoration-thickness",tdsi:"text-decoration-skip-ink",te:"text-emphasis",tec:"text-emphasis-color",tes:"text-emphasis-style",tep:"text-emphasis-position",tet:"text-emphasis-thickness",tt:"text-transform",ta:"text-align",va:"vertical-align",ls:"letter-spacing",lh:"line-height",bd:"border",bdr:"border-right",bdl:"border-left",bdt:"border-top",bdb:"border-bottom",bdx:"border-x",bdy:"border-y",bs:"border-style",bsr:"border-right-style",bsl:"border-left-style",bst:"border-top-style",bsb:"border-bottom-style",bsx:"border-x-style",bsy:"border-y-style",bw:"border-width",bwr:"border-right-width",bwl:"border-left-width",bwt:"border-top-width",bwb:"border-bottom-width",bwx:"border-x-width",bwy:"border-y-width",bc:"border-color",bcr:"border-right-color",bcl:"border-left-color",bct:"border-top-color",bcb:"border-bottom-color",bcx:"border-x-color",bcy:"border-y-color",rd:"border-radius",rdtl:"border-top-left-radius",rdtr:"border-top-right-radius",rdbl:"border-bottom-left-radius",rdbr:"border-bottom-right-radius",rdt:"border-top-radius",rdb:"border-bottom-radius",rdl:"border-left-radius",rdr:"border-right-radius",bg:"background",bgp:"background-position",bgc:"background-color",bgr:"background-repeat",bgi:"background-image",bga:"background-attachment",bgs:"background-size",bgo:"background-origin",bgclip:"background-clip",g:"gap",rg:"row-gap",cg:"column-gap",gtr:"grid-template-rows",gtc:"grid-template-columns",gta:"grid-template-areas",gar:"grid-auto-rows",gac:"grid-auto-columns",gaf:"grid-auto-flow",gcg:"grid-column-gap",grg:"grid-row-gap",ga:"grid-area",gr:"grid-row",gc:"grid-column",gt:"grid-template",grs:"grid-row-start",gcs:"grid-column-start",gre:"grid-row-end",gce:"grid-column-end",shadow:"box-shadow",bxs:"box-shadow",of:"overflow",ofx:"overflow-x",ofy:"overflow-y",ofa:"overflow-anchor",prefix:"content@before",suffix:"content@after",x:"x",y:"y",z:"z",rotate:"rotate",scale:"scale","scale-x":"scale-x","scale-y":"scale-y","skew-x":"skew-x","skew-y":"skew-y",origin:"transform-origin",ws:"white-space",zi:"z-index",pe:"pointer-events",us:"user-select",o:"opacity",tween:"transition",e:"ease",ea:"ease",ead:"ease-all-duration",eaf:"ease-all-function",eaw:"ease-all-delay",eo:"ease-opacity",eod:"ease-opacity-duration",eof:"ease-opacity-function",eow:"ease-opacity-delay",ec:"ease-colors",ecd:"ease-colors-duration",ecf:"ease-colors-function",ecw:"ease-colors-delay",eb:"ease-box",ebd:"ease-box-duration",ebf:"ease-box-function",ebw:"ease-box-delay",et:"ease-transform",etd:"ease-transform-duration",etf:"ease-transform-function",etw:"ease-transform-delay",ol:"outline",olo:"outline-offset",olc:"outline-color",ols:"outline-style",olw:"outline-width"},jv={};for(let t=0,e=Object.keys(Wi),r=e.length,i,s;t<r;t++)i=e[t],s=Wi[i],typeof s=="string"&&(jv[s]=i);function qv(t){return!!(t._value&&t._value._type=="NUMBER"&&!t._unit)}var Pe=class{constructor(e,r,i,s,o=1){this.name=e,this.h=r,this.s=i,this.l=s,this.a=o}alpha(e=1){return new Pe(this.name,this.h,this.s,this.l,e)}clone(){return new Pe(this.name,this.h,this.s,this.l,this.a)}mix(e,r=.5,i=.5,s=.5){let o=this.h+(e.h-this.h)*r,n=this.s+(e.s-this.s)*i,a=this.l+(e.l-this.l)*s;return new Pe(this.name+e.name,o,n,a)}toString(e=this.a){return typeof e=="string"&&e[0]=="$"&&(e="var(--"+e.slice(1)+",100%)"),"hsla("+this.h.toFixed(2)+","+this.s.toFixed(2)+"%,"+this.l.toFixed(2)+"%,"+e+")"}toVar(e=2){return""+Math.round(this.h)+","+Math.round(this.s)+"%,"+Math.round(this.l)+"%"}c(){return this.toString()}},Zr=class extends Pe{alpha(e=1){return new Zr(this.name,this.h,this.s,this.l,e)}clone(){return new Zr(this.name,this.h,this.s,this.l,this.a)}toString(e=this.a){return typeof e=="string"&&e[0]=="$"&&(e="var(--"+e.slice(1)+",100%)"),"hsla(var(--"+this.name+"),"+e+")"}toVar(e=2){return"var(--"+this.name+")"}},Dt=class{static parse(e){let r=String(e).match(/^(\-?[\d\.]+)(\w+|%)?$/);return r?new this(parseFloat(r[1]),r[2]):null}constructor(e,r){this.number=e,this.unit=r}valueOf(){return this.number}toString(){return this.number+(this.unit||"")}clone(e=this.number,r=this.unit){return new Dt(e,r)}rounded(){return this.clone(Math.round(this.number))}c(){return this.toString()}get _unit(){return this.unit}get _number(){return this.number}},ur=class{constructor(e,r){this.name=e,this.fallback=r}c(){return this.fallback?"var(--"+this.name+","+(this.fallback.c?this.fallback.c():String(this.fallback))+")":"var(--"+this.name+")"}};var Nv={current:{string:"currentColor",c:function(){return"currentColor"}},transparent:new Pe("transparent",0,0,100,"0%"),clear:new Pe("transparent",100,100,100,"0%"),black:new Pe("black",0,0,0,"100%"),white:new Pe("white",0,0,100,"100%")};function Lv(t){let e;if(Hn[t]&&(t=Hn[t]),e=t.match(/hsl\((\d+), *(\d+\%), *(\d+\%?)/)){let r=parseInt(e[1]),i=parseInt(e[2]),s=parseInt(e[3]);return[r,i,s]}else if(t[0]=="#")return Au.conv.rgb.hsl(Au.conv.hex.rgb(t))}function Dv(t,e){for(let r=0,i=Object.keys(e),s=i.length,o,n;r<s;r++){if(o=i[r],n=e[o],typeof n=="string"){t[o]=n;continue}for(let a=0,l=Object.keys(n),u=l.length,c,f;a<u;a++){c=l[a],f=n[c];let h=o+c;if(t[f])t[h]=t[f];else{let[d,p,g]=Lv(f),b=t[h]=new Pe(h,d,p,g,"100%")}}}return t}Dv(Nv,Eu);var vT="cm mm Q in pc pt px em ex ch rem vw vh vmin vmax % s ms fr deg rad grad turn Hz kHz".split(" "),Gn=class{static instance(){return Pv||(Pv=new this)}static propAbbr(e){return jv[e]||e}static wrap(e){if(!e)return this.instance();let r=Mv.get(e);return r||Mv.set(e,r=new this(e)),r}constructor(e={}){this.options=Ou,this.palette=Object.assign({},Nv),e.theme&&(e=e.theme),e&&e.colors&&Dv(this.palette,e.colors)}expandProperty(e){return Wi[e]||void 0}expandValue(e,r){if(e==null&&(e=r.default),r.hasOwnProperty(e)&&(e=r[e]),typeof e=="number"&&r.NUMBER){let[i,s,o]=r.NUMBER.match(/^(\-?[\d\.]+)(\w+|%)?$/);return e*parseFloat(s)+o}return e}padding_x([e,r=e]){return{"padding-left":e,"padding-right":r}}padding_y([e,r=e]){return{"padding-top":e,"padding-bottom":r}}margin_x([e,r=e]){return{"margin-left":e,"margin-right":r}}margin_y([e,r=e]){return{"margin-top":e,"margin-bottom":r}}ease(e){return this.$ease(e,"a")}ease_opacity(e){return this.$ease(e,"o")}ease_box(e){return this.$ease(e,"b")}ease_transform(e){return this.$ease(e,"t")}ease_colors(e){return this.$ease(e,"c")}$ease(e,r="",i=null){e=e.slice(0);let s={__ease__:r},o=/^[\-\+]?(\d*\.)?(\d+)(\w+)?$/;if(String(e[0]).match(o)&&(s["--e_"+r+"d"]=e[0],e.shift()),e[0]&&!String(e[0]).match(o)){let n=this.$varFallback("ease",[e[0]]);s["--e_"+r+"f"]=n,e.shift()}return String(e[0]).match(o)&&(s["--e_"+r+"w"]=e[0],e.shift()),s}inset([e,r=e,i=e,s=r]){return{position:"absolute",top:e,right:r,bottom:i,left:s}}size([e,r=e]){return{width:e,height:r}}grid(e){let r;if(r=this.$varFallback("grid",e))return r}animation(...e){let r={normal:1,reverse:1,alternate:1,"alternate-reverse":1,infinite:2,none:3,forwards:3,backwards:3,both:3,running:4,paused:4},i={};for(let s=0,o=Oe(e),n=o.length;s<n;s++){let a=o[s],l=null,u=null;for(let c=0,f=Oe(a),h=f.length;c<h;c++){let d=f[c],p=String(d),g=r[p];Bn.ease[p]&&!u?u=!0:g?(i[g]&&(l=[c,p]),i[g]=!0):p.match(/^[^\d\.]/)&&p.indexOf("(")==-1&&(l?u=[c,p]:l=[c,p])}if(l&&(a[l[0]]=new ur("animation-"+l[1],l[1])),u instanceof Array){let c=this.options.variants.easings[u[1]];a[u[0]]=new ur("ease-"+u[1],c)}}return{animation:e}}animation_timing_function(...e){for(let r=0,i=Oe(e),s=i.length;r<s;r++){let o=i[r],n=this.$varFallback("ease",o);n&&(e[r]=n)}return e}animation_name(...e){let r;for(let i=0,s=Oe(e),o=s.length;i<o;i++){let n=s[i],a=this.$varFallback("animation",n);a&&(e[i]=a)}return e}display(e){let r={display:e};for(let i=0,s=Oe(e),o=s.length,n;i<o;i++){let a=s[i];(n=yT[String(a)])&&n.call(this,r,a,e)}return r}position(e){let r={position:e},i=String(e[0]);return i=="abs"?r.position="absolute":i=="rel"&&(r.position="relative"),r}width([...e]){let r={};for(let i=0,s=Oe(e),o=s.length;i<o;i++){let n=s[i],a=n._options||{},l=n._unit;l=="c"||l=="col"||l=="cols"?r["grid-column-end"]="span "+n._number:a.op&&String(a.op)==">"?r["min-width"]=n:a.op&&String(a.op)=="<"?r["max-width"]=n:r.width=n}return r}height([...e]){let r={};for(let i=0,s=Oe(e),o=s.length;i<o;i++){let n=s[i],a=n._options||{},l=n._unit;l=="r"||l=="row"||l=="rows"?r["grid-row-end"]="span "+n._number:a.op&&String(a.op)==">"?r["min-height"]=n:a.op&&String(a.op)=="<"?r["max-height"]=n:r.height=n}return r}transition(...e){let r={},i={},s=["name | duration","name | duration | delay","name | duration | ease","name | duration | ease | delay"],o={styles:["background-color","border-color","color","fill","stroke","opacity","box-shadow","transform"],sizes:["width","height","left","top","right","bottom","margin","padding"],colors:["background-color","border-color","color","fill","stroke"]},n=0;for(;n<e.length;){let a=e[n],l=String(a[0]);l.match(/^[\-\+]?\d?(\.?\d+)(s|ms)?$/)&&a.unshift(l="styles");let u=a[2],c=o[l];if(c&&e.length==0)a[0]="none",Object.assign(i,{"transition-property":c.join(",")});else if(c&&e.length>1){let f=c.map(function(h){return[h].concat(a.slice(1))});e.splice(n,1,...f);continue}n++}return Object.assign(r,{"--e_rest":e},i),r}font(e,...r){for(let i=0,s=Oe(e),o=s.length;i<o;i++){let n=s[i]}}font_family(e){let r;if(r=this.$varFallback("font",e))return r}text_shadow(...e){for(let r=0,i=Oe(e),s=i.length,o;r<s;r++){let n=i[r];(o=this.$varFallback("text-shadow",n))&&(e[r]=o)}return e}box_shadow(...e){let r={"box-shadow":e};for(let i=0,s=Oe(e),o=s.length;i<o;i++){let n=s[i],a=!1;for(let l=0,u=Oe(n),c=u.length;l<c;l++){let f=u[l];if(l==0&&n.length<3){let h=String(f);h.match(/^[\w\-]+$/)&&(a=h,n[l]=new ur("box-shadow-"+h,f))}l==1&&a&&(r["--bxs-"+a+"-color"]="/*##*/"+f,f.param&&(r["--bxs-"+a+"-alpha"]=f.param.toAlpha()),f.set({parameterize:!0}),n[l]="")}}return r}grid_template(e){for(let r=0,i=Oe(e),s=i.length;r<s;r++){let o=i[r];qv(o)&&(o._resolvedValue="repeat("+o._value+",1fr)")}}grid_template_columns(e){return this.grid_template(e)}grid_template_rows(e){return this.grid_template(e)}size([e,r=e]){return{width:e,height:r}}font_size([e]){let r=this.options.variants["font-size"],i=String(e),s=e,o,n={};if(r[i]&&([s,o]=r[i],s=Dt.parse(s),o=Dt.parse(o||"")),e.param&&e.param&&(o=e.param),n["font-size"]=s,o){let a=o._unit,l=o._number;if(n.lh=o,a=="fs")n.lh=new Dt(l);else if(a)n.lh=o;else if(l==0)n.lh="inherit";else if(l&&s._unit=="px"){let u=Math.round(s._number*l);u%2==1&&u++,n.lh=new Dt(u,"px")}}return n}line_height([e]){let r=e;return e._number&&!e._unit&&(r=e.clone(e._number,"em")),{"line-height":e,"--u_lh":r}}text_decoration(e){for(let r=0,i=Oe(e),s=i.length;r<s;r++){let o=i[r],n=String(o);n=="u"?o._resolvedValue="underline":n=="s"&&(o._resolvedValue="line-through")}return[e]}border([...e]){return this.$border(e,"")}$border(e,r=""){var i;let s={__border__:!0},o=e.length;if(o==3)return s["border"+r]=[e],s;if(this.isNumeric(e[0])){if(o==2&&this.isColorish(e[1]))return e.splice(1,0,"solid"),s["border"+r]=[e],s;s["border"+r+"-style"]="solid",s["border"+r+"-width"]=e.shift()}return this.isColorish(e[0])&&(o==1?s["border"+r]=[["1px","solid",e.shift()]]:(s[i="border"+r+"-width"]||(s[i]="1px"),s["border"+r+"-style"]="solid",s["border"+r+"-color"]=e.shift())),e[0]&&(s["border"+r+"-style"]=e[0]),s}border_left(e){return this.$border(e,"-left")}border_right(e){return this.$border(e,"-right")}border_top(e){return this.$border(e,"-top")}border_bottom(e){return this.$border(e,"-bottom")}border_x([e,r=e]){return Object.assign({},this.border_left([e]),this.border_right([r]))}border_y([e,r=e]){return Object.assign({},this.border_top([e]),this.border_bottom([r]))}border_x_width([e,r=e]){return{bwl:e,bwr:r}}border_y_width([e,r=e]){return{bwt:e,bwb:r}}border_x_style([e,r=e]){return{bsl:e,bsr:r}}border_y_style([e,r=e]){return{bst:e,bsb:r}}border_x_color([e,r=e]){return{bcl:e,bcr:r}}border_y_color([e,r=e]){return{bct:e,bcb:r}}border_top_radius([e,r=e]){return{"border-top-left-radius":e,"border-top-right-radius":r}}border_left_radius([e,r=e]){return{"border-top-left-radius":e,"border-bottom-left-radius":r}}border_bottom_radius([e,r=e]){return{"border-bottom-left-radius":this.l,"border-bottom-right-radius":this.r}}border_right_radius([e,r=e]){return{"border-top-right-radius":e,"border-bottom-right-radius":r}}justify_align([e,r=e]){let i={};return e==r?i["place-items"]=i["place-content"]=e:(i["justify-content"]=i["justify-items"]=e,i["align-content"]=i["align-items"]=r),i}outline(e){if(e.length==3)return{outline:[e]};let r={__outline__:!0};return this.isNumeric(e[0])&&(r.olw=e.shift()),this.isColorish(e[0])&&(r.olc=e.shift()),r.olw||(r["--ol_w"]="1px"),r}gap([e,r=e]){let i={};return r!=e?i={"row-gap":e,"column-gap":r}:(i={gap:e},e._unit!="rg"&&(i["--u_rg"]=e),e._unit!="cg"&&(i["--u_cg"]=e)),i}row_gap([e]){let r={"row-gap":e};return e._unit!="rg"&&(r["--u_rg"]=e),r}column_gap([e]){let r={"column-gap":e};return e._unit!="cg"&&(r["--u_cg"]=e),r}tint([e]){let r={"--hue":e};for(let i=0;i<10;i++)r["--hue"+i]="/*##*/"+e+i;return r}hue([e]){let r={"--hue":e};for(let i=0;i<10;i++)r["--hue"+i]="/*##*/"+e+i;return r}$color(e){let r,i=e.match(/^(\w+)(\d)(?:\-(\d+))?$/),s=i&&i[1];if(s&&typeof this.palette[s]=="string")return this.$color(this.palette[s]+e.slice(s.length));if(s=="hue")return new Zr(e);if(this.palette[e])return this.palette[e];if(i){let o=parseInt(i[2]),n=parseInt(i[3])||0,a=null,l=null,u=o+1,c=o;if(typeof this.palette[s]=="string")return this.$color(this.palette[s]+e.slice(s.length));for(;u>1&&!a;)a=this.palette[s+--u];for(;c<9&&!l;)l=this.palette[s+ ++c];let f=(o-u+n/10)/(c-u),h=f,d=f,p=f;if(l||(l=this.palette.blue9,h=0),a||(a=this.palette.blue1,h=1),a&&l)return this.palette[e]=a.mix(l,h,d,p)}return(r=Lv(e))?new Pe("",...r):null}isNumeric(e){return!!(qv(e)||typeof e=="number"||String(e).match(/^[\-\+]?\d?(\.?\d+)(\w+|%)?$/))}isColorish(e){return!!this.$parseColor(e)}$parseColor(e){let r,i=String(e);return(r=this.$color(i))?r:i.match(/^#[a-fA-F0-9]{3,8}/)||i.match(/^(rgb|hsl)/)||i=="currentColor"?e:null}$varFallback(e,r,i=[]){if(r.length==1){let s=String(r[0]),o=r[0];if(i.push("none","initial","unset","inherit"),i.indexOf(s)==-1&&s.match(/^[\w\-]+$/))return e=="font"&&Fn[s]&&(o=Fn[s]),e=="ease"&&this.options.variants.easings[s]&&(o=this.options.variants.easings[s]),[new ur(""+e+"-"+s,o)]}}$value(e,r,i){let s,o=i,n=e,a=e&&e.toRaw?e.toRaw():String(e),l=String(e),u=!1,c=null,f=n._unit;if(typeof i=="string"){if(Wi[i]&&(i=Wi[i],i instanceof Array&&(i=i[0])),i.match(/^((min-|max-)?(width|height)|top|left|bottom|right|padding|margin|sizing|inset|spacing|sy$|s$|\-\-s[xy])/))i="sizing";else if(i.match(/^\-\-[gs][xy]_/))i="sizing";else if(i.match(/^(row-|column-)?gap/))i="sizing";else if(i.match(/^[mps][trblxy]?$/))i="sizing";else if(i.match(/^[trblwh]$/))i="sizing";else if(i.match(/^e[otbca]?f$/)||i.match(/^ease(-\w+)?-function$/))i="easings",u="ease";else if(i.match(/^border-.*radius/)||i.match(/^rd[tlbr]{0,2}$/))i="radius",u="border-radius";else if(i.match(/^tween|transition/)&&this.options.variants.easings[a])return this.options.variants.easings[a];i=this.options.variants[i]||{}}if(e==null&&(e=i.default),i.hasOwnProperty(a)&&(e=i[e]),typeof a=="number"&&i.NUMBER){let[h,d,p]=i.NUMBER.match(/^(\-?[\d\.]+)(\w+|%)?$/);return e*parseFloat(d)+p}else if(typeof a=="string"&&(s=this.$parseColor(a)))return s;if(u&&!f){let h=l.match(/^[a-zA-Z\-][\w\-]*$/)&&!l.match(/^(none|inherit|unset|initial)$/),d=f&&vT.indexOf(f)==-1;if((h||d)&&e.alone)return new ur(""+u+"-"+l,n!=e?e:a)}return e}transformColors(e){var r=this;return e=e.replace(/\/\*(#+)\*\/(\#?\w+)(?:\/(\d+%?|\$[\w\-]+))?/g,function(i,s,o,n){let a;if(a=r.$color(o)){if(s=="#")return a.toString(n,s);if(s=="##")return a.toVar(n)}return i}),e}};var Y=$(require("path")),we=$(require("fs")),nw=$(Fv()),ju=$(require("url"));var Ki=class{static strip(e){return e.replace(/\/\*\%([\w\|]*)\$\*\//g,"")}static run(e,r={}){return{code:e.replace(/\/\*\%([\w\|]*)\$\*\//g,""),map:null,toString:function(){return this.code}}}};var ow=$(ma());var Iu=$(require("path"));function wT(t){let e;return t?(e=t.toIterable)?e.call(t):t:[]}var Hv=Symbol.for("#__initor__"),Bv=Symbol.for("#__inited__"),zv=Symbol.for("#__init__"),yt=Symbol.for("#watcher"),Gv=Symbol(),Cu={CHANGE:1,ADD:2,UNLINK:4},ei=class extends $e{static[zv](){return this.prototype[Hv]=Gv,this}constructor(e){super(),this.fs=e,this.history=new Jt({withFlags:!0}),this.events=[],this.map={},this.map[e.cwd]=1,this[Hv]===Gv&&this[Bv]&&this[Bv]()}get instance(){var e=this;if(this[yt])return this[yt];let r=function(s){return s.split(Iu.default.sep).join(Iu.default.posix.sep)},i=Object.keys(this.map);return this[yt]=require("chokidar").watch(i,{ignoreInitial:!0,depth:1,ignored:this.isIgnored.bind(this),cwd:this.fs.cwd}),this[yt].on("change",function(s,o){return s=r(s),e.history.mark(s,Cu.CHANGE),e.emit("change",s),e.emit("touch",s)}),this[yt].on("unlink",function(s,o){return s=r(s),e.history.mark(s,Cu.UNLINK),e.emit("unlink",s),e.emit("touch",s)}),this[yt].on("add",function(s,o){return s=r(s),console.log("add",s),e.history.mark(s,Cu.ADD),e.emit("add",s),e.emit("touch",s)}),this[yt]}isIgnored(e){return!!e.match(/(\/\.(git|imba-cache|cache)\/|\.DS_Store)/)}add(...e){let r=[];for(let i=0,s=wT(e),o=s.length;i<o;i++){let n=s[i];this.map[n]||(this.map[n]=!0,r.push(n))}return this[yt]&&r.length&&this[yt].add(...r),this}has(e){return!!this.map[e]}sync(e){return this.history.pull(e)}start(){return this.instance,this}};ei[zv]();function oe(t){let e;return t?(e=t.toIterable)?e.call(t):t:[]}var vt=Symbol.for("#__init__"),Uv=Symbol.for("#__initor__"),Wv=Symbol.for("#__inited__"),Tu=Symbol.for("#distInsideRoot"),Vv=Symbol.for("#baseurl"),Kv=Symbol.for("#outfs"),Yv=Symbol.for("#theme"),Yi=Symbol.for("#buildcache"),Xv=Symbol.for("#_id_"),Ru=Symbol.for("#bundles"),ti=Symbol.for("#watchedPaths"),Jv=Symbol.for("#bundler"),Qv=Symbol.for("#watching"),Pu=Symbol.for("#rebuildTimeout"),cr=Symbol.for("#file"),hr=Symbol.for("#contents"),xT=Symbol.for("#output"),Mu=Symbol.for("#type"),Zv=Symbol.for("#ordered"),ew=Symbol.for("#csschunk"),qu=Symbol.for("#text"),tw=Symbol.for("#hash"),rw=Symbol.for("#listening"),iw=Symbol(),_T=0,Un=class{constructor(e=null){this[vt](e)}[vt](e=null){var r;this.startAt=e&&(r=e.startAt)!==void 0?r:Date.now(),this.refs=e&&(r=e.refs)!==void 0?r:{},this.inputs=e&&(r=e.inputs)!==void 0?r:{},this.outputs=e&&(r=e.outputs)!==void 0?r:new Set,this.bundlers=e&&(r=e.bundlers)!==void 0?r:{},this.meta=e&&(r=e.meta)!==void 0?r:{},this.styles=e&&(r=e.styles)!==void 0?r:{},this.entries=e&&(r=e.entries)!==void 0?r:{}}get elapsed(){return Date.now()-this.startAt}},De=class extends $e{static[vt](){return this.prototype[Uv]=iw,this}[vt](e=null){var r;super[vt]&&super[vt](...arguments),this.hasGlobStylesheet=e?e.hasGlobStylesheet:void 0,this.builtΦ=e&&(r=e.builtΦ)!==void 0?r:!1}get o(){return this.options}get nodeΦ(){return this.platform=="node"}get nodeworkerΦ(){return this.platform=="nodeworker"}get webworkerΦ(){return this.platform=="webworker"}get workerΦ(){return this.webworkerΦ||this.nodeworkerΦ}get nodeishΦ(){return this.nodeΦ||this.nodeworkerΦ}get webΦ(){return!this.nodeishΦ}get webishΦ(){return this.webΦ||this.webworkerΦ}get esmΦ(){return!this.o.format||this.o.format=="esm"}get cjsΦ(){return this.o.format=="cjs"}get iifeΦ(){return this.o.format=="iife"}get htmlΦ(){return this.o.format=="html"}get sourcemappedΦ(){return!!this.esoptions.sourcemap}get buildΦ(){return this.program.command=="build"}get watchΦ(){return!!this.program.watch}get serveΦ(){return this.program.command=="serve"||this.root.entryPoints[0].match(/\.html$/)&&!this.buildΦ}get runΦ(){return!this.buildΦ}get forkΦ(){return!this.program.watch&&this.program.instances==1}get standaloneΦ(){return!!this.program.bundle}get staticΦ(){return!!this.program.web||this.root.htmlΦ}get minifyΦ(){var e;return(e=this.o.minify)!=null?e:this.program.minify}get devΦ(){return this.program.mode=="development"}get productionΦ(){return this.program.mode=="production"}get hmrΦ(){return this.program.hmr==!0||this.program.watch==!0}get mainΦ(){return this.root==this}get outdir(){return this.program.outdir||this.fs.cwd}get outbase(){return this.o.outbase||this.fs.cwd}get assetsDir(){return this.o.assetsDir||this.program.assetsDir||"assets"}get pubdir(){return this.buildΦ&&this.staticΦ?".":"public"}get distInsideRootΦ(){return this[Tu]==null?this[Tu]=/^(\.\/|\w)/.test(Y.default.relative(this.fs.cwd,this.outdir)):this[Tu]}urlForOutputPath(e){let r=Y.default.relative(Y.default.resolve(this.program.cwd,this.program.outdir),e);return this.baseurl&&(r=this.baseurl+r),r}get baseurl(){return this[Vv]||(this[Vv]=((this.program.baseurl||this.program.base||"")+"/").replace(/\/+/g,"/"))}get fs(){return this.program.fs}get outfs(){var e,r;return(e=this.root)[Kv]||(e[Kv]=new Ct(this.program.outdir,this.program))}get imbaconfig(){return this.program.config}get theme(){var e,r;return(e=this.imbaconfig)[Yv]||(e[Yv]=new Gn(this.imbaconfig))}get root(){return this.parent?this.parent.root:this}get buildcache(){return this.root[Yi]}[Symbol.toPrimitive](e){return this[Xv]||(this[Xv]=Symbol())}constructor(e,r){var i,s,o,n,a,l,u;super(),super[vt]||this[vt](),this[Ru]={web:{},node:{}},this[ti]={},this[Yi]={},e instanceof De?(this.parent=e,this.program=e.program):this.program=e,this.nr=_T++,this.styles={},this.options=r,this.result=null,this.firstBuild=null,this.workers=null,this.built=!1,this.meta={},this.cwd=this.fs.cwd,this.platform=r.platform||"browser",this.entryPoints=r.entryPoints||[],this.builder=null,this.parent?this.watcher=this.parent.watcher:this.program.watch&&(this.watcher||(this.watcher=new ei(this.fs)));let c=[],f=this.program.package||{};this.peerDependencies=Object.keys(f.peerDependencies||{}),this.devDependencies=Object.keys(f.devDependencies||{});for(let d=0,p=oe(r.external),g=p.length;d<g;d++){let b=p[d];if(b=="dependencies"){let m=Object.keys(f.dependencies||{});c.push(...m),this.runΦ&&c.push(...this.devDependencies)}b=="devDependencies"&&c.push(...this.devDependencies),b=="peerDependencies"&&c.push(...this.peerDependencies),b=="builtins"&&c.push(...Object.keys(Gd)),b==".json"&&c.push("*.json"),c.push(b)}if(c=c.filter(function(d){return!r.external||r.external.indexOf("!"+d)==-1}),this.buildΦ&&this.peerDependencies.length)for(let d=0,p=oe(this.peerDependencies),g=p.length;d<g;d++){let b=p[d],m=c.indexOf("!"+b);m>=0&&c.splice(m,1),c.push(b)}if(c=c.filter(function(d,p,g){return g.indexOf(d)==p}),this.externals=c,this.esoptions={entryPoints:this.entryPoints,bundle:r.bundle!==!1,define:r.define,platform:this.nodeishΦ?"node":"browser",format:r.format||"esm",outfile:r.outfile,outdir:this.program.outdir,globalName:r.globalName,publicPath:this.baseurl||"/",assetNames:""+this.assetsDir+"/[name].[hash]",chunkNames:""+this.assetsDir+"/chunks/[name].[hash]",entryNames:r.entryNames||""+this.assetsDir+"/[name].[hash]",conditions:["imba"],banner:{js:"//__HEAD__"+(r.banner?`
`+r.banner:"")},footer:{js:r.footer||"//__FOOT__"},splitting:r.splitting,sourcemap:this.program.sourcemap===!1?!1:(this.webΦ,!0),minifySyntax:!0,minifyWhitespace:this.minifyΦ&&r.format!="html",minifyIdentifiers:this.minifyΦ&&r.format!="html",incremental:!!this.watcher,legalComments:"inline",loader:Object.assign({},$d,r.loader||{}),write:!1,charset:"utf8",metafile:!0,external:c,tsconfig:r.tsconfig,nodePaths:(r.nodePaths||[]).slice(0),plugins:(r.plugins||[]).concat({name:"imba",setup:this.plugin.bind(this)}),pure:["Symbol.for","Symbol"],treeShaking:r.treeShaking||!0,supported:{"for-await":!0},resolveExtensions:[".imba",".imba1",".ts",".mjs",".cjs",".js",".svg"]},this.esoptions.entryPoints?.sort?.(),this.esoptions.sourcemap&&!this.devΦ&&(this.esoptions.sourcesContent=!1),this.mainΦ&&!this.webΦ&&(this.esoptions.entryNames="[dir]/[name]"),this.mainΦ&&(this.esoptions.external=[]),this.webΦ&&r.ref&&!this.workerΦ&&(this.esoptions.entryNames=""+this.assetsDir+"/[name].[hash]"),r.ref&&r.format!="html"&&r.ref!="web"&&(this.esoptions.outbase=this.fs.cwd),r.esbuild&&Wd(this.esoptions,r.esbuild,"esbuild"),this.imbaoptions={platform:r.platform,css:"external",hmr:this.program.hmr||!1,mode:this.program.mode},r.sourcesContent!==void 0&&(this.esoptions.sourcesContent=r.sourcesContent),r.platform=="worker"&&(this.imbaoptions.platform="node"),r.target&&(this.esoptions.target=r.target),this.nodeishΦ&&this.runΦ&&r.target){let d=process.version.replace(/^v(?=\d)/,"node");this.esoptions.target=[d]}r.format=="css"&&(this.esoptions.format="esm"),this.htmlΦ&&(this.esoptions.format="esm",this.esoptions.minify=!1,this.esoptions.sourcemap=!1,this.esoptions.entryNames="[dir]/[name]",this.esoptions.loader[".json"]="file"),this.workerΦ?this.esoptions.outExtension={".js":".worker.js"}:this.iifeΦ?this.esoptions.outExtension={".js":".iife.js"}:this.esoptions.format=="esm"&&this.nodeishΦ&&(this.esoptions.outExtension={".js":".mjs"}),(i={webworker:[".webworker.imba",".worker.imba"],serviceworker:[".serviceworker.imba",".webworker.imba",".worker.imba"],nodeworker:[".nodeworker.imba",".worker.imba",".node.imba"],worker:[".imba.web-pkg.js",".worker.imba"],node:[".node.imba"],browser:[".web.imba"],web:[".web.imba"]}[r.platform||this.esoptions.platform])&&this.esoptions.resolveExtensions.unshift(...i);let h=(s=this.esoptions).define||(s.define={});if(h[o="globalThis.DEBUG_IMBA"]||(h[o]=!this.productionΦ),!this.nodeishΦ){let d=r.env||(this.productionΦ?"production":"development");h.global="globalThis",h["process.platform"]="'web'",h["process.browser"]="true",this.esoptions.inject=[Y.default.resolve(this.program.imbaPath,"polyfills","buffer","index.js"),Y.default.resolve(this.program.imbaPath,"polyfills","__inject__.js")],this.esoptions.inject=[],this.esoptions.nodePaths.push(Y.default.resolve(this.program.imbaPath,"polyfills"))}h[n="globalThis.IMBA_HMR"]||(h[n]=String(this.hmrΦ)),h[a="globalThis.IMBA_DEV"]||(h[a]=String(this.hmrΦ)),h[l="globalThis.IMBA_RUN"]||(h[l]=String(this.runΦ)),r.bundle==!1&&(this.esoptions.bundle=!1,u=this.esoptions.external,delete this.esoptions.external),r.splitting&&this.esoptions.format!="esm"&&this.log.error("code-splitting not allowed when format is not esm"),this.mainΦ&&(this.log.ts("created main bundle"),this.manifest={}),this[Uv]===iw&&this[Wv]&&this[Wv]()}addEntrypoint(e){return this.entryPoints.indexOf(e)<0&&this.entryPoints.push(e),this.entryPoints.sort(),this}setup(){return this}watchPath(e){return this[ti][e]||(this[ti][e]=1,this.parent?this.parent.watchPath(e):this.watcher&&e.indexOf(":")==-1&&this.watcher.add(e.slice(0,e.lastIndexOf("/")))),this}resolveConfigPreset(e=[]){let r=e.join("&"),i=Symbol.for(r),s=this.imbaconfig;if(s[i])return s[i];let o={presets:[],ref:r},n=this.imbaconfig.options;for(let a=0,l=oe(e),u=l.length;a<u;a++){let c=l[a],f=n[c]||{};o.presets.push(f);let h=f,d=[f];for(;h.extends&&d.length<10;)d.unshift(h=n[h.extends]);for(let p=0,g=oe(d),b=g.length;p<b;p++){let m=g[p];Object.assign(o,m)}}return s[i]=o}resolveTemplate(e){let r=Y.default.resolve(this.program.imbaPath,"src","templates",e);return we.default.existsSync(r)?r:null}plugin(e){var r=this;let i=this.externals||[],s=this.program.imbaPath,o=function(l){return/\.imba$/.test(l)&&l.indexOf("styles:")!=0},n=function(l){let u=JSON.stringify(l);return`import {asset} from 'imba/src/imba/assets.imba';
export default asset(`+u+")"},a=async function(l){return await e.resolve(l.path,{resolveDir:l.resolveDir,namespace:""})};if(this.o.resolve){let l=new RegExp("^("+Object.keys(this.o.resolve).join("|")+")$");e.onResolve({filter:l},function(u){let c=r.o.resolve[u.path];return c=c&&c[r.platform]||c,c})}return r.mainΦ&&r.serveΦ&&e.onResolve({namespace:"file",filter:/.*/},async function(l){if(l.kind=="entry-point"){let u=l.path.split(".").pop(),c=r.resolveTemplate("serve-"+u+".imba")||r.resolveTemplate("serve-web.imba"),f=await e.resolve(l.path,{resolveDir:l.resolveDir});return{path:c,namespace:"file",pluginData:{__ENTRYPOINT__:f.path,resolveDir:l.resolveDir}}}if(l.path=="__ENTRYPOINT__"){let u=await e.resolve(r.entryPoints[0],{resolveDir:r.fs.cwd});return{path:l.pluginData?.__ENTRYPOINT__||u.path,pluginData:{path:l.path,asset:!0,kind:l.kind}}}}),r.mainΦ&&e.onResolve({filter:/\.html$/,namespace:"file"},async function(l){if(l.kind=="entry-point")return{path:(await a(l)).path,namespace:"file",pluginData:{path:l.path,kind:l.kind,serve:!r.buildΦ}};if(l.kind=="import-statement")return{path:(await a(l)).path,pluginData:{asset:!0,path:l.path,kind:l.kind}}}),e.onResolve({filter:/^\*\?css$/},function(l){return r.root.hasGlobStylesheet=!0,{path:"*?css",namespace:"css"}}),e.onResolve({filter:/\?(as=)?([\w\-\,\.\&]+)$/},async function(l){let u;if(l.namespace=="")return;if(r.o.format=="css")return{path:"_",namespace:"imba-raw"};let[c,f]=l.path.split("?"),h=f.replace(/^as=/,"").split(/[&\-]/g);if(f.match(/^(url|dataurl|binary|raw|text|base64|file|copy|img|svg|styles|bundle|external)/))return;let d;if(c=="__ENTRYPOINT__"?d={path:r.fs.resolve(r.entryPoints[0]),suffix:"?"+f}:d=await a(l),(u=Ld[f])&&(u=u[r.webishΦ?"web":"node"],u&&!l.pluginData))return{namespace:"wrap",suffix:d.suffix,path:d.path,pluginData:u};if(!d)return;let p=r.resolveConfigPreset(h),g=r.fs.relative(d.path);return{path:g+d.suffix,namespace:"entry",pluginData:{config:p,path:g}}}),e.onResolve({filter:/^imba(\/|$)/},function(l){if(r.peerDependencies.indexOf("imba")>=0)return null;if(l.path=="imba")return r.o.format=="css"?{path:l.path,external:!0}:{path:Y.default.resolve(s,"index.imba"),namespace:"file"};let u=l.path.slice(l.path.indexOf("/")+1),c=Y.default.resolve(s,u),f=["",".imba"];(u=="program"||u=="compiler")&&f.unshift(".imba.js");for(let h=0,d=oe(f),p=d.length;h<p;h++){let g=d[h];if(we.default.existsSync(c+g))return{path:c+g}}return null}),e.onResolve({filter:/^_styles_$/},function({importer:l}){return{path:l,suffix:"?styles",namespace:"file"}}),e.onResolve({namespace:"file",filter:/.*/},async function(l){if(l.pluginData=="skip"||l.path.indexOf("data:")==0)return null;let u=l.path,c=/^(\/|\w\:\/)/.test(u),f=u[0]==".",h=!c&&!f,d=h&&u.match(/^(@[\w\.\-]+\/)?\w[\w\.\-]*/)[0]||null,p=i.indexOf(u)>=0||h&&i.indexOf(d)>=0,g=u.split("?")[1]||"",b=g?u.split("?")[0]:u;if(g=="style")return null;if(u.indexOf("node:")==0)return{external:!0};if(Dd.indexOf(u)>=0&&!r.webΦ)return{external:!0,path:u};if(g=="bundle"){let v={importer:l.importer,resolveDir:l.resolveDir,namespace:"",kind:r.esmΦ?"import-statement":"require-call",pluginData:"skip"};return{path:(await e.resolve(b,v)).path}}if(g=="external")return{path:b,external:!0};if(h&&r.nodeishΦ&&r.runΦ&&!r.standaloneΦ&&!r.program.tmpdir){if(i.indexOf("!"+u)>=0)return null;let v=!1,k={importer:l.importer,resolveDir:l.resolveDir,namespace:"",kind:r.esmΦ?"import-statement":"require-call",pluginData:"skip"},x=await e.resolve(l.path,k);if(x.path){let E=x.path.split("node_modules")[0];Y.default.relative(E,r.outdir).indexOf("../")!=0&&(v=!0)}if(p&&v)return{external:!0};if(p)return{external:!0,path:x.path}}if(p)return r.program.bundle?null:{external:!0};if(c)return null;if(g=="img")return{path:(await a(l)).path};let m=/(\.(svg|png|jpe?g|gif|tiff|webp))$/.test(u);if(o(l.importer)&&m&&l.kind!="url-token"){let v=await a(l);if(v?.path)return{path:v.path,suffix:"?js"}}if(u.match(/\.json(\?copy)?$/)){let v=await a(l);if(l.importer?.match?.(/\.html$/))return{path:v.path,suffix:"?url"};if(r.webΦ&&r.esoptions.splitting)return{path:v.path+".js",suffix:"?external"}}return null}),e.onLoad({namespace:"img",filter:/.*/},async function({path:l}){let u=r.fs.lookup(l),c=await u.compile({format:"esm"},r);return{loader:"js",contents:c.js,resolveDir:u.absdir}}),e.onLoad({namespace:"wrap",filter:/.*/},function(l){let u=l.pluginData,f=we.default.readFileSync(r.resolveTemplate(u),"utf-8").replace("__ENTRYPOINT__?",l.path+"?");return f=f.replace("__ENTRYPOINT__",l.path+(l.suffix||"")),{loader:"js",contents:f,resolveDir:Y.default.dirname(l.path)}}),e.onLoad({namespace:"html",filter:/.*/},async function({path:l}){let u=r.fs.lookup(l),c=await u.compile({format:"esm"},r);return{loader:"js",contents:c.js,resolveDir:u.absdir,pluginData:{resolver:l}}}),e.onLoad({namespace:"js",filter:/.*/},async function({path:l}){let u=r.fs.lookup(l),c=await u.compile({format:"esm"},r);return r.builder.meta[u.rel]=c,{loader:"js",contents:c.js,resolveDir:u.absdir,pluginData:{importerFile:u.rel}}}),e.onLoad({namespace:"file",filter:/\.html$/},async function(l){if(r.htmlΦ||l.pluginData?.asset){let u=r.fs.lookup(l.path),c=await u.compile({format:"esm"},r);return r.builder.meta[u.rel]=c,{loader:"js",contents:c.js,resolveDir:u.absdir,pluginData:{importerFile:u.rel}}}}),e.onLoad({namespace:"file",filter:/.*/},async function({path:l,suffix:u,pluginData:c}){if(u){let f=u.slice(1),h=Nd[f];if(f=="external"&&r.webΦ&&l.match(/\.json\.m?js$/)){let d=l.replace(/\.m?js$/,""),p=we.default.readFileSync(d,"utf-8");return{loader:"copy",contents:"export default "+p,resolveDir:Y.default.dirname(l)}}if(h){let d=we.default.readFileSync(l);return{loader:h,contents:d}}else if(f=="js"){let d=r.fs.lookup(l),p=await d.compile({format:"esm"},r);return{loader:"js",contents:p.js,resolveDir:d.absdir}}}return null}),e.onLoad({namespace:"css",filter:/^\*\?css/},function(){return r.htmlΦ?{loader:"text",contents:"*?css"}:{loader:"js",contents:n("*?css"),resolveDir:r.fs.cwd}}),e.onLoad({namespace:"entry",filter:/.*/},async function({path:l,pluginData:u}){var c,f;if(l=="__styles__")return r.htmlΦ?{loader:"text",contents:"*?css"}:{loader:"js",contents:n("*?css"),resolveDir:r.fs.cwd};if(r.o.format=="css")return{loader:"text",contents:""};let h=u,d=h.config,p="entry:"+h.path+"?"+d.ref,g=r.fs.lookup(h.path);if(d.splitting||d.ref=="html"&&r.mainΦ){let m=d[Jv]||(d[Jv]=new De(r.root,Object.create(d)));return m.addEntrypoint(h.path),r.root.builder.refs[p]=m,r.builder.refs[p]=m,r.htmlΦ?{loader:"text",contents:p}:{loader:"js",contents:n(p),resolveDir:Y.default.dirname(l)}}r.log.debug("lookup up bundle for id "+p);let b=r.root[Ru][p]||(r.root[Ru][p]=new De(r.root,Object.assign({entryPoints:[h.path]},d)));if(r.builder.refs[p]=b,d.format!="css"){let m=b.rebuild();if(r.webΦ){r.log.debug("rebuilt immediately - and maybe link directly to the asset?!");let v=await m;try{let k=v.meta.entries[p];if(r.log.debug("returned from iife",p),k)return{loader:"text",contents:k.url}}catch(k){console.error(k)}}}return r.htmlΦ?{loader:"text",contents:p}:{loader:"js",contents:n(p),resolveDir:g.absdir}}),e.onLoad({filter:/\.css$/},function(l){let u=we.default.readFileSync(l.path,"utf-8");return u+="/*! @path "+r.fs.relative(l.path)+" */",{loader:"css",contents:u}}),e.onLoad({namespace:"imba-raw",filter:/.*/},function({path:l}){return{loader:"text",contents:""}}),e.onLoad({namespace:"styles",filter:/\.imba$/},function({path:l,namespace:u}){let c;return(c=r.builder.styles[l])?c:{loader:"css",contents:""}}),e.onLoad({filter:/\.imba1?$/},async function({path:l,namespace:u,pluginData:c,suffix:f}){let h=r.fs.lookup(l);if(f=="?styles")return r.builder.styles[h.rel]||{loader:"css",contents:""};let d=Date.now(),p=await h.compile(r.imbaoptions,r);if(p.css){let v=r.theme.transformColors(Ki.strip(p.css||""),{prefix:!1});v+="/*! @path "+r.fs.relative(l)+"?styles */",r.builder.styles[h.rel]={loader:"css",contents:v,resolveDir:h.absdir}}let g=p.css||r.o.format=="css",b=g?`
import './`+h.name+"?styles';":"";return b=g?`
import '_styles_';`:"",p[r]||(p[r]={loader:"js",contents:Ki.strip(p.js||"")+b,errors:(p.errors||[]).map(function(v){return ga(v,{file:h.abs,namespace:u})}),warnings:(p.warnings||[]).map(function(v){return ga(v,{file:h.abs,namespace:u})}),resolveDir:h.absdir,pluginData:c})})}build(e=!1){var r=this,i;return(i=r.buildcache)[r]||(i[r]=new Promise(async function(s){if((r.built!=!0?(r.built=!0,!0):!1)||e){r.mainΦ&&r.log.info("starting to build in %path",r.program.outdir),r.workers=await Ev(),r.log.debug("build "+r.entryPoints.join(",")+" "+r.o.format+"|"+r.o.platform+" "+r.nr);try{r.builder=new Un({previous:r.builder}),r.result=await sw.build(r.esoptions),r.firstBuild=r.result,r.lastResult=r.result}catch(o){r.result=o}await r.transform(r.result),r.mainΦ&&await r.write(r.result),r.watcher||(r.workers.stop(),r.workers=null),r.watcher&&r.mainΦ&&(r[Qv]!=!0?(r[Qv]=!0,!0):!1)&&(r.watcher.start(),r.watcher.on("touch",function(o){return r.log.debug("watcher touch",o),clearTimeout(r[Pu]),r[Pu]=setTimeout(function(){return clearTimeout(r[Pu]),r.log.debug("try rebuild",!!r.buildcache[r],r.o.watch),r.rebuild()},100)}))}return r[Yi]={},s(r.result)}))}rebuild({force:e=!1}={}){var r=this,i;return this.built&&this.result&&this.result.rebuild instanceof Function?(i=r.buildcache)[r]||(i[r]=new Promise(async function(s){if(r.mainΦ&&r.log.debug("starting rebuild!",!!r.watcher,e),r.watcher&&!e){let a=r.watcher.sync(r),l=!1;for(let u=0,c=oe(a),f=c.length;u<f;u++){let[h,d]=c[u];(r[ti][h]||d!=1)&&(l=!0)}if(r.mainΦ&&l&&r.log.debug("changes demanding a resolve?",a),!l)return r[Yi]={},s(r.result)}let o=r.lastResult,n=!1;try{r.builder=new Un({previous:r.builder});let a=await r.firstBuild.rebuild();r.result=a,r.lastResult=r.result}catch(a){r.log.debug("error when rebuilding",a),n=!0,r.result=a}return await r.transform(r.result,o),r.mainΦ&&await r.write(r.result,o),r[Yi]={},s(r.result)})):this.build(!0)}collectStyleInputs(e,r,i=[],s=[]){if(e instanceof Array){for(let o=0,n=oe(e),a=n.length;o<a;o++){let l=n[o];this.collectStyleInputs(l,r,i,s)}return i}if(s.indexOf(e)>=0)return i;s.push(e),e.path.match(/(^styles:)|(\.css$)|(\?styles?$)/)&&i.indexOf(e)==-1&&(i.find(function(o){return o.path==e.path})||i.push(e));for(let o=0,n=oe(e.imports),a=n.length;o<a;o++){let l=n[o];l.path.match(/\?css$/)||this.collectStyleInputs(l,r,i,s)}return e.asset&&r&&this.collectStyleInputs(e.asset.source,r,i,s),i}transformCompiledHTML(e,r,i,s){let o={},n={},a=s;r.replace(/(\w+_default\d*) = \"(.*)\"/g,function(u,c,f){let h;return(h=a[f])?o[c]=h.url||h.path:o[c]=n[f]||f});let l=r.match(/URLS = \[(.*)\]/)[1].split(/\,\s*/g).map(function(u){return o[u]});return i&&i.html?i.html.replace(/ASSET_REF_(\d+)/g,function(c,f){return l[parseInt(f)]}):r}async transform(e,r){var i=this;let s=Date.now();if(e instanceof Error){for(let h=0,d=oe(e.errors),p=d.length;h<p;h++){let g=d[h];this.watchPath(g.location.file)}return e.rebuild=r&&r.rebuild.bind(r),e.meta={inputs:{},outputs:{},urls:{},errors:e.errors,warnings:e.warnings},e}let o=e.outputFiles||[],n=e.metafile;if(n=e.meta={ref:this.o.ref,format:this.o.format,platform:this.o.platform,inputs:n.inputs,outputs:n.outputs,errors:[].concat(e.errors||[]),warnings:[].concat(e.warnings||[]),entries:{},urls:{}},process.env.DEBUG){let h=Y.default.resolve(this.fs.cwd,"dist");n.entryPoints=this.esoptions.entryPoints;let d={entryPoints:n.entryPoints,files:o.map(function(p){return[p.path,i.fs.relative(p.path)]}),outputs:Object.keys(n.outputs),inputs:Object.keys(n.inputs),full:n};try{we.default.mkdirSync(h)}catch{}we.default.writeFileSync(Y.default.resolve(h,"manifest."+i.nr+".json"),JSON.stringify(d,null,4))}let a=n.inputs,l=n.outputs;for(let h=0,d=oe(o),p=d.length;h<p;h++){let g=d[h],b=i.fs.relative(g.path);l[b]?(l[b].fullpath=g.path,l[b][cr]=g,l[b][hr]=g.contents,l[b],g[xT]=l[b]):console.log("could not map the file to anything!!",g.path,b,Object.keys(l),i.fs.cwd,i.esoptions.outdir)}for(let h=n.outputs,d=0,p=Object.keys(h),g=p.length,b,m;d<g;d++)if(b=p[d],m=h[b],i.root.builder.outputs.add(m),l[b+".map"]&&(m.map=l[b+".map"]),m.entryPoint){let v=m.entryPoint,k=a[v];if(k){m.source=k;let x=b.split(".").pop();if((x=="mjs"||x=="js")&&(k.output=k[x]=m,k.js||(k.js=m)),x=="css"&&(k.css=m),i.o.ref){let E="entry:"+m.entryPoint+"?"+i.o.ref;m.entryId=E,i.root.builder.entries[E]=i.builder.entries[E]=n.entries[E]=m}}i.mainΦ&&i.serveΦ&&(m.main=!0)}for(let h=0,d=Object.keys(a),p=d.length,g,b;h<p;h++)g=d[h],b=a[g],b[Mu]=b._="input",b.path=g,b.imports=b.imports.map(function(m){return a[m.path]}),i.watchPath(g.replace(".json.js?external",".json").replace(/\?.+/,""));let u=new Set,c=new Set;for(let h=i.builder.refs,d=0,p=Object.keys(h),g=p.length,b,m;d<g;d++){b=p[d],m=h[b];let v=a[b],k=m,x=b.slice(b.indexOf(":")+1).split("?")[0];b&&v&&m instanceof De&&(k=await m.rebuild());let E=k&&k.meta&&k.meta.inputs[x];m instanceof De&&Object.assign(this[ti],m[ti]),E&&(v.asset=k.meta.format=="css"?E.css:E.js,u.add(k.meta.outputs)),k&&k.meta&&(n.errors.push(...k.meta.errors),n.warnings.push(...k.meta.warnings))}for(let h=n.outputs,d=0,p=Object.keys(h),g=p.length,b,m,v;d<g;d++){b=p[d],m=h[b],m[Mu]=m._="output",m.path=b,(Y.default.extname(b)||"").slice(1)=="json"&&Object.keys(m.inputs||{}).some(function(A){return A.match(/\?url/)})&&(m.public=!0),m.source&&m.source.path.match(/\.html$/)&&m==m.source.js&&(!i.mainΦ||i.buildΦ)?(m.public=!0,m.path=b=b.replace(/\.m?js/,".html")):(i.webishΦ||m.type=="css")&&(m.public=!0),i.nodeishΦ&&b.match(/\.css(\.map)?$/)&&(m.virtual==null?m.virtual=!0:m.virtual),m.public&&(m.url=i.urlForOutputPath(m.path)),m.type==null?m.type=(Y.default.extname(b)||"").slice(1):m.type;let x=[],E=new Set;for(let A=m.inputs,O=0,C=Object.keys(A),R=C.length,T,w;O<R;O++)T=C[O],w=A[T],T.indexOf("entry:")==0&&E.add(a[T]),x.push([a[T],w.bytesInOutput]);if(m.dependencies=Array.from(E),m.inputs=x,m.type=="css"&&!m[Zv]){let O=m[cr].text.split(/\/\*\! @path (.+?) \*\//g),C={};for(;O.length;){let R=O.shift()||"",T=O.shift();C[T]=R}for(let R=0,T=oe(x),w=T.length;R<w;R++){let[N,D]=T[R];c.add(N),N[ew]=C[N.path]}m[Zv]=!0}m.imports&&(m.imports=m.imports.map(function(A){return l[A.path]})),(v=b.match(/\.([A-Z\d]{8})(\.\w+)?\.\w+(\.map)?$/))&&(m.hash=v[1])}let f={};for(let h=n.outputs,d=0,p=Object.keys(h),g=p.length,b,m;d<g;d++)b=p[d],m=h[b],f[m.path]=m;for(let h of oe(u))Object.assign(f,h);return l=n.outputs=f,e}copyPublicFiles(){let e=this.fs.resolve("public"),r=this.outfs.resolve(this.pubdir);if(we.default.existsSync(e))return new Promise(function(i){return(0,nw.default)(e,r,{},i)})}cleanOutDir(){if(!we.default.existsSync(this.program.outdir))return this;let e=we.default.readdirSync(this.program.outdir);for(let r=0,i=oe(e),s=i.length;r<s;r++){let o=i[r];o.match(/^\.git/)||we.default.rmSync(Y.default.resolve(this.program.outdir,o),{recursive:!0})}return this}async write(e){var r,i;let s=Y.default.relative(this.fs.cwd,this.outdir),o=/^(\.\/|\w)/.test(s),n=we.default.existsSync(this.fs.resolve("public"))&&this.fs.resolve("public"),a=e.meta,l=a.inputs,u=a.outputs,c=a.urls;if(a.errors.length){this.log.error("failed with "+a.errors.length+" errors"),this.emit("errored",a.errors),this.watchΦ||process.exit(1);return}let f=e.manifest={},h={inputs:l,outputs:{},urls:c,mappings:{},hash:null,path:null,main:null,assets:null,pubdir:this.pubdir},d=h.assets=Object.values(u),p=null;this.serveΦ&&(p=d.find(function(m){return m.main}));try{r=l[this.entryPoints[0]].output}catch{}if(p=r||p,this.hasGlobStylesheet){let m=this.entryPoints.map(function(k){return l[k]||p?.source}),v=this.collectStyleInputs(m,!0);if(v.length){let k="",x={version:3,sourceRoot:String(ju.default.pathToFileURL(this.fs.cwd)),sources:[],names:[],raw:[],mappings:""};for(let R=0,T=oe(v),w=T.length;R<w;R++){let N=T[R],D=N[ew];if(D){let he=N.path.replace(/(^\w+\:)|(\?.+$)/g,"");x.sources.indexOf(he)<0&&x.sources.push(he);let _=[0,x.sources.indexOf(he),0,0],S=D.split(`
`);for(let M=0,P=oe(S),L=P.length;M<L;M++){let B=P[M];x.raw.push([_.slice(0)])}k+=D+`
`}}let E=Rr(k),A="index."+E+".css",O=Y.default.resolve(this.fs.cwd,this.esoptions.outdir,this.assetsDir||".",A);x.file=A,k+=`
/*# sourceMappingURL=./`+A+".map */";let C={[Mu]:"output",_:"output",type:"css",public:!0,path:O,hash:E,fullpath:O,virtual:!1,url:this.urlForOutputPath(O),entryId:"*?css",imports:[],[hr]:k};C.asset=C,this.builder.entries["*?css"]=C,l["*?css"]=C,d.push(C),this.esoptions.sourcemap&&(x.mappings=ow.encode(x.raw),i=x.raw,delete x.raw,d.push({path:C.path+".map",fullpath:C.fullpath+".map",hash:E,public:!0,[hr]:JSON.stringify(x,null,2)}))}}for(let m=0,v=oe(d),k=v.length;m<k;m++){let x=v[m];if(x.public&&this.pubdir&&x.resolved!=!0&&(x.resolved=!0,!0)){let E=Y.default.resolve(this.fs.cwd,x.path),A=Y.default.relative(this.esoptions.outdir,E),O=Y.default.resolve(this.esoptions.outdir,this.pubdir,A);x.fullpath=O,x.path=Y.default.relative(this.fs.cwd,O)}}for(let m=0,v=oe(d),k=v.length;m<k;m++){let x=v[m];!x.entryId||(f[x.entryId]={url:x.url,path:x.fullpath})}for(let m=0,v=oe(d),k=v.length;m<k;m++){let x=v[m];if(!(x.url&&x.imports)||x.type=="map")continue;let E=f[x.url]={},A=x.imports.map(function(O){return O.url});A.length&&(E.imports=A)}this.log.ts("resolved public paths");for(let m=0,v=oe(d),k=v.length,x;m<k;m++){let E=v[m];if(E.type=="html"){let O=(E.entryPoint||"").replace(/^\w+\:/,"");if(x=this.builder.meta[O]){let C=this.transformCompiledHTML(E,E[cr].text,x,f);E[qu]=E[hr]=C}}if(E.type=="js"||E.type=="mjs"){let A=E[qu]||E[cr].text,O="";if(E.hash||E.hash||(E.hash=Rr(A)),!E.public){let T=["globalThis.IMBA_MANIFEST="+JSON.stringify(f)];n&&this.program.tmpdir&&T.push("globalThis.IMBA_STATICDIR='"+n+"'"),O=T.join(";")}E.public&&this.hmrΦ&&(O="(globalThis.IMBA_LOADED || (globalThis.IMBA_LOADED={}))['"+E.url+"']=true;"),O&&(A=A.replace("//__HEAD__",O));let C=/\/([\/\*])# sourceMappingURL=([\/\w\.\-\%]+\.map)/g,R=Y.default.basename(E.path);A=A.replace(C,function(T,w,N){return"/"+w+"# sourceMappingURL=./"+R+".map"}),E[qu]=E[hr]=A}}this.log.ts("injected head in assets");for(let m=0,v=oe(d),k=v.length;m<k;m++){let x=v[m];if(x.type=="map"&&x.public&&x[cr]){let E=x[cr].text,A=x[cr].path,O=ju.default.pathToFileURL(Y.default.dirname(A));E='{"sourceRoot": "'+O+'",'+E.slice(1),x[hr]=E}}this.log.ts("rewrote sourcemaps"),h.path="manifest.json",f.main=this.outfs.relative(p.fullpath),e.main=p.fullpath,e.hash=p.hash,this.log.ts("ready to write");let g=this.outfs.lookup("manifest.json");for(let m=0,v=oe(d),k=v.length;m<k;m++){let x=v[m];h.outputs[x.path]=x}let b=Rr(d.map(function(m){return m.hash}).sort().join("-"));if(this[tw]!=b&&(this[tw]=b,!0)){if(!this.builtΦ&&!this.program.keep&&!this.program.tmpdir&&o&&this.cleanOutDir(),!this.builtΦ&&this.program.tmpdir&&this.nodeΦ&&this.program.nodeModulesPath)try{we.default.symlinkSync(this.program.nodeModulesPath,Y.default.resolve(this.program.tmpdir,"node_modules"),"dir")}catch(m){console.log("error here",m)}for(let m=0,v=oe(d),k=v.length;m<k;m++){let x=v[m],E=x.path;if(this.buildΦ&&this.staticΦ&&!x.public||x.virtual)continue;await this.outfs.lookup(x.fullpath).write(x[hr],x.hash)}n&&!this.program.tmpdir&&await this.copyPublicFiles(),await g.write(JSON.stringify(f,null,2),h.hash),this.program[rw]?this.log.info("built %bold in %ms - %heap (%address)",this.entryPoints[0],this.builder.elapsed,this.program[rw]):this.log.info("built %bold in %ms - %heap",this.entryPoints[0],this.builder.elapsed),this.builtΦ=!0,this.emit("built",e)}return e}};De[vt]();var Lu=$(require("path")),lw=$(require("fs")),uw=require("crypto");function ST(t){let e;return t?(e=t.toIterable)?e.call(t):t:[]}var kT=Symbol.for("#key"),Nu={},aw={},Xi=class{constructor(e){this[kT]=Symbol(),this.o=e,this.dir=this.o.cachedir,this.nodefs=e.volume||lw.default,this.aliaspath=this.dir&&Lu.default.resolve(this.dir,".imba-aliases"),this.aliasmap=[],this.aliascache={},this.data={aliases:{},cache:{}},this.mintime=this.o.mtime||0,this.persistToDisk=!!this.dir,this.idFaucet=Vd(),this.preload()}preload(){if(!this.persistToDisk)return;this.nodefs.existsSync(this.dir)||this.nodefs.mkdirSync(this.dir);let e=this.nodefs.readdirSync(this.dir);for(let r=0,i=ST(e),s=i.length;r<s;r++){let o=i[r];this.cache[o]={exists:1}}return this.nodefs.existsSync(this.aliaspath)||this.nodefs.appendFileSync(this.aliaspath,""),this.refreshAliasMap(),ls.ts("cache loaded"),this}setup(){return!0}save(){return this}deserialize(){return this}serialize(){return this}get cache(){var e;return(e=this.data).cache||(e.cache={})}get aliases(){var e;return(e=this.data).aliases||(e.aliases={})}alias(e){if(!this.aliases[e]){let r=Object.keys(this.aliases).length;this.aliases[e]=this.idFaucet(r)+"0"}return this.aliases[e]}normalizeKey(e){if(Nu[e])return Nu[e];let r=(0,uw.createHash)("sha1");return r.update(e),Nu[e]=r.digest("hex")}fullKeyPath(e){return aw[e]||(aw[e]=Lu.default.resolve(this.dir,e))}getKeyTime(e){let r=this.cache[e];if(r&&r.time)return r.time;if(r&&r.exists&&this.persistToDisk){let i=this.fullKeyPath(e);return this.nodefs.statSync(i).mtimeMs}else return 0}refreshAliasMap(){return this.aliasmap=this.nodefs.readFileSync(this.aliaspath,"utf8").split(/\r?\n/)}getPathAlias(e){return this.getKeyAlias(e)}getKeyAlias(e){if(this.aliascache[e])return this.aliascache[e];let r=this.aliasmap.indexOf(e);if(r==-1&&(this.persistToDisk?(this.nodefs.appendFileSync(this.aliaspath,e+`
`,"utf8"),this.refreshAliasMap()):this.aliasmap.push(e),r=this.aliasmap.indexOf(e)),r>=0)return this.aliascache[e]=this.idFaucet(r);throw console.log("key not added?",e,this.aliasmap),"could not add key to aliasmap"}async getKeyValue(e){let r=this.fullKeyPath(e),i=await this.nodefs.promises.readFile(r,"utf8");return JSON.parse(i)}setKeyValue(e,r){if(!this.persistToDisk)return;let i=this.fullKeyPath(e),s=JSON.stringify(r);return this.nodefs.promises.writeFile(i,s)}memo(e,r,i){var s=this;let o=this.normalizeKey(e);this.mintime>r&&(r=this.mintime);let n=this.cache[o];return n&&n.time>=r||(this.getKeyTime(o)>r?n=this.cache[o]={time:Date.now(),promise:this.getKeyValue(o)}:(n=this.cache[o]={time:Date.now(),promise:i()},n.promise.then(function(l){return s.setKeyValue(o,l)}))),n.promise}};var a_=require("child_process");var l_=$(Bw()),Oc=$(i_()),Ac=$(n_());function lP(t){let e;return t?(e=t.toIterable)?e.call(t):t:[]}var o_=Symbol.for("#parsed"),uP=Symbol.for("#IMBA_OPTIONS"),so={int:function(t){return parseInt(t)},i:function(t){return t=="max"?0:parseInt(t)},v:function(t,e){return e+1}},cP=ba(We.default.resolve(__dirname,".."))||{},u_={},zt=process.argv.slice(0),hP={M:{minify:!1},m:{minify:!0},S:{sourcemap:!1},s:{sourcemap:!0}},fP={true:!0,false:!1,null:null,undefined:void 0};for(let t=0,e=lP(zt),r=e.length;t<r;t++){let i=e[t];if(!!i&&i.match(/^\-\-(\w+)(\.\w+)+$/)){let s=zt[t+1],o=i.slice(2).split("."),n=u_;for(zt[t]=null;o[1];)n=n[o[0]]||(n[o[0]]={}),o.shift();let a=hP[o[0]];a?Object.assign(n,a):(s.indexOf(" ")>=0&&(s=s.split(/\,\s*|\s+/g)),s=fP[s]||s,n[o[0]]=s,zt[t]=null,zt[t+1]=null)}}zt=zt.filter(function(t){return t!==null});function c_(t,e=[]){if(t[o_])return t;let r=t._name;t.opts instanceof Function&&(t=t.opts());let i=t.cwd||(t.cwd=process.cwd());if(t.imbaPath||(t.imbaPath=We.default.resolve(__dirname,"..")),t.command=r,t.extras=e,t.config=Ud(i,t.config||"imbaconfig.json"),t.package=ba(i)||{},t.nodeModulesPath=en("node_modules",i),t.esm&&(t.as==null?t.as="esm":t.as),t.verbose>1?t.loglevel||(t.loglevel="debug"):t.verbose&&(t.loglevel||(t.loglevel="info")),t.development&&(t.minify==null?t.minify=!1:t.minify,t.sourcemap==null?t.sourcemap=!0:t.sourcemap,t.watch==null?t.watch=!0:t.watch,t.hmr=!0,t.mode="development"),t.production&&(t.minify==null?t.minify=!0:t.minify,t.sourcemap==null?t.sourcemap=!1:t.sourcemap,t.hmr=!1,t.mode="production"),r=="build"&&(t.minify==null?t.minify=!0:t.minify,t.mode==null?t.mode="production":t.mode,t.sourcemap==null?t.sourcemap=!1:t.sourcemap,t.loglevel||(t.loglevel="info"),t.outdir||(t.outdir="dist")),t.web&&r!="build"&&(r=t.command="serve"),t.web&&r!="serve"&&(t.as==null?t.as="web":t.as),r=="serve"&&(t.watch=!0,t.hmr=!0),t.watch&&(t.loglevel||(t.loglevel="info"),t.mode=="development"&&(t.hmr=!0)),t.force)t.mtime=Date.now();else{let s=[__filename,We.default.resolve(__dirname,"..","workers.imba.js"),We.default.resolve(__dirname,"..","dist","compiler.cjs")];t.mtime=Math.max(...s.map(function(o){return Ue.default.statSync(o).mtimeMs}))}return t.loglevel||(t.loglevel="warning"),t.cachedir=zd(t),globalThis[uP]=t,t[o_]=!0,t}function dP(t){t=c_(t);let e="vite.config.server.js";if(Ue.default.existsSync(e)&&!t.force)return console.log("You already have a vite.config.server in your project. Delete it or use `imba eject --force` to overwrite");let r=Ue.default.readFileSync(Nt,"utf-8");Ue.default.writeFileSync(e,r.replace(/\/\/eject\s/g,"")),console.log("✅ vite.config.server.mjs has been successfully "+(t.force?"overwritten":"created"));let i="test-setup.js";if(Ue.default.existsSync(i)&&!t.force)return console.log("You already have a test-setup.js in your project. Delete it or use `imba eject --force` to overwrite");let s=Ue.default.readFileSync(Y0,"utf-8");return Ue.default.writeFileSync(i,s),console.log("✅ test-setup.js has been successfully "+(t.force?"overwritten":"created")),console.log("💎 You can still run the project using imba <server.imba> --vite and it will pick your config"),console.log("💎 Run `vite build -c vite.config.server.js` to create your build"),console.log("⚠️ You might need to change the entry from server.imba to the name of your entry file"),console.log("✨ Visit https://vitejs.dev/ to check the docs or join https://imba.io/community if you get stuck or simply have a question")}async function pP(t){let e;await au(["vitest","@testing-library/dom","@testing-library/jest-dom","jsdom"],process.cwd());let r=We.default.join(process.cwd(),"node_modules/.bin","vitest"),i=Yr(Nt,["vitest.config.ts","vitest.config.js","vite.config.ts","vite.config.js","vite.config.server.js"]);if(i==Nt){let n=We.default.join(__dirname,"./test-setup.js"),a=Yr("test-setup",["imba","ts","js","mjs","cjs"],{ext:"js"});a=="test-setup.js"&&(a=We.default.resolve(n));let l=We.default.join(__dirname,"temp-config.vite.js"),u=Ue.default.readFileSync(Nt,"utf-8");Ue.default.writeFileSync(l,u.replace(/\/\*pholder\*\//g,"'"+We.default.resolve(a)+"'")),i=l}let s=["--config",i,"--root",process.cwd(),"--dir",process.cwd(),...t.args],o={cwd:process.cwd(),env:{...process.env,FORCE_COLOR:!0},stdio:"inherit"};return e=(0,a_.spawn)(r,s,o)}async function Cc(t,e,r){if(e.args.length<=0)return St.program.help();let[i,s]=t.split("?");i=We.default.resolve(i);let o=e=c_(e,r);if(e.cache=new Xi(e),e.fs=new Ct(e.cwd,e),e.vite&&await au(["vite","vite-node","vite-plugin-imba"],process.cwd()),Ir(o.config.options,u_),!e.outdir)if(e.command=="build")e.outdir="dist";else{Oc.default.setGracefulCleanup();let f=Oc.default.dirSync({unsafeCleanup:!0});e.outdir=e.tmpdir=Ue.default.realpathSync(f.name)}let n=e.fs.lookup(i);s?e.as=s.replace(/^as=/,""):n.ext==".html"&&(e.as="html",e.command!="build"&&(e.as="node"));let a=Fd(o.config,{entryPoints:[n.rel]},e.as||"node");e.command!="build"&&(e.port||(e.port=await(0,Ac.default)({port:Ac.default.makeRange(3e3,3100)})));let l=new De(e,a),u;if(e.vite||(u=await l.build()),e.command=="build"){if(e.vite){let f=await import("vite"),h=Yr(Nt,["vite.config.ts","vite.config.js","vite.config.ts","vite.config.js","vite.config.server.js"]);await f.build({configFile:h,build:{rollupOptions:{input:t}}})}return}let c=async function(){e.name||(e.name=t);let f=new Jr(l,e);return e.vite&&await f.initVite(),f.start()};e.vite||u?.main?c():e.watch&&l.once("built",c)}var mP=St.program.storeOptionsAsProperties(!1).version(cP.version).name("imba");function Ic(t){return t.option("-o, --outdir <dir>","Directory to output files").option("-w, --watch","Continously build and watch project").option("-v, --verbose","verbosity (repeat to increase)",so.v,0).option("-s, --sourcemap","verbosity (repeat to increase)",so.v,0).option("-m, --minify","Minify generated files").option("-M, --no-minify","Disable minifying").option("-f, --force","Disregard previously cached outputs").option("-k, --keep","Keep existing files in output directory").option("-S, --no-sourcemap","Omit sourcemaps").option("-d, --development","Use defaults for development").option("-p, --production","Use defaults for production").option("--vite","Use Vite as a bundler for the server").option("--skipReloadingFor <glob>","Skip reloading server code for these globs (micromatch format)").option("--bundle","Try to bundle all external dependencies").option("--base <url>","Base url for your generated site","/").option("--web","Build entrypoints for the browser").option("--esm","Output module files")}Ic(St.program.command("run [script]",{isDefault:!0}).description("Imba")).option("-i, --instances [count]","Number of instances to start",so.i,1).option("--inspect","Debug").action(Cc);Ic(St.program.command("build <script>").description("Build an imba/js/html entrypoint and their dependencies")).option("--platform <platform>","Platform for entry","browser").action(Cc);Ic(St.program.command("serve <script>").description("Spawn a webserver for an imba/js/html entrypoint")).option("-i, --instances [count]","Number of instances to start",so.i,1).action(Cc);St.program.command("eject").description("Output the default vite config file to allow customizing it (no worries, you can delete and imba will use the default one)").option("-f, --force","Overwrite vite.config.server.js file when it exists").action(dP);St.program.command("test").description("Run tests: This is a wrapper on top of vitest").option("-h, --help","Display help (Link to https://vitest.dev/)").action(pP);St.program.command("create [name]").description("Create a new imba project").option("-t, --template [template]","Specify a template instead of selecting one interactively").option("-y, --yes","Say yes to any confirmation prompts").action(function(t,e){return(0,l_.default)(t,e.opts())});ls.ts("parse options");mP.parse(zt);
/*!
 * Tmp
 *
 * Copyright (c) 2011-2017 KARASZI Istvan <github@spam.raszi.hu>
 *
 * MIT Licensed
 */
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
