{"id":"fs","warnings":[],"errors":[],"js":"function iter$__(a){ let v; return a ? ((v=a.toIterable) ? v.call(a) : a) : a; };;\nfunction defineName$__(cls,name){\n\tObject.defineProperty(cls,\"name\",{value:name,configurable:true});\n};;\nfunction inheritClass$__(cls){\n\tObject.getPrototypeOf(cls.prototype).constructor?.inherited?.(cls);\n};\nconst $getSlot$ = Symbol.for('#getSlot'), $container$ = Symbol.for('#container'), $afterVisit$ = Symbol.for('#afterVisit'), $__init__$ = Symbol.for('#__init__'), $__patch__$ = Symbol.for('#__patch__'), $__initor__$ = Symbol.for('#__initor__'), $__inited__$ = Symbol.for('#__inited__'), $__hooks__$ = Symbol.for('#__hooks__'), $listeners$ = Symbol.for('#listeners'), $slot$ = Symbol.for('#slot'), $parent$ = Symbol.for('#parent'), $$container$ = Symbol.for('##container'), $domTarget$ = Symbol.for('#domTarget'), $insertInto$ = Symbol.for('#insertInto'), $removeFrom$ = Symbol.for('#removeFrom'), $teleport$ = Symbol.for('#teleport'), $self$ = Symbol.for('#self'), $target$ = Symbol.for('#target');\nvar $1 = Symbol();\n\n/*body*/\nimport {Element} from './core';\nimport {Component} from './component.imba';\nimport {createSlot} from './fragment';\n\nclass TeleportHook extends Component {\n\t[$__patch__$]($$ = {}){\n\t\tvar $2;\n\t\tsuper[$__patch__$] && super[$__patch__$]($$);\n\t\t($2 = $$.to) !== undefined && (this.to = $2);\n\t\t\n\t}\n\tconstructor(){\n\t\tsuper(...arguments);\n\t\tsuper[$__init__$] || this[$__init__$]();this[$__initor__$]===$1 && (this[$__hooks__$]&&this[$__hooks__$].inited(this),this[$__inited__$] && this[$__inited__$]());\n\t}\n\t[$__init__$]($$ = null,deep = true){\n\t\tdeep && super[$__init__$] && super[$__init__$](...arguments);\n\t\tthis.to = $$ ? $$.to : undefined;\n\t\t\n\t}\n\tbuild(){\n\t\t\n\t\tthis[$listeners$] = [];\n\t\tthis.win = globalThis;\n\t\treturn this.doc = globalThis.document;\n\t\t\n\t}\n\tsetup(){\n\t\t\n\t\treturn this.setAttribute('style',\"display:none !important;\");\n\t}\n\t\n\t[$getSlot$](name,ctx){\n\t\t\n\t\tthis[$slot$] ||= createSlot(0,this[$parent$]);\n\t\treturn this[$slot$];\n\t}\n\t\n\tget [$container$](){\n\t\t\n\t\t// FIXME the outer container is currently disabled\n\t\tif (!this[$$container$]) {\n\t\t\t\n\t\t\tlet classes = this.className;\n\t\t\tthis[$$container$] = this.doc.createElement('div');\n\t\t\tthis[$$container$].className = classes;\n\t\t\tthis[$$container$].style.cssText = \"display:contents !important;\";\n\t\t};\n\t\treturn this[$$container$];\n\t\t\n\t}\n\tget domTarget(){\n\t\t\n\t\treturn this[$domTarget$] ||= ((this.to instanceof Element) ? this.to : ((this.closest(this.to) || this.doc.querySelector(this.to))));\n\t\t\n\t}\n\tget eventTarget(){\n\t\t\n\t\treturn this.domTarget;\n\t\t\n\t}\n\tget style(){\n\t\t\n\t\treturn this[$$container$] ? this[$$container$].style : (super.style);\n\t}\n\t\n\tget classList(){\n\t\t\n\t\treturn this[$$container$] ? this[$$container$].classList : (super.classList);\n\t\t\n\t}\n\tget className(){\n\t\t\n\t\treturn this[$$container$] ? this[$$container$].className : (super.className);\n\t\t\n\t}\n\tset className(val){\n\t\t\n\t\tthis[$$container$] ? ((this[$$container$].className = val)) : (super.className = val);\n\t\t\n\t}\n\t[$afterVisit$](){\n\t\t\n\t\tif (this.mountedΦ && this[$slot$] && !(this[$slot$].parentNode)) {\n\t\t\t\n\t\t\treturn this[$slot$][$insertInto$](this.target);\n\t\t};\n\t}\n\t\n\tmount(){\n\t\t\n\t\tfor (let $3 = 0, $4 = iter$__(this[$listeners$]), $5 = $4.length; $3 < $5; $3++) {\n\t\t\tlet [name,handler,o] = $4[$3];\n\t\t\tthis.eventTarget.addEventListener(name,handler,o);\n\t\t};\n\t\t\n\t\tlet target = this.domTarget;\n\t\t\n\t\tif (this[$slot$]) {\n\t\t\t\n\t\t\tthis[$slot$][$insertInto$](target);\n\t\t};\n\t\treturn this;\n\t}\n\t\n\tunmount(){\n\t\t\n\t\tfor (let $6 = 0, $7 = iter$__(this[$listeners$]), $8 = $7.length; $6 < $8; $6++) {\n\t\t\tlet [name,handler,o] = $7[$6];\n\t\t\tthis.eventTarget.removeEventListener(name,handler,o);\n\t\t};\n\t\t\n\t\tif (this[$slot$]) {\n\t\t\t\n\t\t\tthis[$slot$][$removeFrom$](this.domTarget);\n\t\t};\n\t\t\n\t\tthis[$domTarget$] = null;\n\t\treturn this;\n\t\t\n\t}\n\taddEventListener(name,handler,o = {}){\n\t\t\n\t\thandler[$teleport$] = this;\n\t\thandler[$self$] = this;\n\t\t\n\t\tthis[$listeners$].push([name,handler,o]);\n\t\tif (this.mountedΦ && this.eventTarget?.addEventListener) {\n\t\t\t\n\t\t\treturn this.eventTarget.addEventListener(name,handler,o);\n\t\t};\n\t}\n\tstatic {\n\t\tthis.prototype[$__initor__$] = $1;defineName$__(this,'TeleportHook');inheritClass$__(this);}\n};\n\nclass GlobalHook extends TeleportHook {\n\t\n\t\n\tget domTarget(){\n\t\t\n\t\treturn this.doc.body;\n\t\t\n\t}\n\tget eventTarget(){\n\t\t\n\t\treturn this.win;\n\t\t\n\t}\n\taddEventListener(name,handler,o = {}){\n\t\t\n\t\thandler[$target$] = this.domTarget.parentNode;\n\t\treturn super.addEventListener(...arguments);\n\t\t\n\t}\n\ton$resize(mods,scope,handler,o){\n\t\t\n\t\tthis.addEventListener('resize',handler,o);\n\t\treturn handler;\n\t}\n\tstatic {\n\t\tdefineName$__(this,'GlobalHook');inheritClass$__(this);}\n};\nif (globalThis.customElements) {\n\t\n\tglobalThis.customElements.define('i-teleport',TeleportHook);\n\tglobalThis.customElements.define('i-global',GlobalHook);\n\t\n};\nexport function use_dom_teleport(){\n\t\n\treturn true;\n};\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVsZXBvcnQuaW1iYSIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInRlbGVwb3J0LmltYmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtFbGVtZW50fSBmcm9tICcuL2NvcmUnXG5pbXBvcnQge0NvbXBvbmVudH0gZnJvbSAnLi9jb21wb25lbnQuaW1iYSdcbmltcG9ydCB7Y3JlYXRlU2xvdH0gZnJvbSAnLi9mcmFnbWVudCdcblxuY2xhc3MgVGVsZXBvcnRIb29rIDwgQ29tcG9uZW50XG5cdHByb3AgdG9cblxuXHRkZWYgYnVpbGRcblx0XHQjbGlzdGVuZXJzID0gW11cblx0XHR3aW4gPSBnbG9iYWxcblx0XHRkb2MgPSBnbG9iYWwuZG9jdW1lbnRcblx0XHRcblx0ZGVmIHNldHVwXG5cdFx0c2V0QXR0cmlidXRlKCdzdHlsZScsXCJkaXNwbGF5Om5vbmUgIWltcG9ydGFudDtcIilcblxuXHRkZWYgI2dldFNsb3QgbmFtZSwgY3R4XG5cdFx0I3Nsb3QgfHw9IGNyZWF0ZVNsb3QoMCwjcGFyZW50KVxuXHRcdHJldHVybiAjc2xvdFxuXG5cdGdldCAjY29udGFpbmVyXG5cdFx0IyBGSVhNRSB0aGUgb3V0ZXIgY29udGFpbmVyIGlzIGN1cnJlbnRseSBkaXNhYmxlZFxuXHRcdHVubGVzcyAjI2NvbnRhaW5lclxuXHRcdFx0bGV0IGNsYXNzZXMgPSBzZWxmLmNsYXNzTmFtZVxuXHRcdFx0IyNjb250YWluZXIgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2Jylcblx0XHRcdCMjY29udGFpbmVyLmNsYXNzTmFtZSA9IGNsYXNzZXNcblx0XHRcdCMjY29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBcImRpc3BsYXk6Y29udGVudHMgIWltcG9ydGFudDtcIlxuXHRcdHJldHVybiAjI2NvbnRhaW5lclxuXHRcdFxuXHRnZXQgZG9tVGFyZ2V0XG5cdFx0I2RvbVRhcmdldCB8fD0gKHRvIGlzYSBFbGVtZW50ID8gdG8gOiAoc2VsZi5jbG9zZXN0KHRvKSBvciBkb2MucXVlcnlTZWxlY3Rvcih0bykpKVxuXHRcdFxuXHRnZXQgZXZlbnRUYXJnZXRcblx0XHRkb21UYXJnZXRcblx0XHRcblx0Z2V0IHN0eWxlXG5cdFx0IyNjb250YWluZXIgPyAjI2NvbnRhaW5lci5zdHlsZSA6IHN1cGVyXG5cblx0Z2V0IGNsYXNzTGlzdFxuXHRcdCMjY29udGFpbmVyID8gIyNjb250YWluZXIuY2xhc3NMaXN0IDogc3VwZXJcblx0XHRcblx0Z2V0IGNsYXNzTmFtZVxuXHRcdCMjY29udGFpbmVyID8gIyNjb250YWluZXIuY2xhc3NOYW1lIDogc3VwZXJcblx0XHRcblx0c2V0IGNsYXNzTmFtZSB2YWxcblx0XHQjI2NvbnRhaW5lciA/ICgjI2NvbnRhaW5lci5jbGFzc05hbWU9dmFsKSA6IHN1cGVyXG5cdFx0XG5cdGRlZiAjYWZ0ZXJWaXNpdFxuXHRcdGlmIG1vdW50ZWQ/IGFuZCAjc2xvdCBhbmQgISNzbG90LnBhcmVudE5vZGVcblx0XHRcdCNzbG90LiNpbnNlcnRJbnRvKHRhcmdldClcblxuXHRkZWYgbW91bnRcblx0XHRmb3IgW25hbWUsaGFuZGxlcixvXSBpbiAjbGlzdGVuZXJzXG5cdFx0XHRldmVudFRhcmdldC5hZGRFdmVudExpc3RlbmVyKG5hbWUsaGFuZGxlcixvKVxuXG5cdFx0bGV0IHRhcmdldCA9IGRvbVRhcmdldFxuXHRcdFxuXHRcdGlmICNzbG90XG5cdFx0XHQjc2xvdC4jaW5zZXJ0SW50byh0YXJnZXQpXG5cdFx0cmV0dXJuIHNlbGZcblxuXHRkZWYgdW5tb3VudFxuXHRcdGZvciBbbmFtZSxoYW5kbGVyLG9dIGluICNsaXN0ZW5lcnNcblx0XHRcdGV2ZW50VGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSxoYW5kbGVyLG8pXG5cdFx0XG5cdFx0aWYgI3Nsb3Rcblx0XHRcdCNzbG90LiNyZW1vdmVGcm9tKGRvbVRhcmdldClcblxuXHRcdCNkb21UYXJnZXQgPSBudWxsXG5cdFx0cmV0dXJuIHNlbGZcblx0XHRcblx0ZGVmIGFkZEV2ZW50TGlzdGVuZXIgbmFtZSwgaGFuZGxlciwgbyA9IHt9XG5cdFx0aGFuZGxlci4jdGVsZXBvcnQgPSBzZWxmXG5cdFx0aGFuZGxlci4jc2VsZiA9IHNlbGZcblx0XHRcblx0XHQjbGlzdGVuZXJzLnB1c2goW25hbWUsaGFuZGxlcixvXSlcblx0XHRpZiBtb3VudGVkPyBhbmQgZXZlbnRUYXJnZXQuLmFkZEV2ZW50TGlzdGVuZXJcblx0XHRcdGV2ZW50VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIobmFtZSxoYW5kbGVyLG8pXG5cdFx0XG5cbmNsYXNzIEdsb2JhbEhvb2sgPCBUZWxlcG9ydEhvb2tcblx0XG5cdGdldCBkb21UYXJnZXRcblx0XHRkb2MuYm9keVxuXHRcdFxuXHRnZXQgZXZlbnRUYXJnZXRcblx0XHR3aW5cblx0XHRcblx0ZGVmIGFkZEV2ZW50TGlzdGVuZXIgbmFtZSwgaGFuZGxlciwgbyA9IHt9XG5cdFx0aGFuZGxlci4jdGFyZ2V0ID0gZG9tVGFyZ2V0LnBhcmVudE5vZGVcblx0XHRzdXBlclxuXHRcdFxuXHRkZWYgb24kcmVzaXplIG1vZHMsc2NvcGUsIGhhbmRsZXIsIG9cblx0XHRzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsaGFuZGxlcixvKVxuXHRcdHJldHVybiBoYW5kbGVyXG5cdFxuaWYgZ2xvYmFsLmN1c3RvbUVsZW1lbnRzXG5cdGdsb2JhbC5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2ktdGVsZXBvcnQnLFRlbGVwb3J0SG9vaylcblx0Z2xvYmFsLmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnaS1nbG9iYWwnLEdsb2JhbEhvb2spXG5cdFxuZXhwb3J0IGRlZiB1c2VfZG9tX3RlbGVwb3J0XG5cdHllc1xuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUEsTUFBTSxFQUFFLE9BQU8sT0FBTyxRQUFRO0FBQzlCLE1BQU0sRUFBRSxTQUFTLE9BQU8sa0JBQWtCO0FBQzFDLE1BQU0sRUFBRSxVQUFVLE9BQU8sWUFBWTs7QUFFckMsS0FBSyxDQUFDLFlBQVksU0FBRyxT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","css":""}