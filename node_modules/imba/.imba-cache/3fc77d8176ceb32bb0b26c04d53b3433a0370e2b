{"id":"fu","warnings":[],"errors":[],"js":"\n/*body*/\nexport const navigator = new class {\n\t\n\t\n\tget iosÎ¦(){\n\t\t\n\t\tlet nav = globalThis.navigator.platform || '';\n\t\tif (nav.match(/iPhone|iPod|iPad/)) { return true };\n\t\tif (nav == 'MacIntel' && globalThis.navigator.maxTouchPoints > 2) { return true };\n\t\treturn false;\n\t}\n};\n\nexport function toElement(sel,source){\n\t\n\tlet el = source;\n\t\n\tif (sel instanceof Element) {\n\t\t\n\t\treturn sel;\n\t};\n\t\n\tif (typeof sel == 'string') {\n\t\t\n\t\tif (sel == 'this' || sel == '') {\n\t\t\t\n\t\t\treturn el;\n\t\t} else if (sel == 'up') {\n\t\t\t\n\t\t\treturn el.parentNode;\n\t\t} else if (sel == 'op') {\n\t\t\t\n\t\t\treturn el.offsetParent;\n\t\t} else {\n\t\t\t\n\t\t\treturn el.closest(sel) || el.querySelector(sel) || globalThis.document.querySelector(sel);\n\t\t};\n\t};\n\t\n\treturn null;\n};\n\nexport function parseDimension(val){\n\t\n\tif (typeof val == 'string') {\n\t\t\n\t\tlet [m,num,unit] = val.match(/^([-+]?[\\d\\.]+)(%|\\w+)$/);\n\t\treturn [parseFloat(num),unit];\n\t} else if (typeof val == 'number') {\n\t\t\n\t\treturn [val];\n\t};\n};\n\nexport function round(val,step = 1){\n\t\n\tlet inv = 1.0 / step;\n\treturn Math.round(val * inv) / inv;\n\t\n};\nexport function clamp(val,min,max){\n\t\n\tif (min > max) {\n\t\t\n\t\treturn Math.max(max,Math.min(min,val));\n\t} else {\n\t\t\n\t\treturn Math.min(max,Math.max(min,val));\n\t};\n};\n\nexport function createScale(a0,a1,b0r,b1r,s = 0.1){\n\t\n\tlet [b0,b0u] = parseDimension(b0r);\n\tlet [b1,b1u] = parseDimension(b1r);\n\tlet [sv,su] = parseDimension(s);\n\t\n\tif (b0u == '%') { b0 = (a1 - a0) * (b0 / 100) };\n\tif (b1u == '%') { b1 = (a1 - a0) * (b1 / 100) };\n\t\n\tif (su == '%') { sv = (b1 - b0) * (sv / 100) };\n\t\n\treturn function(value,fit) {\n\t\t\n\t\tlet pct = (value - a0) / (a1 - a0);\n\t\tlet val = b0 + (b1 - b0) * pct;\n\t\t// console.log 'scaling',value,[a0,a1],[b0,b1],s,val\n\t\tif (s) { val = round(val,sv) };\n\t\tif (fit) { val = clamp(val,b0,b1) };\n\t\treturn val;\n\t};\n};\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVscGVycy5pbWJhIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiaGVscGVycy5pbWJhIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBuYXZpZ2F0b3IgPSBuZXcgY2xhc3NcblxuXHRnZXQgaW9zP1xuXHRcdGxldCBuYXYgPSBnbG9iYWwubmF2aWdhdG9yLnBsYXRmb3JtIG9yICcnXG5cdFx0cmV0dXJuIHRydWUgaWYgbmF2Lm1hdGNoKC9pUGhvbmV8aVBvZHxpUGFkLylcblx0XHRyZXR1cm4gdHJ1ZSBpZiBuYXYgPT0gJ01hY0ludGVsJyBhbmQgZ2xvYmFsLm5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDJcblx0XHRyZXR1cm4gZmFsc2VcblxuZXhwb3J0IGRlZiB0b0VsZW1lbnQgc2VsLCBzb3VyY2Vcblx0bGV0IGVsID0gc291cmNlXG5cdFxuXHRpZiBzZWwgaXNhIEVsZW1lbnRcblx0XHRyZXR1cm4gc2VsXG5cblx0aWYgdHlwZW9mIHNlbCA9PSAnc3RyaW5nJ1xuXHRcdGlmIHNlbCA9PSAndGhpcycgb3Igc2VsID09ICcnXG5cdFx0XHRyZXR1cm4gZWxcblx0XHRlbGlmIHNlbCA9PSAndXAnXG5cdFx0XHRyZXR1cm4gZWwucGFyZW50Tm9kZVxuXHRcdGVsaWYgc2VsID09ICdvcCdcblx0XHRcdHJldHVybiBlbC5vZmZzZXRQYXJlbnRcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gZWwuY2xvc2VzdChzZWwpIG9yIGVsLnF1ZXJ5U2VsZWN0b3Ioc2VsKSBvciBnbG9iYWwuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWwpXG5cdFxuXHRyZXR1cm4gbnVsbFxuXG5leHBvcnQgZGVmIHBhcnNlRGltZW5zaW9uIHZhbFxuXHRpZiB0eXBlb2YgdmFsID09ICdzdHJpbmcnXG5cdFx0bGV0IFttLG51bSx1bml0XSA9IHZhbC5tYXRjaCgvXihbLStdP1tcXGRcXC5dKykoJXxcXHcrKSQvKVxuXHRcdHJldHVybiBbcGFyc2VGbG9hdChudW0pLHVuaXRdXG5cdGVsaWYgdHlwZW9mIHZhbCA9PSAnbnVtYmVyJ1xuXHRcdHJldHVybiBbdmFsXVxuXG5leHBvcnQgZGVmIHJvdW5kIHZhbCxzdGVwID0gMVxuXHRsZXQgaW52ID0gMS4wIC8gc3RlcFxuXHRNYXRoLnJvdW5kKHZhbCAqIGludikgLyBpbnZcblx0XG5leHBvcnQgZGVmIGNsYW1wIHZhbCxtaW4sbWF4XG5cdGlmIG1pbiA+IG1heFxuXHRcdE1hdGgubWF4KG1heCxNYXRoLm1pbihtaW4sdmFsKSlcblx0ZWxzZVxuXHRcdE1hdGgubWluKG1heCxNYXRoLm1heChtaW4sdmFsKSlcblxuZXhwb3J0IGRlZiBjcmVhdGVTY2FsZSBhMCxhMSxiMHIsYjFyLHMgPSAwLjFcblx0bGV0IFtiMCxiMHVdID0gcGFyc2VEaW1lbnNpb24oYjByKVxuXHRsZXQgW2IxLGIxdV0gPSBwYXJzZURpbWVuc2lvbihiMXIpXG5cdGxldCBbc3Ysc3VdID0gcGFyc2VEaW1lbnNpb24ocylcblx0XG5cdGIwID0gKGExIC0gYTApICogKGIwIC8gMTAwKSBpZiBiMHUgPT0gJyUnXG5cdGIxID0gKGExIC0gYTApICogKGIxIC8gMTAwKSBpZiBiMXUgPT0gJyUnXG5cdFxuXHRzdiA9IChiMSAtIGIwKSAqIChzdiAvIDEwMCkgaWYgc3UgPT0gJyUnXG5cdFxuXHRyZXR1cm4gZG8odmFsdWUsZml0KVxuXHRcdGxldCBwY3QgPSAodmFsdWUgLSBhMCkgLyAoYTEgLSBhMClcblx0XHRsZXQgdmFsID0gYjAgKyAoYjEgLSBiMCkgKiBwY3Rcblx0XHQjIGNvbnNvbGUubG9nICdzY2FsaW5nJyx2YWx1ZSxbYTAsYTFdLFtiMCxiMV0scyx2YWxcblx0XHR2YWwgPSByb3VuZCh2YWwsc3YpIGlmIHNcblx0XHR2YWwgPSBjbGFtcCh2YWwsYjAsYjEpIGlmIGZpdFxuXHRcdHJldHVybiB2YWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBYSxNQUFQLENBQU8sTUFBQSxTQUFTLEdBQU8sR0FBRCxDQUFDLEtBQUssRUFBQTs7O0NBRWpD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","css":""}