{"id":"df","warnings":[],"errors":[],"js":"function iter$__(a){ let v; return a ? ((v=a.toIterable) ? v.call(a) : a) : a; };;\nfunction defineName$__(cls,name){\n\tObject.defineProperty(cls,\"name\",{value:name,configurable:true});\n};\nconst $__init__$ = Symbol.for('#__init__'), $__patch__$ = Symbol.for('#__patch__'), $__initor__$ = Symbol.for('#__initor__'), $__inited__$ = Symbol.for('#__inited__'), $__hooks__$ = Symbol.for('#__hooks__'), $watchers$ = Symbol.for('#watchers');\n\n/*body*/\n// TODO Functions like this should be inlineable and not depend on the runtime\nimport {emit,listen} from './utils';\n\nexport function accessor(value,target,key,name,slot,context){\n\t\n\tif (value && (value.$accessor instanceof Function)) {\n\t\t\n\t\tvalue = value.$accessor(target,key,name,slot,context);\n\t} else {\n\t\t\n\t\t// cache this by default?\n\t\t// must implement custom .accessor method to bypass\n\t\tcontext[slot] = value;\n\t};\n\t\n\t// if accessor has no init method - forward to accessor.set\n\tif (value && !(value.$init)) {\n\t\t\n\t\tvalue.$init = value.$set || function() { return true; };\n\t};\n\treturn value;\n};\n\nexport function descriptor(context,value,args = []){\n\t\n\tif (value.prototype) { return new value(...args) };\n\treturn value.apply(context,args);\n};\n\n\nexport class Accessor {\n\t[$__patch__$]($$ = {}){\n\t\tvar $1;\n\t\t($1 = $$.local) !== undefined && (this.local = $1);\n\t\t($1 = $$.session) !== undefined && (this.session = $1);\n\t\t($1 = $$.weak) !== undefined && (this.weak = $1);\n\t\t\n\t}\n\tconstructor($$ = null){\n\t\tthis[$__init__$]($$);\n\t}\n\t[$__init__$]($$ = null,deep = true){\n\t\tvar $2;\n\t\tthis.local = ($$ && ($2 = $$.local) !== undefined) ? ($2) : false;\n\t\tthis.session = ($$ && ($2 = $$.session) !== undefined) ? ($2) : false;\n\t\tthis.weak = ($$ && ($2 = $$.weak) !== undefined) ? ($2) : false;\n\t\t\n\t}\n\t\n\t\n\t// Store in localStorage - if target has unique `id`\n\t\n\t\n\t// Store in sessionStorage - if target has unique `id`\n\t\n\t\n\t// Store in separate weakmap\n\t\n\t\n\twatch(cb){\n\t\t\n\t\treturn (this[$watchers$] ||= []).push(cb);\n\t}\n\t\n\t$get(target,key){\n\t\t\n\t\treturn target[key];\n\t}\n\t\n\t$set(value,target,key,name){\n\t\t\n\t\tif (this[$watchers$]) {\n\t\t\t\n\t\t\tlet prev = this.$get(target,key,name);\n\t\t\tif (prev != value) {\n\t\t\t\t\n\t\t\t\ttarget[key] = value;\n\t\t\t\tfor (let i = 0, $3 = iter$__(this[$watchers$]), $4 = $3.length; i < $4; i++) {\n\t\t\t\t\tlet watcher = $3[i];\n\t\t\t\t\tlet res = watcher.call(target,value,prev,this);\n\t\t\t\t};\n\t\t\t};\n\t\t} else {\n\t\t\t\n\t\t\ttarget[key] = value;\n\t\t};\n\t\treturn;\n\t}\n\t\n\t// by default we are caching the @prop descriptor\n\t// so that it is only created once for all instances of a class\n\t$accessor(target,key,name,slot,context){\n\t\t\n\t\t// finalize it now - or stay slow?\n\t\treturn context[slot] = this;\n\t}\n\tstatic {\n\t\tdefineName$__(this,'Accessor');}\n};\n\nexport function Î±prop(){\n\t\n\treturn new Accessor;\n};\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWNjZXNzb3JzLmltYmEiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJhY2Nlc3NvcnMuaW1iYSJdLCJzb3VyY2VzQ29udGVudCI6WyIjIFRPRE8gRnVuY3Rpb25zIGxpa2UgdGhpcyBzaG91bGQgYmUgaW5saW5lYWJsZSBhbmQgbm90IGRlcGVuZCBvbiB0aGUgcnVudGltZVxuaW1wb3J0IHtlbWl0LGxpc3Rlbn0gZnJvbSAnLi91dGlscydcblxuZXhwb3J0IGRlZiBhY2Nlc3NvciB2YWx1ZSwgdGFyZ2V0LCBrZXksIG5hbWUsIHNsb3QsIGNvbnRleHRcblx0aWYgdmFsdWUgYW5kIHZhbHVlLiRhY2Nlc3NvciBpc2EgRnVuY3Rpb25cblx0XHR2YWx1ZSA9IHZhbHVlLiRhY2Nlc3Nvcih0YXJnZXQsIGtleSwgbmFtZSwgc2xvdCwgY29udGV4dClcblx0ZWxzZVxuXHRcdCMgY2FjaGUgdGhpcyBieSBkZWZhdWx0P1xuXHRcdCMgbXVzdCBpbXBsZW1lbnQgY3VzdG9tIC5hY2Nlc3NvciBtZXRob2QgdG8gYnlwYXNzXG5cdFx0Y29udGV4dFtzbG90XSA9IHZhbHVlXG5cblx0IyBpZiBhY2Nlc3NvciBoYXMgbm8gaW5pdCBtZXRob2QgLSBmb3J3YXJkIHRvIGFjY2Vzc29yLnNldFxuXHRpZiB2YWx1ZSBhbmQgIXZhbHVlLiRpbml0XG5cdFx0dmFsdWUuJGluaXQgPSB2YWx1ZS4kc2V0IG9yIGRvIHllc1xuXHRyZXR1cm4gdmFsdWVcblxuZXhwb3J0IGRlZiBkZXNjcmlwdG9yIGNvbnRleHQsIHZhbHVlLCBhcmdzID0gW11cblx0cmV0dXJuIG5ldyB2YWx1ZSguLi5hcmdzKSBpZiB2YWx1ZS5wcm90b3R5cGUgXG5cdHJldHVybiB2YWx1ZS5hcHBseShjb250ZXh0LGFyZ3MpXG5cblxuZXhwb3J0IGNsYXNzIEFjY2Vzc29yXG5cdFxuXHQjIFN0b3JlIGluIGxvY2FsU3RvcmFnZSAtIGlmIHRhcmdldCBoYXMgdW5pcXVlIGBpZGBcblx0bG9jYWwgPSBub1xuXG5cdCMgU3RvcmUgaW4gc2Vzc2lvblN0b3JhZ2UgLSBpZiB0YXJnZXQgaGFzIHVuaXF1ZSBgaWRgXG5cdHNlc3Npb24gPSBub1xuXG5cdCMgU3RvcmUgaW4gc2VwYXJhdGUgd2Vha21hcFxuXHR3ZWFrID0gbm9cblxuXHRkZWYgd2F0Y2ggY2Jcblx0XHQoI3dhdGNoZXJzIHx8PSBbXSkucHVzaChjYilcblxuXHRkZWYgJGdldCB0YXJnZXQsIGtleVxuXHRcdHRhcmdldFtrZXldXG5cblx0ZGVmICRzZXQgdmFsdWUsIHRhcmdldCwga2V5LCBuYW1lXG5cdFx0aWYgI3dhdGNoZXJzXG5cdFx0XHRsZXQgcHJldiA9IHNlbGYuJGdldCh0YXJnZXQsa2V5LG5hbWUpXG5cdFx0XHRpZiBwcmV2ICE9IHZhbHVlXG5cdFx0XHRcdHRhcmdldFtrZXldID0gdmFsdWVcblx0XHRcdFx0Zm9yIHdhdGNoZXIsaSBpbiAjd2F0Y2hlcnNcblx0XHRcdFx0XHRsZXQgcmVzID0gd2F0Y2hlci5jYWxsKHRhcmdldCx2YWx1ZSxwcmV2LHNlbGYpXG5cdFx0ZWxzZVxuXHRcdFx0dGFyZ2V0W2tleV0gPSB2YWx1ZVxuXHRcdHJldHVyblxuXG5cdCMgYnkgZGVmYXVsdCB3ZSBhcmUgY2FjaGluZyB0aGUgQHByb3AgZGVzY3JpcHRvclxuXHQjIHNvIHRoYXQgaXQgaXMgb25seSBjcmVhdGVkIG9uY2UgZm9yIGFsbCBpbnN0YW5jZXMgb2YgYSBjbGFzc1xuXHRkZWYgJGFjY2Vzc29yIHRhcmdldCwga2V5LCBuYW1lLCBzbG90LCBjb250ZXh0XG5cdFx0IyBmaW5hbGl6ZSBpdCBub3cgLSBvciBzdGF5IHNsb3c/XG5cdFx0Y29udGV4dFtzbG90XSA9IHNlbGZcblxuZXhwb3J0IGRlZiBAcHJvcFxuXHRyZXR1cm4gbmV3IEFjY2Vzc29yIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQ0EsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNLE9BQU8sU0FBUzs7QUFFbkMsTUFBTSxDQUFDLFFBQUcsQ0FBQyxRQUFRLENBQUMsS0FBSyxD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","css":""}