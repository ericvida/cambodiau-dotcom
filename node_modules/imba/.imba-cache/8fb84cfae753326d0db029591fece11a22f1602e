{"id":"hs","warnings":[],"errors":[],"js":"const $insertInto$ = Symbol.for('#insertInto'), $removeFrom$ = Symbol.for('#removeFrom');\n\n/*body*/\nimport {renderContext,RenderContext} from './context';\nimport {scheduler} from '../scheduler';\n\nexport function render(blk,ctx = {}){\n\t\n\tlet prev = renderContext.context;\n\trenderContext.context = ctx;\n\tlet res = blk(ctx);\n\tif (renderContext.context == ctx) {\n\t\t\n\t\trenderContext.context = prev;\n\t};\n\treturn res;\n};\n\nexport function mount(mountable,into){\n\t\n\tif (false) {};\n\t\n\tlet parent = into || globalThis.document.body;\n\tlet element = mountable;\n\tif (mountable instanceof Function) {\n\t\t\n\t\tlet ctx = new RenderContext(parent,null);\n\t\tlet tick = function() {\n\t\t\t\n\t\t\tlet prev = renderContext.context;\n\t\t\trenderContext.context = ctx;\n\t\t\tlet res = mountable(ctx);\n\t\t\tif (renderContext.context == ctx) {\n\t\t\t\t\n\t\t\t\trenderContext.context = prev;\n\t\t\t};\n\t\t\treturn res;\n\t\t};\n\t\telement = tick();\n\t\t// TODO Allow unscheduling this?\n\t\tscheduler.listen('commit',tick);\n\t} else {\n\t\t\n\t\t// automatic scheduling of element\n\t\telement.__F |= 64;\n\t};\n\t\n\telement[$insertInto$](parent);\n\treturn element;\n};\n\nexport function unmount(el){\n\t\n\tif (el && el[$removeFrom$]) {\n\t\t\n\t\tel[$removeFrom$](el.parentNode);\n\t};\n\treturn el;\n\t\n};\nlet instance = globalThis.imba ||= {};\ninstance.mount = mount;\ninstance.unmount = unmount;\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW91bnQuaW1iYSIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIm1vdW50LmltYmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtyZW5kZXJDb250ZXh0LFJlbmRlckNvbnRleHR9IGZyb20gJy4vY29udGV4dCdcbmltcG9ydCB7c2NoZWR1bGVyfSBmcm9tICcuLi9zY2hlZHVsZXInXG5cbmV4cG9ydCBkZWYgcmVuZGVyIGJsaywgY3R4ID0ge31cblx0bGV0IHByZXYgPSByZW5kZXJDb250ZXh0LmNvbnRleHRcblx0cmVuZGVyQ29udGV4dC5jb250ZXh0ID0gY3R4XG5cdGxldCByZXMgPSBibGsoY3R4KVxuXHRpZiByZW5kZXJDb250ZXh0LmNvbnRleHQgPT0gY3R4XG5cdFx0cmVuZGVyQ29udGV4dC5jb250ZXh0ID0gcHJldlxuXHRyZXR1cm4gcmVzXG5cbmV4cG9ydCBkZWYgbW91bnQgbW91bnRhYmxlLCBpbnRvXG5cdGlmICRub2RlJFxuXHRcdGNvbnNvbGUuZXJyb3IgXCJpbWJhLm1vdW50IG5vdCBzdXBwb3J0ZWQgb24gc2VydmVyLlxcblRvIHNwYXduIGEgZGV2LXNlcnZlciBmb3IgYW4gaW1iYSBjbGllbnQgcnVuOlxcbiAgPiBpbWJhIHNlcnZlIG15LWltYmEtZmlsZS5pbWJhXCJcblx0XHQjIGlmIG1vdW50YWJsZSBpc2EgRnVuY3Rpb25cdFxuXHRcdCMgY29uc29sZS5sb2cgU3RyaW5nKG1vdW50YWJsZSlcblx0XHRyZXR1cm4gU3RyaW5nKG1vdW50YWJsZSlcblxuXHRsZXQgcGFyZW50ID0gaW50byBvciBnbG9iYWwuZG9jdW1lbnQuYm9keVxuXHRsZXQgZWxlbWVudCA9IG1vdW50YWJsZVxuXHRpZiBtb3VudGFibGUgaXNhIEZ1bmN0aW9uXG5cdFx0bGV0IGN0eCA9IG5ldyBSZW5kZXJDb250ZXh0KHBhcmVudCxudWxsKVxuXHRcdGxldCB0aWNrID0gZG9cblx0XHRcdGxldCBwcmV2ID0gcmVuZGVyQ29udGV4dC5jb250ZXh0XG5cdFx0XHRyZW5kZXJDb250ZXh0LmNvbnRleHQgPSBjdHhcblx0XHRcdGxldCByZXMgPSBtb3VudGFibGUoY3R4KVxuXHRcdFx0aWYgcmVuZGVyQ29udGV4dC5jb250ZXh0ID09IGN0eFxuXHRcdFx0XHRyZW5kZXJDb250ZXh0LmNvbnRleHQgPSBwcmV2XG5cdFx0XHRyZXR1cm4gcmVzXG5cdFx0ZWxlbWVudCA9IHRpY2soKVxuXHRcdCMgVE9ETyBBbGxvdyB1bnNjaGVkdWxpbmcgdGhpcz9cblx0XHRzY2hlZHVsZXIubGlzdGVuKCdjb21taXQnLHRpY2spXG5cdGVsc2Vcblx0XHQjIGF1dG9tYXRpYyBzY2hlZHVsaW5nIG9mIGVsZW1lbnRcblx0XHRlbGVtZW50Ll9fRiB8PSAkRUxfU0NIRURVTEUkXG5cblx0ZWxlbWVudC4jaW5zZXJ0SW50byhwYXJlbnQpXG5cdHJldHVybiBlbGVtZW50XG5cbmV4cG9ydCBkZWYgdW5tb3VudCBlbFxuXHRpZiBlbCBhbmQgZWwuI3JlbW92ZUZyb21cblx0XHRlbC4jcmVtb3ZlRnJvbShlbC5wYXJlbnROb2RlKVxuXHRyZXR1cm4gZWxcblx0XHRcbmxldCBpbnN0YW5jZSA9IGdsb2JhbC5pbWJhIHx8PSB7fVxuaW5zdGFuY2UubW91bnQgPSBtb3VudFxuaW5zdGFuY2UudW5tb3VudCA9IHVubW91bnQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsTUFBTSxFQUFFLGFBQWEsQ0FBQyxhQUFhLE9BQU8sV0FBVztBQUNyRCxNQUFNLEVBQUUsU0FBUyxPQUFPLGNBQWM7O0FBRXRDLE1BQU0sQ0FBQyxRQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBRSxHQUFHLEdBQUcsRUFBRSxDQUFBOztDQUMxQixJQUFBLElBQUksR0FBRyxhQUFhLENBQUMsT0FBTztDQUNoQyxhQUFhLENBQUMsT0FBTyxHQUFHLEdBQUc7Q0FDdkIsSUFBQSxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQztDQUNsQixFQUFFLEVBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFBOztFQUM5QixhQUFhLENBQUMsT0FBTyxHQUFHLElBQUk7RUFBQTtDQUM3QixNQUFNLENBQUMsR0FBRztDQUFBOztBQUVYLE1BQU0sQ0FBQyxRQUFHLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBRSxJQUFJLENBQUE7O0NBQy9CLEVBQUUsRUFBQyxLQUFNOztDQU1MLElBQUEsTUFBTSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsVUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJO0NBQ3JDLElBQUEsT0FBTyxHQUFHLFNBQVM7Q0FDdkIsRUFBRSxFQUFDLFNBQVMsWUFBSyxRQUFRLEVBQUE7O0VBQ3BCLElBQUEsR0FBRyxHQUFPLEdBQUQsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQztFQUNwQyxJQUFBLElBQUksR0FBRyxRQUFFLEdBQUE7O0dBQ1IsSUFBQSxJQUFJLEdBQUcsYUFBYSxDQUFDLE9BQU87R0FDaEMsYUFBYSxDQUFDLE9BQU8sR0FBRyxHQUFHO0dBQ3ZCLElBQUEsR0FBRyxHQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUM7R0FDeEIsRUFBRSxFQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBQTs7SUFDOUIsYUFBYSxDQUFDLE9BQU8sR0FBRyxJQUFJO0lBQUE7R0FDN0IsTUFBTSxDQUFDLEdBQUc7R0FBQTtFQUNYLE9BQU8sR0FBRyxJQUFJLEVBQUU7O0VBRWhCLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQztFQUFBLE1BQzVCOzs7RUFFSCxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFhO0VBQUE7O0NBRTdCLE9BQU8sY0FBWSxDQUFDLE1BQU0sQ0FBQztDQUMzQixNQUFNLENBQUMsT0FBTztDQUFBOztBQUVmLE1BQU0sQ0FBQyxRQUFHLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQTs7Q0FDcEIsRUFBRSxFQUFDLEVBQUUsQ0FBQyxFQUFHLENBQUMsRUFBRSxjQUFZLEVBQUE7O0VBQ3ZCLEVBQUUsY0FBWSxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUM7RUFBQTtDQUM5QixNQUFNLENBQUMsRUFBRTs7Q0FBQTtBQUVOLElBQUEsUUFBUSxHQUFHLFVBQU0sQ0FBQyxJQUFJLEtBQUssRUFBRTtBQUNqQyxRQUFRLENBQUMsS0FBSyxHQUFHLEtBQUs7QUFDdEIsUUFBUSxDQUFDLE9BQU8sR0FBRyxPQUFPO0FBQUE7In0=","css":""}