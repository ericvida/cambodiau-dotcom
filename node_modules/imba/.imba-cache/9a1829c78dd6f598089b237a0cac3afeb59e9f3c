{"id":"fz","warnings":[],"errors":[],"js":"function defineName$__(cls,name){\n\tObject.defineProperty(cls,\"name\",{value:name,configurable:true});\n};\nconst $getQueryParam$ = Symbol.for('#getQueryParam'), $setQueryParam$ = Symbol.for('#setQueryParam'), $__initor__$ = Symbol.for('#__initor__'), $__inited__$ = Symbol.for('#__inited__'), $__hooks__$ = Symbol.for('#__hooks__'), $query$ = Symbol.for('#query');\n\n/*body*/\n\nexport const ROUTES = {};\n\nexport class Location {\n\t\n\t\n\tstatic parse(url,router){\n\t\t\n\t\tif (url instanceof Location) {\n\t\t\t\n\t\t\treturn url;\n\t\t};\n\t\treturn new Location(url,router);\n\t}\n\t\n\tconstructor(url,router){\n\t\t\n\t\tthis.router = router;\n\t\tthis.parse(url);\n\t}\n\t\n\tparse(url){\n\t\tlet alias;\n\t\t\n\t\tif (!((url instanceof URL))) { url = new URL(url,this.router.origin) };\n\t\tif (alias = this.router?.aliases[url.pathname]) {\n\t\t\t\n\t\t\turl.pathname = alias;\n\t\t};\n\t\tthis.url = url;\n\t\treturn this;\n\t}\n\t\n\tget activeΦ(){\n\t\t\n\t\treturn this.router.location == this;\n\t}\n\t\n\treparse(){\n\t\t\n\t\treturn this.parse(this.url);\n\t\t\n\t}\n\t// should definitely add match here\n\tget searchParams(){\n\t\t\n\t\treturn this.url.searchParams;\n\t}\n\t\n\tsearch(){\n\t\t\n\t\tlet str = this.searchParams ? this.searchParams.toString() : '';\n\t\treturn str ? (('?' + str)) : '';\n\t\t\n\t}\n\tupdate(value){\n\t\t\n\t\tif (value instanceof Object) {\n\t\t\t\n\t\t\tfor (let $1 = 0, $2 = Object.keys(value), $3 = $2.length, k, v; $1 < $3; $1++){\n\t\t\t\tk = $2[$1];v = value[k];\n\t\t\t\tthis.searchParams.set(k,v);\n\t\t\t};\n\t\t} else if (typeof value == 'string') {\n\t\t\t\n\t\t\tthis.parse(value);\n\t\t};\n\t\treturn this;\n\t}\n\t\n\tclone(){\n\t\t\n\t\treturn new Location(this.url.href,this.router);\n\t\t\n\t}\n\tequals(other){\n\t\t\n\t\treturn this.toString() == String(other);\n\t}\n\t\n\tget href(){\n\t\t\n\t\treturn this.url.href;\n\t}\n\t\n\tget path(){\n\t\t\n\t\treturn this.url.href.slice(this.url.origin.length);\n\t}\n\t\n\tget pathname(){\n\t\t\n\t\treturn this.url.pathname;\n\t}\n\t\n\tget query(){\n\t\t\n\t\treturn this[$query$] ||= new Proxy({},{\n\t\t\tget: this[$getQueryParam$].bind(this),\n\t\t\tset: this[$setQueryParam$].bind(this)\n\t\t});\n\t\t\n\t}\n\ttoString(){\n\t\t\n\t\treturn this.href;\n\t}\n\t\n\t[$getQueryParam$](target,name){\n\t\t\n\t\treturn this.searchParams.get(name);\n\t}\n\t\n\t[$setQueryParam$](target,name,value){\n\t\t\n\t\tlet curr = this[$getQueryParam$](target,name);\n\t\tif (curr != value) {\n\t\t\t\n\t\t\t// console.log 'should set param',name,value,curr\n\t\t\tif ((value == null || value == '')) {\n\t\t\t\t\n\t\t\t\tthis.searchParams.delete(name);\n\t\t\t} else {\n\t\t\t\t\n\t\t\t\tthis.searchParams.set(name,value);\n\t\t\t};\n\t\t\t\n\t\t\tif (this.activeΦ) {\n\t\t\t\t\n\t\t\t\t// need to improve how we update the state?\n\t\t\t\tthis.router.history.replaceState({},null,this.url.toString());\n\t\t\t\tthis.router.touch();\n\t\t\t};\n\t\t};\n\t\treturn true;\n\t}\n\tstatic {\n\t\tdefineName$__(this,'Location');}\n};\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9jYXRpb24uaW1iYSIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImxvY2F0aW9uLmltYmEiXSwic291cmNlc0NvbnRlbnQiOlsiXG5leHBvcnQgY29uc3QgUk9VVEVTID0ge31cblxuZXhwb3J0IGNsYXNzIExvY2F0aW9uXG5cdFxuXHRzdGF0aWMgZGVmIHBhcnNlIHVybCwgcm91dGVyXG5cdFx0aWYgdXJsIGlzYSBMb2NhdGlvblxuXHRcdFx0cmV0dXJuIHVybFxuXHRcdHJldHVybiBuZXcgTG9jYXRpb24odXJsLHJvdXRlcilcblxuXHRkZWYgY29uc3RydWN0b3IgdXJsLCByb3V0ZXJcblx0XHRyb3V0ZXIgPSByb3V0ZXJcblx0XHRzZWxmLnBhcnNlKHVybClcblx0XG5cdGRlZiBwYXJzZSB1cmxcblx0XHR1cmwgPSBuZXcgVVJMKHVybCxyb3V0ZXIub3JpZ2luKSB1bmxlc3MgdXJsIGlzYSBVUkxcblx0XHRpZiBsZXQgYWxpYXMgPSByb3V0ZXIuLmFsaWFzZXNbdXJsLnBhdGhuYW1lXVxuXHRcdFx0dXJsLnBhdGhuYW1lID0gYWxpYXNcblx0XHRzZWxmLnVybCA9IHVybFxuXHRcdHNlbGZcblxuXHRnZXQgYWN0aXZlP1xuXHRcdHJvdXRlci5sb2NhdGlvbiA9PSBzZWxmXG5cblx0ZGVmIHJlcGFyc2Vcblx0XHRwYXJzZSh1cmwpXG5cdFx0XG5cdCMgc2hvdWxkIGRlZmluaXRlbHkgYWRkIG1hdGNoIGhlcmVcblx0Z2V0IHNlYXJjaFBhcmFtc1xuXHRcdHVybC5zZWFyY2hQYXJhbXNcblx0XG5cdGRlZiBzZWFyY2hcblx0XHRsZXQgc3RyID0gc2VhcmNoUGFyYW1zID8gc2VhcmNoUGFyYW1zLnRvU3RyaW5nKCkgOiAnJ1xuXHRcdHN0ciA/ICgnPycgKyBzdHIpIDogJydcblx0XHRcblx0ZGVmIHVwZGF0ZSB2YWx1ZVxuXHRcdGlmIHZhbHVlIGlzYSBPYmplY3Rcblx0XHRcdGZvciBvd24gayx2IG9mIHZhbHVlXG5cdFx0XHRcdHNlbGYuc2VhcmNoUGFyYW1zLnNldChrLHYpXG5cblx0XHRlbGlmIHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJ1xuXHRcdFx0c2VsZi5wYXJzZSh2YWx1ZSlcblx0XHRyZXR1cm4gc2VsZlxuXG5cdGRlZiBjbG9uZVxuXHRcdG5ldyBMb2NhdGlvbih1cmwuaHJlZixyb3V0ZXIpXG5cdFx0XG5cdGRlZiBlcXVhbHMgb3RoZXJcblx0XHRzZWxmLnRvU3RyaW5nKCkgPT0gU3RyaW5nKG90aGVyKVxuXHRcblx0Z2V0IGhyZWZcblx0XHR1cmwuaHJlZlxuXG5cdGdldCBwYXRoXG5cdFx0dXJsLmhyZWYuc2xpY2UodXJsLm9yaWdpbi5sZW5ndGgpXG5cblx0Z2V0IHBhdGhuYW1lXG5cdFx0dXJsLnBhdGhuYW1lXG5cblx0Z2V0IHF1ZXJ5XG5cdFx0I3F1ZXJ5IHx8PSBuZXcgUHJveHkoe30se1xuXHRcdFx0Z2V0OiAjZ2V0UXVlcnlQYXJhbS5iaW5kKHNlbGYpXG5cdFx0XHRzZXQ6ICNzZXRRdWVyeVBhcmFtLmJpbmQoc2VsZilcblx0XHR9KVxuXHRcdFxuXHRkZWYgdG9TdHJpbmdcblx0XHRocmVmXG5cblx0ZGVmICNnZXRRdWVyeVBhcmFtIHRhcmdldCwgbmFtZVxuXHRcdHNlYXJjaFBhcmFtcy5nZXQobmFtZSlcblxuXHRkZWYgI3NldFF1ZXJ5UGFyYW0gdGFyZ2V0LCBuYW1lLCB2YWx1ZVxuXHRcdGxldCBjdXJyID0gI2dldFF1ZXJ5UGFyYW0odGFyZ2V0LG5hbWUpXG5cdFx0aWYgY3VyciAhPSB2YWx1ZVxuXHRcdFx0IyBjb25zb2xlLmxvZyAnc2hvdWxkIHNldCBwYXJhbScsbmFtZSx2YWx1ZSxjdXJyXG5cdFx0XHRpZiAodmFsdWUgPT0gbnVsbCBvciB2YWx1ZSA9PSAnJylcblx0XHRcdFx0c2VhcmNoUGFyYW1zLmRlbGV0ZShuYW1lKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRzZWFyY2hQYXJhbXMuc2V0KG5hbWUsdmFsdWUpXG5cblx0XHRcdGlmIGFjdGl2ZT9cblx0XHRcdFx0IyBuZWVkIHRvIGltcHJvdmUgaG93IHdlIHVwZGF0ZSB0aGUgc3RhdGU/XG5cdFx0XHRcdHJvdXRlci5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7fSxudWxsLHVybC50b1N0cmluZyEpXG5cdFx0XHRcdHJvdXRlci50b3VjaCFcblx0XHRyZXR1cm4geWVzXG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNhLE1BQVAsQ0FBTyxNQUFBLE1BQU0sR0FBRyxFQUFFOztBQUV4QixNQUFNLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBQTs7O0NBRXBCLE1BQU0sQ0FBSyxLQUFLLENBQUMsR0FBRyxDQUFFLE1BQU0sQ0FBQTs7RUFDM0IsRUFBRSxFQUFDLEdBQUcsWUFBSyxRQUFRLEVBQUE7O0dBQ2xCLE1BQU0sQ0FBQyxHQUFHO0dBQUE7RUFDWCxNQUFNLENBQUssR0FBRCxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDO0VBQUE7O0NBRTVCLFdBQVcsQ0FBQyxHQUFHLENBQUUsTUFBTSxDQUFBOztPQUMxQixNQUFNLEdBQUcsTUFBTTtFQUNmLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDO0VBQUE7O0NBRVosS0FBSyxDQUFDLEdBQUcsQ0FBQTs7O0VBQ3FCLEVBQU0sRUFBQyxFQUFBLENBQUEsR0FBRyxZQUFLLEdBQUcsSUFBbkQsRUFBQSxHQUFHLEdBQU8sR0FBRCxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsS0FBQSxNQUFNLENBQUMsTUFBTSxDQUFDO0VBQ2hDLEVBQUUsRUFBSyxLQUFLLEdBQUcsS0FBQSxNQUFNLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUEsRUFBQzs7R0FDM0MsR0FBRyxDQUFDLFFBQVEsR0FBRyxLQUFLO0dBQUE7RUFDckIsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHO0VBQ2QsT0FBQSxJQUFJO0VBQUE7O0NBRUwsR0FBRyxDQUFDLE9BQU8sRUFBQTs7RUFDVixPQUFBLEtBQUEsTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSTtFQUFBOztDQUVwQixPQUFPLEVBQUE7O1NBQ1YsS0FBQSxLQUFLLENBQUMsS0FBQSxHQUFHLENBQUM7O0VBQUE7O0NBR1gsR0FBRyxDQUFDLFlBQVksRUFBQTs7RUFDZixPQUFBLEtBQUEsR0FBRyxDQUFDLFlBQVk7RUFBQTs7Q0FFYixNQUFNLEVBQUE7O0VBQ0wsSUFBQSxHQUFHLEdBQUcsS0FBQSxZQUFZLEdBQUcsS0FBQSxZQUFZLENBQUMsUUFBUSxFQUFFLEdBQUcsRUFBRTtTQUNyRCxHQUFHLElBQUksQ0FBQSxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSSxFQUFFOztFQUFBO0NBRW5CLE1BQU0sQ0FBQyxLQUFLLENBQUE7O0VBQ2YsRUFBRSxFQUFDLEtBQUssWUFBSyxNQUFNLEVBQUE7O0dBQ2xCLEdBQUcsMkVBQWlCOztJQUNuQixJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQUE7R0FBQSxNQUU1QixFQUFBLEVBQVksT0FBQSxLQUFLLENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBQTs7R0FDNUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7R0FBQTtFQUNsQixNQUFNLENBQUMsSUFBSTtFQUFBOztDQUVSLEtBQUssRUFBQTs7RUFDSixPQUFBLEdBQUQsQ0FBQyxRQUFRLENBQUMsS0FBQSxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUEsTUFBTSxDQUFDOztFQUFBO0NBRTFCLE1BQU0sQ0FBQyxLQUFLLENBQUE7O0VBQ2YsT0FBQSxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7RUFBQTs7Q0FFakMsR0FBRyxDQUFDLElBQUksRUFBQTs7RUFDUCxPQUFBLEtBQUEsR0FBRyxDQUFDLElBQUk7RUFBQTs7Q0FFVCxHQUFHLENBQUMsSUFBSSxFQUFBOztFQUNQLE9BQUEsS0FBQSxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFBLEdBQUcsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDO0VBQUE7O0NBRWxDLEdBQUcsQ0FBQyxRQUFRLEVBQUE7O0VBQ1gsT0FBQSxLQUFBLEdBQUcsQ0FBQyxRQUFRO0VBQUE7O0NBRWIsR0FBRyxDQUFDLEtBQUssRUFBQTs7c0JBQ0YsS0FBUyxHQUFELENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQztHQUN2QixHQUFHLHVCQUFnQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7R0FDOUIsR0FBRyx1QkFBZ0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO0dBQzlCLENBQUM7O0VBQUE7Q0FFQyxRQUFRLEVBQUE7O0VBQ1gsT0FBQSxLQUFBLElBQUk7RUFBQTs7bUJBRWMsTUFBTSxDQUFFLElBQUksQ0FBQTs7RUFDOUIsT0FBQSxLQUFBLFlBQVksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDO0VBQUE7O21CQUVKLE1BQU0sQ0FBRSxJQUFJLENBQUUsS0FBSyxDQUFBOztFQUNqQyxJQUFBLElBQUksd0JBQWlCLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQztFQUN0QyxFQUFFLEVBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUE7OztHQUVmLEVBQUUsRUFBRSxDQUFBLEtBQUssQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBQzs7SUFDaEMsS0FBQSxZQUFZLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQztJQUFBLE1BQ3RCOztJQUNILEtBQUEsWUFBWSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQUE7O0dBRTdCLEVBQUUsRUFBQyxLQUFBLE9BQU8sRUFBQTs7O0lBRVQsS0FBQSxNQUFNLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUEsR0FBRyxDQUFDLFFBQVEsRUFBQyxDQUFDO0lBQ2xELEtBQUEsTUFBTSxDQUFDLEtBQUssRUFBQztJQUFBO0dBQUE7RUFDZixNQUFNLENBQUMsSUFBRztFQUFBOzs7QUFBQSxDQUFBO0FBQ1o7In0=","css":""}