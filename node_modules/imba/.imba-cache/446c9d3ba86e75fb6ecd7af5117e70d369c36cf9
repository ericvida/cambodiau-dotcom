{"id":"db","warnings":[],"errors":[],"js":"function defineName$__(cls,name){\n\tObject.defineProperty(cls,\"name\",{value:name,configurable:true});\n};;\nfunction extend$__(target,ext){\n\t// @ts-ignore\n\tconst descriptors = Object.getOwnPropertyDescriptors(ext);\n\tdelete descriptors.constructor;\n\t// @ts-ignore\n\tObject.defineProperties(target,descriptors);\n\treturn target;\n};\n\n/*body*/\nimport {Event,CustomEvent,Element} from '../dom/core';\n\nexport function use_events_selection(){\n\t\n\treturn true;\n};\n\nlet selHandler;\nlet handledSym = Symbol();\n\nfunction activateSelectionHandler(){\n\t\n\tif (!(selHandler)) {\n\t\t\n\t\tselHandler = function(e) {\n\t\t\t\n\t\t\tif (e[handledSym]) { return };\n\t\t\te[handledSym] = true;\n\t\t\t\n\t\t\tlet target = globalThis.document.activeElement;\n\t\t\tif (target && target.matches('input,textarea')) {\n\t\t\t\t\n\t\t\t\tlet custom = new CustomEvent('selection',{\n\t\t\t\t\tdetail: {\n\t\t\t\t\t\tstart: target.selectionStart,\n\t\t\t\t\t\tend: target.selectionEnd\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn target.dispatchEvent(custom);\n\t\t\t};\n\t\t};\n\t\treturn globalThis.document.addEventListener('selectionchange',selHandler);\n\t};\n};\n\nclass ΩElement {\n\t\n\ton$selection(mods,context,handler,o){\n\t\t\n\t\tactivateSelectionHandler();\n\t\tthis.addEventListener('selection',handler,o);\n\t\treturn handler;\n\t}\n\tstatic {\n\t\tdefineName$__(this,'Element');}\n};\nextend$__(Element.prototype,ΩElement.prototype);\n;\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VsZWN0aW9uLmltYmEiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJzZWxlY3Rpb24uaW1iYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0V2ZW50LEN1c3RvbUV2ZW50LEVsZW1lbnR9IGZyb20gJy4uL2RvbS9jb3JlJ1xuXG5leHBvcnQgZGVmIHVzZV9ldmVudHNfc2VsZWN0aW9uXG5cdHllc1xuXG5sZXQgc2VsSGFuZGxlclxubGV0IGhhbmRsZWRTeW0gPSBTeW1ib2whXG5cbmRlZiBhY3RpdmF0ZVNlbGVjdGlvbkhhbmRsZXJcblx0dW5sZXNzIHNlbEhhbmRsZXJcblx0XHRzZWxIYW5kbGVyID0gZG8oZSlcblx0XHRcdHJldHVybiBpZiBlW2hhbmRsZWRTeW1dXG5cdFx0XHRlW2hhbmRsZWRTeW1dID0geWVzXG5cdFx0XHRcblx0XHRcdGxldCB0YXJnZXQgPSBnbG9iYWwuZG9jdW1lbnQuYWN0aXZlRWxlbWVudFxuXHRcdFx0aWYgdGFyZ2V0IGFuZCB0YXJnZXQubWF0Y2hlcygnaW5wdXQsdGV4dGFyZWEnKVxuXHRcdFx0XHRsZXQgY3VzdG9tID0gbmV3IEN1c3RvbUV2ZW50KCdzZWxlY3Rpb24nLHtcblx0XHRcdFx0XHRkZXRhaWw6IHtcblx0XHRcdFx0XHRcdHN0YXJ0OiB0YXJnZXQuc2VsZWN0aW9uU3RhcnRcblx0XHRcdFx0XHRcdGVuZDogdGFyZ2V0LnNlbGVjdGlvbkVuZFxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSlcblx0XHRcdFx0dGFyZ2V0LmRpc3BhdGNoRXZlbnQoY3VzdG9tKVxuXHRcdGdsb2JhbC5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzZWxlY3Rpb25jaGFuZ2UnLHNlbEhhbmRsZXIpXG5cbmV4dGVuZCBjbGFzcyBFbGVtZW50XG5cdGRlZiBvbiRzZWxlY3Rpb24gbW9kcywgY29udGV4dCwgaGFuZGxlcixvXG5cdFx0YWN0aXZhdGVTZWxlY3Rpb25IYW5kbGVyKClcblx0XHRzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdGlvbicsaGFuZGxlcixvKVxuXHRcdHJldHVybiBoYW5kbGVyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQSxNQUFNLEVBQUUsS0FBSyxDQUFDLFdBQVcsQ0FBQyxPQUFPLE9BQU8sYUFBYTs7QUFFckQsTUFBTSxDQUFDLFFBQUcsQ0FBQyxvQkFBb0IsRUFBQTs7Q0FDOUIsT0FBQSxJQUFHO0NBQUE7O0FBRUEsSUFBQSxVQUFVO0FBQ1YsSUFBQSxVQUFVLEdBQUcsTUFBTSxFQUFDOztBQUV4QixRQUFHLENBQUMsd0JBQXdCLEVBQUE7O0NBQzNCLEVBQU0sRUFBQyxFQUFBLFVBQVUsR0FBQTs7RUFDaEIsVUFBVSxHQUFHLFFBQUUsQ0FBQyxDQUFDLEVBQUM7O0dBQ1YsRUFBRSxFQUFDLENBQUMsQ0FBQyxVQUFVLENBQUEsRUFBdEIsRUFBQSxNQUFNO0dBQ04sQ0FBQyxDQUFDLFVBQVUsQ0FBQSxHQUFJLElBQUc7O0dBRWYsSUFBQSxNQUFNLEdBQUcsVUFBTSxDQUFDLFFBQVEsQ0FBQyxhQUFhO0dBQzFDLEVBQUUsRUFBQyxNQUFNLENBQUMsRUFBRyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsRUFBQTs7SUFDekMsSUFBQSxNQUFNLEdBQU8sR0FBRCxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUM7S0FDeEMsTUFBTSxFQUFFO01BQ1AsS0FBSyxFQUFFLE1BQU0sQ0FBQyxjQUFjO01BQzVCLEdBQUcsRUFBRSxNQUFNLENBQUMsWUFBWTtNQUN4QjtLQUNELENBQUM7SUFDRixPQUFBLE1BQU0sQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDO0lBQUE7R0FBQTtFQUM5QixPQUFBLFVBQU0sQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsaUJBQWlCLENBQUMsVUFBVSxDQUFDO0VBQUE7Q0FBQTs7QUFFekQsS0FBSyxDQUFDLFFBQU8sRUFBQTs7Q0FDZixZQUFZLENBQUMsSUFBSSxDQUFFLE9BQU8sQ0FBRSxPQUFPLENBQUMsQ0FBQyxDQUFBOztFQUN4Qyx3QkFBd0IsRUFBRTtFQUMxQixJQUFJLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7RUFDNUMsTUFBTSxDQUFDLE9BQU87RUFBQTs7O0FBQUE7VUFKSCxPQUFPO0FBSUo7QUFBQTsifQ==","css":""}